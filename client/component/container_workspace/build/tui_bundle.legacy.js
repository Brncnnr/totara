/*! For license information please see tui_bundle.legacy.js.LICENSE.txt */
!function(){var e={Hbkp:function(e,i,n){var a={"./action/WorkspaceMuteButton":"6fZ+","./action/WorkspaceMuteButton.vue":"6fZ+","./action/WorkspacePrimaryAction":"NdDM","./action/WorkspacePrimaryAction.vue":"NdDM","./adder/WorkspaceUserAdder":"DOqE","./adder/WorkspaceUserAdder.vue":"DOqE","./card/DiscussionCard":"Soav","./card/DiscussionCard.vue":"Soav","./card/DiscussionContentResultCard":"9E8Z","./card/DiscussionContentResultCard.vue":"9E8Z","./card/DiscussionWithCommentCard":"rQsa","./card/DiscussionWithCommentCard.vue":"rQsa","./card/MemberRequestCard":"M5M4","./card/MemberRequestCard.vue":"M5M4","./card/OriginalSpaceCard":"Hf1z","./card/OriginalSpaceCard.vue":"Hf1z","./card/WorkspaceContributeCard":"rSjI","./card/WorkspaceContributeCard.vue":"rSjI","./card/WorkspaceMemberCard":"8MKu","./card/WorkspaceMemberCard.vue":"8MKu","./content/WorkspaceContentLayout":"Nr/3","./content/WorkspaceContentLayout.vue":"Nr/3","./content/WorkspaceMemberRequestList":"zCEi","./content/WorkspaceMemberRequestList.vue":"zCEi","./content/tabs/WorkspaceAudiencesTab":"W2b9","./content/tabs/WorkspaceAudiencesTab.vue":"W2b9","./content/tabs/WorkspaceDiscussionTab":"N4R8","./content/tabs/WorkspaceDiscussionTab.vue":"N4R8","./content/tabs/WorkspaceLibraryTab":"BSTz","./content/tabs/WorkspaceLibraryTab.vue":"BSTz","./content/tabs/WorkspaceMembersTab":"WMW2","./content/tabs/WorkspaceMembersTab.vue":"WMW2","./contribution/Share":"C0e5","./contribution/Share.vue":"C0e5","./create/ContributeWorkspace":"N7Wc","./create/ContributeWorkspace.vue":"N7Wc","./filter/DiscussionFilter":"CBSO","./filter/DiscussionFilter.vue":"CBSO","./filter/WorkspaceFileFilter":"zuuX","./filter/WorkspaceFileFilter.vue":"zuuX","./filter/WorkspaceFilter":"hGh6","./filter/WorkspaceFilter.vue":"hGh6","./form/EditPostDiscussionForm":"EBUK","./form/EditPostDiscussionForm.vue":"EBUK","./form/PostDiscussionForm":"LHzC","./form/PostDiscussionForm.vue":"LHzC","./form/WorkspaceDiscussionForm":"f7y+","./form/WorkspaceDiscussionForm.vue":"f7y+","./form/WorkspaceForm":"kmIX","./form/WorkspaceForm.vue":"kmIX","./form/WorkspaceTransferOwnerForm":"k04r","./form/WorkspaceTransferOwnerForm.vue":"k04r","./form/upload/SpaceImagePicker":"f61n","./form/upload/SpaceImagePicker.vue":"f61n","./grid/SpaceCardsGrid":"KIt/","./grid/SpaceCardsGrid.vue":"KIt/","./head/EmptySpacesHeader":"hHhu","./head/EmptySpacesHeader.vue":"hHhu","./head/WorkspaceFileHeader":"g9vM","./head/WorkspaceFileHeader.vue":"g9vM","./head/WorkspacePageHeader":"//j7","./head/WorkspacePageHeader.vue":"//j7","./modal/WorkspaceAccessModal":"jVf4","./modal/WorkspaceAccessModal.vue":"jVf4","./modal/WorkspaceEditModal":"sd4I","./modal/WorkspaceEditModal.vue":"sd4I","./modal/WorkspaceFileViewModal":"Mz2p","./modal/WorkspaceFileViewModal.vue":"Mz2p","./modal/WorkspaceModal":"9ADA","./modal/WorkspaceModal.vue":"9ADA","./modal/WorkspaceRequestModal":"HsPK","./modal/WorkspaceRequestModal.vue":"HsPK","./modal/WorkspaceTransferOwnerModal":"4bnZ","./modal/WorkspaceTransferOwnerModal.vue":"4bnZ","./modal/WorkspaceWarningModal":"NOyr","./modal/WorkspaceWarningModal.vue":"NOyr","./profile/DiscussionAvatar":"UxpZ","./profile/DiscussionAvatar.vue":"UxpZ","./profile/PostAvatar":"m8En","./profile/PostAvatar.vue":"m8En","./recommend/RecommendedSpaces":"FZka","./recommend/RecommendedSpaces.vue":"FZka","./sidepanel/WorkspaceControlMenu":"8E4j","./sidepanel/WorkspaceControlMenu.vue":"8E4j","./sidepanel/WorkspaceDescription":"qbFC","./sidepanel/WorkspaceDescription.vue":"qbFC","./sidepanel/WorkspaceMenu":"Kt3r","./sidepanel/WorkspaceMenu.vue":"Kt3r","./table/WorkspaceFileTable":"Hfli","./table/WorkspaceFileTable.vue":"Hfli"};function t(e){var i=r(e);return n(i)}function r(e){if(!n.o(a,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return a[e]}t.keys=function(){return Object.keys(a)},t.resolve=r,e.exports=t,t.id="Hbkp"},hgwN:function(e,i,n){var a={".":"1y7x","./":"1y7x","./access":"dGVW","./access.js":"dGVW","./grid/grid":"yljf","./grid/grid.js":"yljf","./index":"1y7x","./index.js":"1y7x","./mixins/virtual_scroll_mixin":"+mol","./mixins/virtual_scroll_mixin.js":"+mol"};function t(e){var i=r(e);return n(i)}function r(e){if(!n.o(a,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return a[e]}t.keys=function(){return Object.keys(a)},t.resolve=r,e.exports=t,t.id="hgwN"},HupZ:function(e,i,n){var a={"./EmptySpacesPage":"DEWF","./EmptySpacesPage.vue":"DEWF","./SpacesPage":"XwbI","./SpacesPage.vue":"XwbI","./WorkspaceDiscussionPage":"kO+b","./WorkspaceDiscussionPage.vue":"kO+b","./WorkspaceEmptyPage":"q38/","./WorkspaceEmptyPage.vue":"q38/","./WorkspaceFilePage":"pE3Y","./WorkspaceFilePage.vue":"pE3Y","./WorkspacePage":"lB4C","./WorkspacePage.vue":"lB4C"};function t(e){var i=r(e);return n(i)}function r(e){if(!n.o(a,e)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return a[e]}t.keys=function(){return Object.keys(a)},t.resolve=r,e.exports=t,t.id="HupZ"},"0G8i":function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_cancel_member_request"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member_request"},name:{kind:"Name",value:"container_workspace_cancel_member_request"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_accepted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_declined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]}}]}},XjW4:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_files"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_file_sort"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extension"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_alphanum"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_file_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"extension"},value:{kind:"Variable",name:{kind:"Name",value:"extension"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"files"},name:{kind:"Name",value:"container_workspace_files"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"extension"},value:{kind:"Variable",name:{kind:"Name",value:"extension"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_size"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"date"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"author"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"alt_text"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"download_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"mimetype"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"file_type"},arguments:[],directives:[]}]}}]}}]}},Jpbg:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_workspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_audiences"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"suspended"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_add_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_leave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cannot_leave_reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_transfer_ownership"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_add_audiences"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_seen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]}},ww5Q:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_join_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member"},name:{kind:"Name",value:"container_workspace_join"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]}}]}},YlTN:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_leave_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member"},name:{kind:"Name",value:"container_workspace_leave"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"member_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_remove"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"time_joined"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]}]}}]}}]}},"SO+Z":function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_mute_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_switch_notification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"OFF"}}],directives:[]}]}}]}},"oz+W":function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_my_workspace_urls"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspaces"},name:{kind:"Name",value:"container_workspace_workspaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"EnumValue",value:"MEMBER_AND_OWNED"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"RECENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_seen"},arguments:[],directives:[]}]}}]}}]}}]}},"/22Z":function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_notifications"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"notifications"},name:{kind:"Name",value:"container_workspace_notifications"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}},XbJP:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_request_to_join"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"request_content"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member_request"},name:{kind:"Name",value:"container_workspace_create_member_request"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"request_content"},value:{kind:"Variable",name:{kind:"Name",value:"request_content"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_declined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_accepted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]}}]}},LpxU:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_unmute_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_switch_notification"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"ON"}}],directives:[]}]}}]}},pIrf:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_category_interactor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"category_interactor"},name:{kind:"Name",value:"container_workspace_workspace_category_interactor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_public"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_private"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_hidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}},SX5B:function(e,i){"use strict";i.Z={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_interactor"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"interactor"},name:{kind:"Name",value:"container_workspace_workspace_interactor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_add_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_leave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cannot_leave_reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_transfer_ownership"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_add_audiences"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_seen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]}},"6fZ+":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return m}});var a=n("1+j7"),t=n.n(a),r=tui.require("tui/components/icons/Notification"),s=n.n(r),o=tui.require("tui/components/icons/NotificationDisabled"),d=n.n(o),c={components:{ButtonIcon:t(),Notification:s(),NotificationDisabled:d()},props:{muted:{type:Boolean,required:!0}},computed:{buttonAriaLabel:function(){return this.muted?this.$str("unmute_workspace","container_workspace"):this.$str("mute_workspace","container_workspace")}}},l=function(e){e.options.__langStrings={container_workspace:["mute_workspace","unmute_workspace"]}},u=(0,n("wWJ2").Z)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("ButtonIcon",{attrs:{"aria-label":e.buttonAriaLabel,styleclass:{transparentNoPadding:!0}},on:{click:function(i){return i.preventDefault(),e.$emit("update",!e.muted)}}},[e.muted?n("NotificationDisabled"):n("Notification")],1)}),[],!1,null,null,null);l(u),u.options.__hasBlocks={script:!0,template:!0};var m=u.exports},NdDM:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return R}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=tui.require("tui/components/adder/IndividualAdder"),o=n.n(s),d=n("IpiT"),c=n.n(d),l=n("3NWB"),u=n.n(l),m=n("6e83"),k=n.n(m),p=n("3Uz/"),v=n.n(p),_=n("3h9w"),f=n.n(_),g=n("EJOt"),w=n.n(g),b=n("dFRL"),N=n.n(b),h=tui.require("container_workspace/components/modal/WorkspaceEditModal"),y=n.n(h),F=n("zNee"),S=n.n(F),x=tui.require("container_workspace/components/modal/WorkspaceTransferOwnerModal"),C=n.n(x),q=n("SX5B"),V=n("ww5Q"),D=n("YlTN"),$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_delete_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_delete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[]}]}}]},A=n("XbJP"),I=n("0G8i"),T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_add_members"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_ids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"members"},name:{kind:"Name",value:"container_workspace_add_members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_ids"},value:{kind:"Variable",name:{kind:"Name",value:"user_ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_remove"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"time_joined"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]}]}}]}}]},M=n("SO+Z"),W=n("LpxU"),B={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_non_members"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_user_query"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"container_workspace_non_members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]},P=n("puuV"),E={components:{IndividualAdder:o(),Button:c(),Dropdown:u(),DropdownItem:k(),ConfirmationModal:v(),InformationModal:f(),ModalPresenter:w(),LoadingButton:N(),WorkspaceEditModal:y(),WorkspaceRequestModal:S(),WorkspaceTransferOwnerModal:C()},props:{workspaceId:{type:[String,Number],required:!0},workspaceName:{type:String,required:!0},workspaceAccess:{type:String,required:!0,validator:function(e){return[P.PUBLIC,P.HIDDEN,P.PRIVATE].includes(e)}},workspaceContextId:{type:Number},workspaceInteractor:{type:Object,required:!0}},apollo:{fetchedInteractor:{query:q.Z,context:{batch:!0},variables:function(){return{workspace_id:this.workspaceId}},skip:function(){return!!this.workspaceInteractor},update:function(e){return e.interactor}}},data:function(){return{innerSubmitting:!1,deleting:!1,leaving:!1,modal:{audienceAdder:!1,confirmAudienceAdderSelection:!1,leaveConfirm:!1,deleteConfirm:!1,edit:!1,adder:!1,transferOwner:!1,requestJoin:!1},audiencesToAdd:[],usersFromAudiencesToAdd:null,isAddingAudiences:!1,isRequestingAudiencesToAdd:!1,isSaving:!1,nonMemberQuery:B,nonMemberQueryKey:"container_workspace_non_members",showingAudienceAdder:!1,addingAudiences:!1,preparingAdder:!1,currentAudienceIds:[],showLeaveFailGroup:!1}},computed:{interactor:function(){return this.workspaceInteractor||this.fetchedInteractor||{}},getLeaveMessage:function(){return this.workspaceAccess===P.PUBLIC?this.$str("leave_workspace_message","container_workspace"):this.$str("leave_workspace_message_not_public","container_workspace")}},methods:{individualQueryFilters:function(){return{workspace_id:this.workspaceId}},joinWorkspace:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.innerSubmitting){i.next=2;break}return i.abrupt("return");case 2:return e.innerSubmitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:V.Z,refetchAll:!0,variables:{workspace_id:e.workspaceId}});case 6:e.$emit("join-workspace");case 7:return i.prev=7,e.innerSubmitting=!1,i.finish(7);case 10:case"end":return i.stop()}}),i,null,[[3,,7,10]])})))()},leaveWorkspace:function(){var e=this;return(0,a.Z)(r().mark((function i(){var n,a;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.leaving=!0,!e.innerSubmitting){i.next=3;break}return i.abrupt("return");case 3:return e.innerSubmitting=!0,i.prev=4,i.next=7,e.$apollo.mutate({mutation:D.Z,refetchAll:!0,variables:{workspace_id:e.workspaceId}});case 7:n=i.sent,a=n.data.member,e.modal.leaveConfirm=!1,e.$emit("leave-workspace"),a&&e.workspaceAccess!==P.PUBLIC&&(document.location.href=e.$url("/container/type/workspace/workspace.php",{id:e.workspaceId}));case 12:return i.prev=12,e.innerSubmitting=!1,i.finish(12);case 15:case"end":return i.stop()}}),i,null,[[4,,12,15]])})))()},handleDelete:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.deleting=!0,!e.innerSubmitting){i.next=3;break}return i.abrupt("return");case 3:return e.innerSubmitting=!0,i.prev=4,i.next=7,e.$apollo.mutate({mutation:$,refetchAll:!1,variables:{workspace_id:e.workspaceId}});case 7:i.sent.data.result&&(e.modal.confirm=!1,e.$emit("deleted-workspace"));case 10:return i.prev=10,e.innerSubmitting=!1,i.finish(10);case 13:case"end":return i.stop()}}),i,null,[[4,,10,13]])})))()},updateWorkspace:function(e){this.modal.edit=!1,this.$emit("update-workspace",e)},requestToJoinWorkspace:function(e){var i=this;return(0,a.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.modal.requestJoin){n.next=2;break}return n.abrupt("return");case 2:return i.isSaving=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:A.Z,variables:{workspace_id:i.workspaceId,request_content:e.messageContent},refetchQueries:["container_workspace_get_workspace","container_workspace_workspace_interactor"]});case 6:i.$emit("request-to-join-workspace");case 7:return n.prev=7,i.modal.requestJoin=!1,i.isSaving=!1,n.finish(7);case 11:case"end":return n.stop()}}),n,null,[[3,,7,11]])})))()},cancelRequestToJoinWorkspace:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.innerSubmitting){i.next=2;break}return i.abrupt("return");case 2:return e.innerSubmitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:I.Z,variables:{workspace_id:e.workspaceId},refetchQueries:["container_workspace_get_workspace","container_workspace_workspace_interactor"]});case 6:e.$emit("cancel-request-to-join-workspace");case 7:return i.prev=7,e.innerSubmitting=!1,i.finish(7);case 10:case"end":return i.stop()}}),i,null,[[3,,7,10]])})))()},handleAddMembers:function(e){var i=this;return(0,a.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.innerSubmitting){n.next=2;break}return n.abrupt("return");case 2:return i.innerSubmitting=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:T,variables:{workspace_id:i.workspaceId,user_ids:e.ids},refetchQueries:["container_workspace_get_workspace","container_workspace_find_members"]});case 6:i.modal.adder=!1,i.$emit("added-member");case 8:return n.prev=8,i.innerSubmitting=!1,n.finish(8);case 11:case"end":return n.stop()}}),n,null,[[3,,8,11]])})))()},updateMuteStatus:function(e){var i=this;return(0,a.Z)(r().mark((function n(){var a,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.innerSubmitting){n.next=2;break}return n.abrupt("return");case 2:return i.innerSubmitting=!0,n.prev=3,a={workspace_id:i.workspaceId},t=e?M.Z:W.Z,n.next=8,i.$apollo.mutate({mutation:t,variables:a,update:function(n){n.writeQuery({query:q.Z,variables:a,data:{interactor:Object.assign({},i.interactor,{muted:e})},refetchQueries:["container_workspace_get_workspace","container_workspace_workspace_interactor"]})}});case 8:i.$emit("update-mute-status",e);case 9:return n.prev=9,i.innerSubmitting=!1,n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[3,,9,12]])})))()},handleLeaveWorkspaceClick:function(){"AUDIENCE_MEMBERSHIP"===this.interactor.cannot_leave_reason?this.showLeaveFailGroup=!0:this.modal.leaveConfirm=!0}}},L=function(e){e.options.__langStrings={container_workspace:["add_audiences","add_members","add_members_to_space","actions","actions_label","cancel_request","delete_workspace_warning_msg_1","delete_workspace_warning_msg_2","delete_warning_title","delete_workspace","edit_space","joined","join_workspace","join_space","leave","leave_prevented_due_to_group_membership_message","leave_workspace","leave_workspace_message","leave_workspace_message_not_public","member","mute_notifications","owner","request_to_join","request_to_join_text","transfer_ownership","unmute_notifications"],core:["admin","delete","submit"]}},O=(0,n("wWJ2").Z)(E,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspacePrimaryAction",class:{"tui-workspacePrimaryAction--initialised":e.$apollo.loading}},[n("ConfirmationModal",{attrs:{open:e.modal.leaveConfirm,title:e.$str("leave_workspace","container_workspace"),"confirm-button-text":e.$str("leave","container_workspace"),loading:e.leaving},on:{confirm:e.leaveWorkspace,cancel:function(i){e.modal.leaveConfirm=!1}}},[e._v("\n    "+e._s(e.getLeaveMessage)+"\n  ")]),e._v(" "),n("ConfirmationModal",{attrs:{open:e.modal.deleteConfirm,title:e.$str("delete_warning_title","container_workspace"),"confirm-button-text":e.$str("delete","core"),loading:e.deleting},on:{confirm:e.handleDelete,cancel:function(i){e.modal.deleteConfirm=!1}}},[n("p",[e._v(e._s(e.$str("delete_workspace_warning_msg_1","container_workspace")))]),e._v(" "),n("p",[e._v(e._s(e.$str("delete_workspace_warning_msg_2","container_workspace")))])]),e._v(" "),n("ModalPresenter",{attrs:{open:e.modal.edit},on:{"request-close":function(i){e.modal.edit=!1}}},[n("WorkspaceEditModal",{attrs:{"workspace-id":e.workspaceId},on:{"update-workspace":e.updateWorkspace}})],1),e._v(" "),n("ModalPresenter",{attrs:{open:e.modal.transferOwner},on:{"request-close":function(i){e.modal.transferOwner=!1}}},[n("WorkspaceTransferOwnerModal",{attrs:{"workspace-id":e.workspaceId},on:{"transfered-owner":function(i){e.modal.transferOwner=!1}}})],1),e._v(" "),e.interactor.own||e.interactor.workspaces_admin?n("IndividualAdder",{attrs:{title:e.$str("add_members_to_space","container_workspace"),open:e.modal.adder,"custom-query":e.nonMemberQuery,"custom-query-filters":e.individualQueryFilters(),"custom-query-key":e.nonMemberQueryKey},on:{added:e.handleAddMembers,cancel:function(i){e.modal.adder=!1}}}):e._e(),e._v(" "),n("ModalPresenter",{attrs:{open:e.modal.requestJoin},on:{"request-close":function(i){e.modal.requestJoin=!1}}},[n("WorkspaceRequestModal",{attrs:{title:e.$str("request_to_join","container_workspace"),"body-text":e.$str("request_to_join_text","container_workspace"),"button-text":e.$str("submit","core"),"is-saving":e.isSaving},on:{submit:e.requestToJoinWorkspace}})],1),e._v(" "),n("InformationModal",{attrs:{title:e.$str("leave_workspace","container_workspace"),open:e.showLeaveFailGroup},on:{close:function(i){e.showLeaveFailGroup=!1}}},[e._v("\n    "+e._s(e.$str("leave_prevented_due_to_group_membership_message","container_workspace"))+"\n  ")]),e._v(" "),e.$apollo.loading?n("Button",{attrs:{loading:"",text:e.$str("actions","container_workspace")}}):[e.interactor.own||e.interactor.workspaces_admin?n("Dropdown",{staticClass:"tui-workspacePrimaryAction__dropdown",attrs:{position:"bottom-right"},scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.toggle,t=i.isOpen;return[n("Button",{staticClass:"tui-workspacePrimaryAction__dropdown-button",attrs:{text:e.interactor.own?e.$str("owner","container_workspace"):e.$str("admin","core"),"aria-label":e.$str("actions_label","container_workspace",e.interactor.own?e.$str("owner","container_workspace"):e.$str("admin","core")),"aria-expanded":t,caret:!0},on:{click:function(e){return e.preventDefault(),a.apply(null,arguments)}}})]}}],null,!1,2727310573)},[e._v(" "),e.interactor.can_join?n("DropdownItem",{on:{click:e.joinWorkspace}},[e._v("\n        "+e._s(e.$str("join_workspace","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.interactor.can_leave?n("DropdownItem",{on:{click:e.handleLeaveWorkspaceClick}},[e._v("\n        "+e._s(e.$str("leave_workspace","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.interactor.can_add_members?n("DropdownItem",{on:{click:function(i){e.modal.adder=!0}}},[e._v("\n        "+e._s(e.$str("add_members","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.interactor.can_add_audiences?n("DropdownItem",{on:{click:function(i){return e.$emit("add-audience")}}},[e._v("\n        "+e._s(e.$str("add_audiences","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.interactor.can_update?n("DropdownItem",{on:{click:function(i){e.modal.edit=!0}}},[e._v("\n        "+e._s(e.$str("edit_space","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.interactor.joined?n("DropdownItem",{on:{click:function(i){return e.updateMuteStatus(!e.interactor.muted)}}},[e.interactor.muted?[e._v("\n          "+e._s(e.$str("unmute_notifications","container_workspace"))+"\n        ")]:[e._v("\n          "+e._s(e.$str("mute_notifications","container_workspace"))+"\n        ")]],2):e._e(),e._v(" "),e.interactor.can_transfer_ownership?n("DropdownItem",{on:{click:function(i){e.modal.transferOwner=!0}}},[e._v("\n        "+e._s(e.$str("transfer_ownership","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.interactor.can_delete?n("DropdownItem",{on:{click:function(i){e.modal.deleteConfirm=!0}}},[e._v("\n        "+e._s(e.$str("delete_workspace","container_workspace"))+"\n      ")]):e._e()],1):[!e.interactor.joined&&e.interactor.can_join?n("LoadingButton",{staticClass:"tui-workspacePrimaryAction__button",attrs:{loading:e.innerSubmitting,text:e.$str("join_workspace","container_workspace"),"aria-disabled":e.innerSubmitting,"aria-label":e.$str("join_space","container_workspace",e.workspaceName)},on:{click:e.joinWorkspace}}):!e.interactor.joined&&e.interactor.has_requested_to_join?n("LoadingButton",{staticClass:"tui-workspacePrimaryAction__button",attrs:{loading:e.innerSubmitting,text:e.$str("cancel_request","container_workspace"),"aria-disabled":e.innerSubmitting,"aria-label":e.$str("cancel_request","container_workspace")},on:{click:e.cancelRequestToJoinWorkspace}}):!e.interactor.joined&&e.interactor.can_request_to_join?n("LoadingButton",{staticClass:"tui-workspacePrimaryAction__button",attrs:{loading:e.innerSubmitting,text:e.$str("request_to_join","container_workspace"),"aria-disabled":!1,"aria-label":e.$str("request_to_join","container_workspace")},on:{click:function(i){e.modal.requestJoin=!0}}}):n("Dropdown",{staticClass:"tui-workspacePrimaryAction__dropdown",attrs:{position:"bottom-right"},scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.toggle,t=i.isOpen;return[e.interactor.joined?n("Button",{staticClass:"tui-workspacePrimaryAction__dropdown-button",attrs:{text:e.$str("joined","container_workspace"),"aria-label":e.$str("actions_label","container_workspace",e.$str("member","container_workspace")),caret:!0,"aria-expanded":t},on:{click:function(e){return e.preventDefault(),a.apply(null,arguments)}}}):e._e()]}}])},[e._v(" "),e.interactor.can_leave?n("DropdownItem",{on:{click:e.handleLeaveWorkspaceClick}},[e._v("\n          "+e._s(e.$str("leave_workspace","container_workspace"))+"\n        ")]):e._e(),e._v(" "),e.interactor.joined?n("DropdownItem",{on:{click:function(i){return e.updateMuteStatus(!e.interactor.muted)}}},[e.interactor.muted?[e._v("\n            "+e._s(e.$str("unmute_notifications","container_workspace"))+"\n          ")]:[e._v("\n            "+e._s(e.$str("mute_notifications","container_workspace"))+"\n          ")]],2):e._e()],1)]]],2)}),[],!1,null,null,null);L(O),O.options.__hasBlocks={script:!0,template:!0};var R=O.exports},DOqE:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return h}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=tui.require("tui/components/adder/Adder"),o=n.n(s),d=n("ebfP"),c=n.n(d),l=n("FR0q"),u=n.n(l),m=tui.require("tui/components/datatable/SelectTable"),k=n.n(m),p=n("Lo/q"),v=n.n(p),_=n("RJ4J"),f=n.n(_),g=n("D0Ln"),w={components:{Avatar:n.n(g)(),Adder:o(),FilterBar:c(),SearchFilter:u(),SelectTable:k(),HeaderCell:v(),Cell:f()},props:{workspaceId:{type:[String,Number],required:!0},open:Boolean},apollo:{fields:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_user_table_fields"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"fields"},name:{kind:"Name",value:"container_workspace_user_table_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]},users:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_non_member_users"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_non_member_users_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"users"},name:{kind:"Name",value:"container_workspace_non_member_users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]}]}}]}}]}}]}}]},fetchPolicy:"network-only",context:{batch:!0},variables:function(){return{workspace_id:this.workspaceId,search_term:this.searchTerm,cursor:null}},skip:function(){return!this.open},update:function(e){return{cursor:e.cursor,items:e.users}}}},data:function(){return{fields:[],users:{items:[],cursor:{total:0,next:null}},searchTerm:"",selectedUserIds:[]}},computed:{selectedUsers:function(){var e=this;return this.users.items.filter((function(i){var n=i.id;return Array.prototype.includes.call(e.selectedUserIds,n)}))}},beforeDestroy:function(){this.selectedUserIds=[]},methods:{loadMore:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:e.$apollo.queries.users.fetchMore({variables:{cursor:e.users.cursor.next},updateQuery:function(e,i){var n=e.users,a=i.fetchMoreResult,t=a.users;return{cursor:a.cursor,users:n.concat(t)}}});case 1:case"end":return i.stop()}}),i)})))()},addedUsers:function(e){this.$emit("add-members",e),this.$apollo.queries.users.refetch()}}},b=function(e){e.options.__langStrings={container_workspace:["add_members_to_space","filter_users","people_selected"],totara_core:["search"],core:["name"]}},N=(0,n("wWJ2").Z)(w,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Adder",{staticClass:"tui-workspaceUserAdder",attrs:{open:e.open,title:e.$str("add_members_to_space","container_workspace"),"custom-selected":function(i){return e.$str("people_selected","container_workspace",i)},loading:e.$apollo.loading,"show-load-more":e.users.cursor.next},on:{cancel:function(i){return e.$emit("cancel")},"selected-tab-active":function(i){e.selectedUserIds=i},"load-more":e.loadMore,added:function(i){return e.addedUsers(i)}},scopedSlots:e._u([{key:"browse-list",fn:function(i){var a=i.disabledItems,t=i.selectedItems,r=i.update;return[n("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:t,"disabled-ids":a,"checkbox-v-align":"center","select-all-enabled":!0,"border-bottom-hidden":!0,data:e.users.items||[]},on:{input:function(e){return r(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"12",valign:"start"}},[e._v("\n          "+e._s(e.$str("name","core"))+"\n        ")]),e._v(" "),e._l(e.fields,(function(i,a){var t=i.position,r=i.label;return n("HeaderCell",{key:a,attrs:{"data-field-position":t,size:"4"}},[e._v("\n          "+e._s(r)+"\n        ")])}))]},proxy:!0},{key:"row",fn:function(i){var a=i.row,t=a.card_display,r=a.fullname;return[n("Cell",{attrs:{size:"10","column-header":e.$str("name","core"),valign:"start"}},[n("div",{staticClass:"tui-workspaceUserAdder__name"},[t.profile_picture_url?n("Avatar",{attrs:{src:t.profile_picture_url,alt:t.profile_picture_alt||r,size:"xsmall"}}):e._e(),e._v(" "),n("p",{staticClass:"tui-workspaceUserAdder__name-text"},[e._v("\n              "+e._s(r)+"\n            ")])],1)]),e._v(" "),e._l(e.fields,(function(i,a){var r=i.position;return[n("Cell",{key:a,attrs:{size:"4","data-field-position":r}},[e._v("\n            "+e._s(t.display_fields[r].value||"")+"\n          ")])]}))]}}],null,!0)})]}},{key:"basket-list",fn:function(i){var a=i.selectedItems,t=i.update,r=i.disabledItems;return[n("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:a,"disabled-ids":r,"checkbox-v-align":"center","select-all-enabled":!0,"border-bottom-hidden":!0,data:e.selectedUsers},on:{input:function(e){return t(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"12",valign:"start"}},[e._v("\n          "+e._s(e.$str("name","core"))+"\n        ")]),e._v(" "),e._l(e.fields,(function(i,a){var t=i.position,r=i.label;return n("HeaderCell",{key:a,attrs:{"data-field-position":t,size:"4"}},[e._v("\n          "+e._s(r)+"\n        ")])}))]},proxy:!0},{key:"row",fn:function(i){var a=i.row,t=a.card_display,r=a.fullname;return[n("Cell",{attrs:{size:"10","column-header":e.$str("name","core"),valign:"start"}},[n("div",{staticClass:"tui-workspaceUserAdder__name"},[t.profile_picture_url?n("Avatar",{attrs:{src:t.profile_picture_url,alt:t.profile_picture_alt||r,size:"xsmall"}}):e._e(),e._v(" "),n("p",{staticClass:"tui-workspaceUserAdder__name-text"},[e._v("\n              "+e._s(r)+"\n            ")])],1)]),e._v(" "),e._l(e.fields,(function(i,a){var r=i.position;return[n("Cell",{key:a,attrs:{size:"4","data-field-position":r}},[e._v("\n            "+e._s(t.display_fields[r].value||"")+"\n          ")])]}))]}}],null,!0)})]}}])},[n("FilterBar",{attrs:{slot:"browse-filters","has-top-bar":!1,title:e.$str("filter_users","container_workspace")},slot:"browse-filters",scopedSlots:e._u([{key:"filters-left",fn:function(){return[n("SearchFilter",{attrs:{name:"user-search-input","drop-label":"",placeholder:e.$str("search","totara_core"),label:e.$str("filter_users","container_workspace")},model:{value:e.searchTerm,callback:function(i){e.searchTerm=i},expression:"searchTerm"}})]},proxy:!0}])})],1)}),[],!1,null,null,null);b(N),N.options.__hasBlocks={script:!0,template:!0};var h=N.exports},Soav:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return M}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("7mX8"),o=n.n(s),d=n("LRZg"),c=n.n(d),l=n("3NWB"),u=n.n(l),m=n("6e83"),k=n.n(m),p=n("1+j7"),v=n.n(p),_=tui.require("tui/components/icons/More"),f=n.n(_),g=tui.require("totara_reaction/components/SimpleLike"),w=n.n(g),b=tui.require("container_workspace/components/form/EditPostDiscussionForm"),N=n.n(b),h=tui.require("tui/components/icons/Comment"),y=n.n(h),F=n("x7Rm"),S=n("6R6u"),x=n.n(S),C=n("3Uz/"),q=n.n(C),V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_update_discussion_content"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_update_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}},{kind:"Argument",name:{kind:"Name",value:"content_format"},value:{kind:"Variable",name:{kind:"Name",value:"content_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_report"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"removed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_context_id"},arguments:[],directives:[]}]}}]}}]},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_delete_discussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_delete_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}]},$={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_reportedcontent_create_review"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"item_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"url"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_url"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"review"},name:{kind:"Name",value:"totara_reportedcontent_create_review"},arguments:[{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"item_id"}}},{kind:"Argument",name:{kind:"Name",value:"url"},value:{kind:"Variable",name:{kind:"Name",value:"url"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}]},A={components:{DiscussionAvatar:c(),SimpleLike:w(),Dropdown:u(),DropdownItem:k(),ButtonIcon:v(),MoreIcon:f(),EditPostDiscussionForm:N(),CommentIcon:y(),Lozenge:x(),ConfirmationModal:q()},props:{creatorImageSrc:{type:String,required:!0},creatorImageAlt:{type:String,default:""},creatorId:{type:[String,Number],required:!0},creatorFullname:{type:String,required:!0},discussionContent:{type:String,required:!0},timeDescription:{type:String,required:!0},pinned:Boolean,reacted:Boolean,totalComments:{type:[String,Number],required:!0},totalReactions:{type:[String,Number],required:!0},discussionId:{type:[String,Number],required:!0},reactAble:{type:Boolean,default:!0},updateAble:{type:Boolean,default:!0},deleteAble:{type:Boolean,default:!0},reportAble:{type:Boolean,default:!1},commentAble:{type:Boolean,default:!0},removed:Boolean,showDiscussionLink:{type:Boolean,default:!0},edited:Boolean,labelId:String},data:function(){return{edit:!1,submitting:!1,modal:{delete:!1},hasError:!1}},computed:{profileUrl:function(){return this.$url("/user/profile.php",{id:this.creatorId})},likeButtonAriaLabel:function(){return this.reacted?this.$str("remove_like_discussion","container_workspace"):this.$str("like_discussion","container_workspace")},discussionUrl:function(){return this.$url("/container/type/workspace/discussion.php",{id:this.discussionId})}},mounted:function(){this.$_scan()},updated:function(){this.$_scan()},methods:{$_scan:function(){if(this.$refs["discussion-content"]){var e=this.$refs["discussion-content"];o().scan(e)}},handleCopyLink:function(){var e=this;return(0,a.Z)(r().mark((function i(){var n;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return(n=document.createElement("textarea")).classList.add("tui-sr-only"),n.value=e.discussionUrl,document.body.appendChild(n),n.select(),i.prev=5,document.execCommand("copy"),i.next=9,(0,F.notify)({message:e.$str("copied_to_clipboard","container_workspace"),type:"success"});case 9:i.next=15;break;case 11:return i.prev=11,i.t0=i.catch(5),i.next=15,(0,F.notify)({message:e.$str("error:copy_to_clipboard","container_workspace"),type:"error"});case 15:return i.prev=15,document.body.removeChild(n),i.finish(15);case 18:case"end":return i.stop()}}),i,null,[[5,11,15,18]])})))()},updateReactStatus:function(e){this.$emit("update-react-status",{discussionId:this.discussionId,status:e})},updateDiscussionContent:function(e){var i=this,n=e.content,t=e.contentFormat,s=e.itemId;return(0,a.Z)(r().mark((function e(){var a,o;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:V,refetchAll:!1,variables:{id:i.discussionId,content:n,content_format:t,draft_id:s}});case 6:a=e.sent,o=a.data.discussion,i.edit=!1,i.$emit("update-discussion",o),i.hasError=!1,e.next=18;break;case 13:return e.prev=13,e.t0=e.catch(3),i.hasError=!0,e.next=18,(0,F.notify)({message:i.$str("error:update_discussion","container_workspace"),type:"error"});case 18:return e.prev=18,i.submitting=!1,e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[3,13,18,21]])})))()},deleteDiscussion:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.submitting){i.next=2;break}return i.abrupt("return");case 2:return e.submitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:D,refetchAll:!1,variables:{id:e.discussionId}});case 6:if(!i.sent.data.result){i.next=12;break}return e.modal.delete=!1,e.$emit("delete-discussion",e.discussionId),i.abrupt("return");case 12:return i.next=14,(0,F.notify)({message:e.$str("error:delete_discussion","container_workspace"),type:"error"});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(3),i.next=20,(0,F.notify)({message:e.$str("error:delete_discussion","container_workspace"),type:"error"});case 20:return i.prev=20,e.submitting=!1,i.finish(20);case 23:case"end":return i.stop()}}),i,null,[[3,16,20,23]])})))()},reportDiscussion:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.submitting){i.next=2;break}return i.abrupt("return");case 2:return e.submitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:$,refetchAll:!1,variables:{component:"container_workspace",area:"discussion",item_id:e.discussionId,url:window.location.href}}).then((function(e){return e.data.review}));case 6:if(!i.sent.success){i.next=12;break}return i.next=10,(0,F.notify)({message:e.$str("reported","totara_reportedcontent"),type:"success"});case 10:i.next=14;break;case 12:return i.next=14,(0,F.notify)({message:e.$str("reported_failed","totara_reportedcontent"),type:"error"});case 14:i.next=20;break;case 16:return i.prev=16,i.t0=i.catch(3),i.next=20,(0,F.notify)({message:e.$str("error:report_discussion","container_workspace"),type:"error"});case 20:return i.prev=20,e.submitting=!1,i.finish(20);case 23:case"end":return i.stop()}}),i,null,[[3,16,20,23]])})))()}}},I=function(e){e.options.__langStrings={container_workspace:["discussion_actions","copy_discussion_link_text","like_discussion","remove_like_discussion","comment","comment_on_discussion","error:update_discussion","error:copy_to_clipboard","view_full_discussion","bracket_number","edited","copied_to_clipboard","pinned_post","delete_discussion_warning_msg_1","delete_discussion_warning_msg_2","delete_discussion_title","error:delete_discussion","report_discussion","error:report_discussion","removed_discussion"],core:["edit","delete","confirm"],totara_reportedcontent:["reported","reported_failed"]}},T=(0,n("wWJ2").Z)(A,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceDiscussionCard",attrs:{"data-id":e.discussionId}},[n("ConfirmationModal",{attrs:{open:e.modal.delete,title:e.$str("delete_discussion_title","container_workspace"),loading:e.submitting,"confirm-button-text":e.$str("delete","core")},on:{confirm:e.deleteDiscussion,cancel:function(i){e.modal.delete=!1}}},[n("p",[e._v("\n      "+e._s(e.$str("delete_discussion_warning_msg_1","container_workspace"))+"\n    ")]),e._v(" "),n("p",[e._v("\n      "+e._s(e.$str("delete_discussion_warning_msg_2","container_workspace"))+"\n    ")])]),e._v(" "),e.pinned?n("div",{staticClass:"tui-workspaceDiscussionCard__pinBox"},[n("Lozenge",{attrs:{text:e.$str("pinned_post","container_workspace"),type:"info"}})],1):e._e(),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionCard__card"},[n("DiscussionAvatar",{staticClass:"tui-workspaceDiscussionCard__avatar",attrs:{"image-src":e.creatorImageSrc,"image-alt":e.creatorImageAlt,"profile-url":e.profileUrl}}),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionCard__content"},[n("div",{staticClass:"tui-workspaceDiscussionCard__head"},[n("a",{attrs:{id:e.labelId,href:e.profileUrl}},[e._v("\n          "+e._s(e.creatorFullname)+"\n        ")]),e._v(" "),n("p",[e._v(e._s(e.timeDescription))]),e._v(" "),e.edited?n("p",[e._v("\n          "+e._s(e.$str("edited","container_workspace"))+"\n        ")]):e._e()]),e._v(" "),e.removed?n("div",{staticClass:"tui-workspaceDiscussionCard__body--deleted"},[n("p",[e._v(e._s(e.$str("removed_discussion","container_workspace")))])]):e.edit?n("EditPostDiscussionForm",{attrs:{"discussion-id":e.discussionId,submitting:e.submitting,"has-error":e.hasError},on:{cancel:function(i){e.edit=!1},submit:e.updateDiscussionContent}}):n("div",{ref:"discussion-content",staticClass:"tui-workspaceDiscussionCard__body",domProps:{innerHTML:e._s(e.discussionContent)}}),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionCard__buttons"},[n("SimpleLike",{staticClass:"tui-workspaceDiscussionCard__buttons-like",attrs:{"button-aria-label":e.likeButtonAriaLabel,"total-likes":e.totalReactions,liked:e.reacted,disabled:!e.reactAble,component:"container_workspace",area:"discussion","show-text":!0,"instance-id":e.discussionId},on:{"update-like-status":e.updateReactStatus,"created-like":function(i){return e.updateReactStatus(!0)},"removed-like":function(i){return e.updateReactStatus(!1)}}}),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionCard__buttons-comment"},[n("ButtonIcon",{attrs:{"aria-label":e.$str("comment_on_discussion","container_workspace"),text:e.$str("comment","container_workspace"),styleclass:{small:!0,transparent:!0,transparentNoPadding:!0},disabled:!e.commentAble},on:{click:function(i){return e.$emit("trigger-comment")}}},[n("CommentIcon")],1),e._v(" "),0<e.totalComments?n("span",[e._v("\n            "+e._s(e.$str("bracket_number","container_workspace",e.totalComments))+"\n          ")]):e._e()],1)],1)],1),e._v(" "),n("Dropdown",{attrs:{position:"bottom-right"},scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.toggle,t=i.isOpen;return[n("ButtonIcon",{attrs:{"aria-expanded":t,"aria-label":e.$str("discussion_actions","container_workspace"),styleclass:{small:!0,transparentNoPadding:!0}},on:{click:function(e){return e.preventDefault(),a.apply(null,arguments)}}},[n("MoreIcon",{attrs:{size:"300"}})],1)]}}])},[e._v(" "),e.updateAble?n("DropdownItem",{on:{click:function(i){e.edit=!0}}},[e._v("\n        "+e._s(e.$str("edit","core"))+"\n      ")]):e._e(),e._v(" "),e.deleteAble?n("DropdownItem",{on:{click:function(i){e.modal.delete=!0}}},[e._v("\n        "+e._s(e.$str("delete","core"))+"\n      ")]):e._e(),e._v(" "),e.reportAble?n("DropdownItem",{on:{click:e.reportDiscussion}},[e._v("\n        "+e._s(e.$str("report_discussion","container_workspace"))+"\n      ")]):e._e(),e._v(" "),e.showDiscussionLink?n("DropdownItem",{attrs:{href:e.discussionUrl}},[e._v("\n        "+e._s(e.$str("view_full_discussion","container_workspace"))+"\n      ")]):e._e(),e._v(" "),n("DropdownItem",{on:{click:e.handleCopyLink}},[e._v("\n        "+e._s(e.$str("copy_discussion_link_text","container_workspace"))+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);I(T),T.options.__hasBlocks={script:!0,template:!0};var M=T.exports},"9E8Z":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return m}});var a=n("7mX8"),t=n.n(a),r=n("YLyP"),s=n.n(r),o=n("LRZg"),d=n.n(o),c={components:{ActionLink:s(),DiscussionAvatar:d()},props:{id:{type:[String,Number],required:!0},creatorImageSrc:{type:String,required:!0},creatorImageAlt:{type:String,default:""},creatorId:{type:[String,Number],required:!0},creatorFullname:{type:String,required:!0},discussionContent:{type:String,required:!0},timeDescription:{type:String,required:!0},discussionId:{type:[String,Number],required:!0},labelId:String},computed:{profileUrl:function(){return this.$url("/user/profile.php",{id:this.creatorId})},discussionUrl:function(){return this.$url("/container/type/workspace/discussion.php",{id:this.discussionId})}},mounted:function(){this.$_scan()},updated:function(){this.$_scan()},methods:{$_scan:function(){if(this.$refs["result-content"]){var e=this.$refs["result-content"];t().scan(e)}}}},l=function(e){e.options.__langStrings={core:["view"]}},u=(0,n("wWJ2").Z)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceDiscussionContentResultCard",attrs:{"data-id":e.id}},[n("div",{staticClass:"tui-workspaceDiscussionContentResultCard__card"},[n("DiscussionAvatar",{staticClass:"tui-workspaceDiscussionContentResultCard__avatar",attrs:{"image-src":e.creatorImageSrc,"image-alt":e.creatorImageAlt,"profile-url":e.profileUrl}}),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionContentResultCard__content"},[n("div",{staticClass:"tui-workspaceDiscussionContentResultCard__head"},[n("a",{attrs:{id:e.labelId,href:e.profileUrl}},[e._v("\n          "+e._s(e.creatorFullname)+"\n        ")]),e._v(" "),n("p",[e._v(e._s(e.timeDescription))])]),e._v(" "),n("div",{ref:"result-content",staticClass:"tui-workspaceDiscussionContentResultCard__body",domProps:{innerHTML:e._s(e.discussionContent)}})]),e._v(" "),n("div",{staticClass:"tui-workspaceDiscussionContentResultCard__actions"},[n("ActionLink",{attrs:{href:e.discussionUrl,text:e.$str("view","core"),styleclass:{small:!0}}})],1)],1)])}),[],!1,null,null,null);l(u),u.options.__hasBlocks={script:!0,template:!0};var m=u.exports},rQsa:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return p}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("+FAW"),o=n.n(s),d=n("7Jrh"),c=n.n(d),l=n("TPml"),u={components:{DiscussionCard:o(),CommentBox:c()},props:{firstCommentCursor:{type:String,default:null},creatorImageSrc:{type:String,required:!0},creatorImageAlt:{type:String,default:""},creatorId:{type:[String,Number],required:!0},creatorFullname:{type:String,required:!0},discussionContent:{type:String,required:!0},timeDescription:{type:String,required:!0},pinned:Boolean,reportAble:Boolean,reacted:Boolean,removed:Boolean,totalComments:{type:[String,Number],required:!0},totalReactions:{type:[String,Number],required:!0},discussionId:{type:[String,Number],required:!0},reactAble:{type:Boolean,default:!0},updateAble:{type:Boolean,default:!0},deleteAble:{type:Boolean,default:!0},commentAble:{type:Boolean,default:!0},edited:Boolean,labelId:String,workspaceContextId:[String,Number]},data:function(){return{showCommentForm:!1,size:l.SIZE_LARGE,formElement:null}},computed:{showComments:function(){return parseInt(this.totalComments,10)>0}},methods:{setFormElement:function(e){null===this.formElement&&(this.formElement=e)},triggerComment:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.showCommentForm=!0,i.next=3,e.$nextTick();case 3:e.formElement&&e.formElement.scrollIntoView(!1);case 4:case"end":return i.stop()}}),i)})))()}}},m=function(e){e.options.__langStrings={container_workspace:["comment"]}},k=(0,n("wWJ2").Z)(u,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("article",{staticClass:"tui-workspaceDiscussionWithCommentCard",attrs:{"data-id":e.discussionId}},[n("DiscussionCard",{staticClass:"tui-workspaceDiscussionWithCommentCard__discussionCard",attrs:{"creator-fullname":e.creatorFullname,"creator-image-alt":e.creatorImageAlt||e.creatorFullname,"creator-image-src":e.creatorImageSrc,"creator-id":e.creatorId,"discussion-content":e.discussionContent,"time-description":e.timeDescription,"total-comments":e.totalComments,"total-reactions":e.totalReactions,"discussion-id":e.discussionId,pinned:e.pinned,"react-able":e.reactAble,"delete-able":e.deleteAble,"update-able":e.updateAble,"comment-able":e.commentAble,"report-able":e.reportAble,reacted:e.reacted,removed:e.removed,edited:e.edited,"label-id":e.labelId},on:{"trigger-comment":e.triggerComment,"update-react-status":function(i){return e.$emit("update-discussion-react-status",i)},"update-discussion":function(i){return e.$emit("update-discussion",i)},"delete-discussion":function(i){return e.$emit("delete-discussion",i)}}}),e._v(" "),e.showComments||e.showCommentForm?n("CommentBox",{ref:"comment-box",staticClass:"tui-workspaceDiscussionWithCommentCard__comments",attrs:{"instance-id":e.discussionId,component:"container_workspace",area:"discussion",size:e.size,"show-reply-button-text":!0,"show-like-button-text":!0,"comment-able":e.commentAble,"submit-form-button-text":e.$str("comment","container_workspace"),"with-border":!0,"show-comment-form":e.showCommentForm,"first-cursor":e.firstCommentCursor,"comment-inline-head":!0,editor:{variant:"standard",compact:!1,contextId:e.workspaceContextId,extraExtensions:["hashtag","mention"]}},on:{"form-ready":e.setFormElement,"create-comment":function(i){return e.$emit("add-new-comment",e.discussionId)}}}):e._e()],1)}),[],!1,null,null,null);m(k),k.options.__hasBlocks={script:!0,template:!0};var p=k.exports},M5M4:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return F}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("dFRL"),o=n.n(s),d=n("QD8Q"),c=n.n(d),l=n("eHBv"),u=n.n(l),m=n("/apQ"),k=n.n(m),p=n("EJOt"),v=n.n(p),_=n("zNee"),f=n.n(_),g=n("x7Rm"),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_accept_member_request"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member_request"},name:{kind:"Name",value:"container_workspace_update_member_request"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"new_status"},value:{kind:"EnumValue",value:"ACCEPTED"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_accepted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_declined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]},b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_decline_member_request"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"decline_content"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member_request"},name:{kind:"Name",value:"container_workspace_update_member_request"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"new_status"},value:{kind:"EnumValue",value:"DECLINED"}},{kind:"Argument",name:{kind:"Name",value:"decline_content"},value:{kind:"Variable",name:{kind:"Name",value:"decline_content"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_accepted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_declined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]},N={components:{LoadingButton:o(),ButtonGroup:u(),MiniProfileCard:c(),Separator:k(),ModalPresenter:v(),WorkspaceRequestModal:f()},props:{memberRequestId:{type:[Number,String],required:!0},userId:{type:[Number,String],required:!0},userFullname:{type:String,required:!0},isApproved:Boolean,isDeclined:Boolean,requestContent:String,userCardDisplay:{type:Object,required:!0}},data:function(){return{submitting:{accept:!1,decline:!1},modalOpen:!1,isSaving:!1}},computed:{disabled:function(){return this.submitting.accept||this.submitting.decline},profileUrl:function(){return this.$url("/user/profile.php",{id:this.userId})},decisionLabelText:function(){return this.isDeclined?this.$str("declined","container_workspace"):this.$str("approved","container_workspace")}},methods:{acceptMemberRequest:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.disabled){i.next=2;break}return i.abrupt("return");case 2:return e.submitting.accept=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:w,variables:{id:e.memberRequestId}});case 6:if(!i.sent.data.member_request){i.next=12;break}return i.next=11,(0,g.notify)({message:e.$str("accept_member_request","container_workspace",e.userFullname),type:"success"});case 11:e.$emit("accept-request",e.memberRequestId);case 12:i.next=18;break;case 14:return i.prev=14,i.t0=i.catch(3),i.next=18,(0,g.notify)({message:e.$str("error:accept_member_request","container_workspace",e.userFullname),type:"error"});case 18:return i.prev=18,e.submitting.accept=!1,i.finish(18);case 21:case"end":return i.stop()}}),i,null,[[3,14,18,21]])})))()},declineMemberRequest:function(e){var i=this;return(0,a.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.disabled){n.next=2;break}return n.abrupt("return");case 2:return i.isSaving=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:b,variables:{id:i.memberRequestId,decline_content:e.messageContent}});case 6:if(!n.sent.data.member_request){n.next=12;break}return n.next=11,(0,g.notify)({message:i.$str("decline_member_request","container_workspace"),type:"success"});case 11:i.$emit("decline-request",i.memberRequestId);case 12:n.next=18;break;case 14:return n.prev=14,n.t0=n.catch(3),n.next=18,(0,g.notify)({message:i.$str("error:decline_member_request","container_workspace",i.userFullname),type:"error"});case 18:return n.prev=18,i.isSaving=!1,i.modalOpen=!1,n.finish(18);case 22:case"end":return n.stop()}}),n,null,[[3,14,18,22]])})))()}}},h=function(e){e.options.__langStrings={container_workspace:["approve","approve_member","accept_member_request","decline","decline_request","decline_member","decline_member_request","decline_request_text","error:accept_member_request","error:decline_member_request","approved","declined"],core:["continue"]}},y=(0,n("wWJ2").Z)(N,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceMemberRequestCard"},[n("MiniProfileCard",{staticClass:"tui-workspaceMemberRequestCard__info",attrs:{display:e.userCardDisplay,"no-border":!0,"no-padding":!0}}),e._v(" "),n("Separator"),e._v(" "),n("div",{staticClass:"tui-workspaceMemberRequestCard__body"},[n("div",[e.requestContent?n("p",{staticClass:"tui-workspaceMemberRequestCard__body-content",domProps:{innerHTML:e._s(e.requestContent)}}):e._e()]),e._v(" "),e.isApproved||e.isDeclined?n("div",[n("p",{staticClass:"tui-workspaceMemberRequestCard__decision"},[e._v("\n        "+e._s(e.decisionLabelText)+"\n      ")])]):n("div",{staticClass:"tui-workspaceMemberRequestCard__actions"},[n("ButtonGroup",[n("LoadingButton",{attrs:{loading:e.submitting.accept,disabled:e.disabled,"aria-label":e.$str("approve_member","container_workspace",e.userFullname),text:e.$str("approve","container_workspace"),primary:!0,small:!0},on:{click:e.acceptMemberRequest}}),e._v(" "),n("LoadingButton",{attrs:{loading:e.submitting.decline,disabled:e.disabled,"aria-label":e.$str("decline_member","container_workspace",e.userFullname),text:e.$str("decline","container_workspace"),small:!0},on:{click:function(i){e.modalOpen=!0}}})],1)],1)]),e._v(" "),n("ModalPresenter",{attrs:{open:e.modalOpen},on:{"request-close":function(i){e.modalOpen=!1}}},[n("WorkspaceRequestModal",{attrs:{title:e.$str("decline_request","container_workspace"),"body-text":e.$str("decline_request_text","container_workspace"),"button-text":e.$str("continue","core"),"is-saving":e.isSaving},on:{submit:e.declineMemberRequest}})],1)],1)}),[],!1,null,null,null);h(y),y.options.__hasBlocks={script:!0,template:!0};var F=y.exports},Hf1z:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return D}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("IpiT"),o=n.n(s),d=n("6e83"),c=n.n(d),l=n("3NWB"),u=n.n(l),m=n("dFRL"),k=n.n(m),p=n("3Uz/"),v=n.n(p),_=n("3h9w"),f=n.n(_),g=n("EJOt"),w=n.n(g),b=n("zNee"),N=n.n(b),h=n("ww5Q"),y=n("XbJP"),F=n("YlTN"),S=n("0G8i"),x=n("puuV"),C={components:{Button:o(),LoadingButton:k(),DropdownItem:c(),Dropdown:u(),ConfirmationModal:v(),InformationModal:f(),ModalPresenter:w(),WorkspaceRequestModal:N()},props:{workspace:{type:Object,required:!0}},data:function(){return{submitting:!1,modalOpen:!1,isSaving:!1,showLeaveConfirm:!1,showLeaveFailGroup:!1}},computed:{interactor:function(){return this.workspace.interactor},joined:function(){return this.interactor.joined},canJoin:function(){return this.interactor.can_join},canRequestToJoin:function(){return this.interactor.can_request_to_join},hasRequestedToJoin:function(){return this.interactor.has_requested_to_join},owned:function(){return this.interactor.own},leaveConfirmMessage:function(){return this.workspaceAccess===x.PUBLIC?this.$str("leave_workspace_message","container_workspace"):this.$str("leave_workspace_message_not_public","container_workspace")},modalOpened:function(){return this.showLeaveFailGroup||this.showLeaveConfirm||this.modalOpen}},watch:{modalOpened:function(e){e||this.$refs.actionButton.$el.focus()}},methods:{handleClick:function(){window.location.href=this.workspace.url},joinWorkspace:function(){var e=this;return(0,a.Z)(r().mark((function i(){var n,a;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.submitting=!0,i.prev=1,i.next=4,e.$apollo.mutate({mutation:h.Z,refetchAll:!1,variables:{workspace_id:e.workspace.id}});case 4:n=i.sent,a=n.data.member,e.$emit("join-workspace",a);case 7:return i.prev=7,e.submitting=!1,i.finish(7);case 10:case"end":return i.stop()}}),i,null,[[1,,7,10]])})))()},handleLeaveWorkspaceClick:function(){"AUDIENCE_MEMBERSHIP"===this.interactor.cannot_leave_reason?this.showLeaveFailGroup=!0:this.showLeaveConfirm=!0},leaveWorkspace:function(){var e=this;return(0,a.Z)(r().mark((function i(){var n,a;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.submitting=!0,i.prev=1,i.next=4,e.$apollo.mutate({mutation:F.Z,variables:{workspace_id:e.workspace.id}});case 4:n=i.sent,a=n.data.member,e.$emit("leave-workspace",a);case 7:return i.prev=7,e.submitting=!1,e.showLeaveConfirm=!1,i.finish(7);case 11:case"end":return i.stop()}}),i,null,[[1,,7,11]])})))()},requestToJoinWorkspace:function(e){var i=this;return(0,a.Z)(r().mark((function n(){var a,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i.modalOpen){n.next=2;break}return n.abrupt("return");case 2:return i.isSaving=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:y.Z,refetchAll:!1,variables:{workspace_id:i.workspace.id,request_content:e.messageContent}});case 6:a=n.sent,t=a.data.member_request,i.$emit("request-to-join-workspace",t);case 9:return n.prev=9,i.isSaving=!1,i.modalOpen=!1,n.finish(9);case 13:case"end":return n.stop()}}),n,null,[[3,,9,13]])})))()},cancelRequestJoinWorkspace:function(){var e=this;return(0,a.Z)(r().mark((function i(){var n,a;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.modalOpen&&!e.submitting){i.next=2;break}return i.abrupt("return");case 2:return e.submitting=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:S.Z,variables:{workspace_id:e.workspace.id}});case 6:n=i.sent,a=n.data.member_request,e.$emit("request-to-join-workspace",a);case 9:return i.prev=9,e.submitting=!1,i.finish(9);case 12:case"end":return i.stop()}}),i,null,[[3,,9,12]])})))()}}},q=function(e){e.options.__langStrings={container_workspace:["cancel_request","join_space","join_me","joined","leave","leave_prevented_due_to_group_membership_message","leave_workspace","leave_workspace_message","leave_workspace_message_not_public","request_to_join","request_to_join_pending","request_to_join_space","request_to_join_text","requested_to_join","leave_workspace"],core:["submit"]}},V=(0,n("wWJ2").Z)(C,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-originalSpaceCard",style:{"background-image":"url('"+e.workspace.image+"')"},on:{click:e.handleClick}},[n("div",{staticClass:"tui-originalSpaceCard__titleBox"},[n("h3",{staticClass:"tui-originalSpaceCard__title"},[n("a",{staticClass:"tui-originalSpaceCard__link",attrs:{href:e.workspace.url}},[e._v("\n        "+e._s(e.workspace.name)+"\n      ")])])]),e._v(" "),n("div",{staticClass:"tui-originalSpaceCard__actions",class:{"tui-originalSpaceCard__actions-gradient":!e.joined&&e.hasRequestedToJoin}},[!e.joined&&e.hasRequestedToJoin?n("p",{staticClass:"tui-originalSpaceCard__pendingText"},[e._v("\n      "+e._s(e.$str("request_to_join_pending","container_workspace"))+"\n    ")]):e._e(),e._v(" "),!e.joined&&e.canJoin?n("LoadingButton",{ref:"actionButton",staticClass:"tui-originalSpaceCard__actions-button",attrs:{text:e.$str("join_me","container_workspace"),"aria-label":e.$str("join_space","container_workspace",e.workspace.name),loading:e.submitting},on:{click:function(i){return i.stopPropagation(),e.joinWorkspace.apply(null,arguments)}}}):!e.joined&&e.hasRequestedToJoin?n("Button",{ref:"actionButton",staticClass:"tui-originalSpaceCard__actions-button",attrs:{text:e.$str("cancel_request","container_workspace"),loading:e.submitting},on:{click:function(i){return i.stopPropagation(),e.cancelRequestJoinWorkspace.apply(null,arguments)}}}):!e.joined&&e.canRequestToJoin?n("LoadingButton",{ref:"actionButton",staticClass:"tui-originalSpaceCard__actions-button",attrs:{text:e.$str("request_to_join","container_workspace"),"aria-label":e.$str("request_to_join_space","container_workspace",e.workspace.name),loading:e.submitting},on:{click:function(i){i.stopPropagation(),e.modalOpen=!0}}}):e.joined?n("Dropdown",{staticClass:"tui-originalSpaceCard__actions-dropDown",scopedSlots:e._u([{key:"trigger",fn:function(i){var a=i.isOpen,t=i.toggle;return[n("Button",{ref:"actionButton",attrs:{text:e.$str("joined","container_workspace"),caret:!e.owned,"aria-expanded":a,disabled:e.owned},on:{click:function(e){return e.stopPropagation(),t.apply(null,arguments)}}})]}}])},[e._v(" "),n("DropdownItem",{on:{click:function(i){return i.stopPropagation(),i.preventDefault(),e.handleLeaveWorkspaceClick.apply(null,arguments)}}},[e._v("\n        "+e._s(e.$str("leave_workspace","container_workspace"))+"\n      ")])],1):e._e()],1),e._v(" "),n("ModalPresenter",{attrs:{open:e.modalOpen},on:{"request-close":function(i){e.modalOpen=!1}}},[n("WorkspaceRequestModal",{attrs:{title:e.$str("request_to_join","container_workspace"),"body-text":e.$str("request_to_join_text","container_workspace"),"button-text":e.$str("submit","core"),"is-saving":e.isSaving},on:{submit:e.requestToJoinWorkspace}})],1),e._v(" "),n("ConfirmationModal",{attrs:{open:e.showLeaveConfirm,title:e.$str("leave_workspace","container_workspace"),"confirm-button-text":e.$str("leave","container_workspace"),loading:e.submitting},on:{confirm:e.leaveWorkspace,cancel:function(i){e.showLeaveConfirm=!1}}},[e._v("\n    "+e._s(e.leaveConfirmMessage)+"\n  ")]),e._v(" "),n("InformationModal",{attrs:{title:e.$str("leave_workspace","container_workspace"),open:e.showLeaveFailGroup},on:{close:function(i){e.showLeaveFailGroup=!1}}},[e._v("\n    "+e._s(e.$str("leave_prevented_due_to_group_membership_message","container_workspace"))+"\n  ")])],1)}),[],!1,null,null,null);q(V),V.options.__hasBlocks={script:!0,template:!0};var D=V.exports},rSjI:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return _}});var a=tui.require("tui/components/card/Card"),t=n.n(a),r=tui.require("totara_engage/components/contribution/Contribute"),s=n.n(r),o=n("7oVD"),d=tui.require("container_workspace/components/contribution/Share"),c=n.n(d),l=n("F1lf"),u=n("MI77"),m=n("Jpbg"),k={components:{Card:t(),Contribute:s(),Share:c()},props:{instanceId:{type:[Number,String],required:!0}},data:function(){return{workspace:{},showAdder:!1}},apollo:{workspace:{query:m.Z,variables:function(){return{id:this.instanceId,theme:u.config.theme.name}}}},computed:{container:function(){return{instanceId:this.instanceId,component:"container_workspace",access:this.accessStatus,autoShareRecipient:!0,area:"library",name:this.workspace.name,showModal:!0}},accessStatus:function(){return this.workspace.access&&((0,l.isPrivate)(this.workspace.access)||(0,l.isHidden)(this.workspace.access))?o.AccessManager.RESTRICTED:o.AccessManager.PUBLIC}}},p=function(e){e.options.__langStrings={container_workspace:["select_existing_resource","to_share_with_workspace"]}},v=(0,n("wWJ2").Z)(k,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceContributeCard"},[n("Card",{staticClass:"tui-workspaceContributeCard__card"},[n("Contribute",{attrs:{adder:{text:e.$str("select_existing_resource","container_workspace"),destination:e.$str("to_share_with_workspace","container_workspace")},"show-text":!1,"show-icon":!0,styleclass:{circle:!0,primary:!0},size:500,container:e.container},on:{done:function(i){return e.$emit("contribute",i)},"open-adder":function(i){e.showAdder=!0}}})],1),e._v(" "),n("Share",{attrs:{"grid-direction":"horizontal","workspace-id":e.instanceId,"show-adder":e.showAdder,units:12},on:{close:function(i){e.showAdder=!1}}})],1)}),[],!1,null,null,null);p(v),v.options.__hasBlocks={script:!0,template:!0};var _=v.exports},"8MKu":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return C}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("MI77"),o=n("x7Rm"),d=n("1+j7"),c=n.n(d),l=n("6e83"),u=n.n(l),m=tui.require("tui/components/icons/Users"),k=n.n(m),p=n("6R6u"),v=n.n(p),_=n("3Uz/"),f=n.n(_),g=tui.require("tui/components/popover/Popover"),w=n.n(g),b=n("QD8Q"),N=n.n(b),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_remove_member_from_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_remove_member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[]}]}}]},y=n("Jpbg"),F={components:{ButtonIcon:c(),DropdownItem:u(),UsersIcon:k(),Lozenge:v(),ConfirmationModal:f(),Popover:w(),MiniProfileCard:N()},props:{userFullName:{type:String,required:!0},userCardDisplay:{type:Object,required:!0},deleteAble:{type:Boolean,default:!1},userId:{type:[String,Number],required:!0},workspaceId:{type:[String,Number],required:!0},labelId:{type:String,required:!0},owner:Boolean,audiences:Array},data:function(){return{removing:!1,modal:{confirm:!1}}},methods:{removeMember:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.removing){i.next=2;break}return i.abrupt("return");case 2:return e.removing=!0,i.prev=3,i.next=6,e.$apollo.mutate({mutation:h,refetchAll:!1,variables:{workspace_id:e.workspaceId,user_id:e.userId},refetchQueries:[{query:y.Z,variables:{id:e.workspaceId,theme:s.config.theme.name}}]});case 6:e.modal.confirm=!1,e.$emit("remove-member",e.userId),i.next=14;break;case 10:return i.prev=10,i.t0=i.catch(3),i.next=14,(0,o.notify)({message:e.$str("error:remove_user","container_workspace"),type:"error"});case 14:return i.prev=14,e.removing=!1,i.finish(14);case 17:case"end":return i.stop()}}),i,null,[[3,10,14,17]])})))()}}},S=function(e){e.options.__langStrings={core:["remove"],container_workspace:["audiences_for_member_x","error:remove_user","remove_member_title_warning_msg","remove_member_warning_msg","member_added_through_audiences_label","more_action_for_member","owner"]}},x=(0,n("wWJ2").Z)(F,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("article",{staticClass:"tui-workspaceMemberCard",attrs:{"aria-describedby":!!e.owner&&e.$id("lozenge")}},[n("MiniProfileCard",{staticClass:"tui-workspaceMemberCard__profileCard",attrs:{display:e.userCardDisplay,"label-id":e.labelId,"drop-down-button-aria-label":e.$str("more_action_for_member","container_workspace",e.userFullName),"aria-describedby":e.owner?e.$id("lozenge"):null},scopedSlots:e._u([{key:"tag",fn:function(){return[n("div",{staticClass:"tui-workspaceMemberCard__tagRow"},[e.owner?n("Lozenge",{staticClass:"tui-workspaceMemberCard__profileCard-tag",attrs:{id:e.$id("lozenge"),text:e.$str("owner","container_workspace"),type:"neutral"}}):e._e(),e._v(" "),e.audiences&&e.audiences.length>0?n("Popover",{attrs:{position:"right",triggers:["click"],"trigger-valign":"center"},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("ButtonIcon",{attrs:{"aria-label":e.$str("audiences_for_member_x","container_workspace",e.userFullName),styleclass:{transparent:!0},title:!1}},[n("UsersIcon")],1)]},proxy:!0},{key:"default",fn:function(){return[n("p",[e._v("\n              "+e._s(e.$str("member_added_through_audiences_label","container_workspace"))+"\n            ")]),e._v(" "),n("ul",e._l(e.audiences,(function(i){return n("li",{key:i.id},[e._v("\n                "+e._s(i.name)+"\n              ")])})),0)]},proxy:!0}],null,!1,2691476040)}):e._e()],1)]},proxy:!0},e.deleteAble?{key:"drop-down-items",fn:function(){return[n("DropdownItem",{on:{click:function(i){e.modal.confirm=!0}}},[e._v("\n        "+e._s(e.$str("remove","core"))+"\n      ")])]},proxy:!0}:null],null,!0)}),e._v(" "),n("ConfirmationModal",{attrs:{open:e.modal.confirm,title:e.$str("remove_member_title_warning_msg","container_workspace"),"confirm-button-text":e.$str("remove","core"),loading:e.removing},on:{confirm:e.removeMember,cancel:function(i){e.modal.confirm=!1}}},[n("p",[e._v("\n      "+e._s(e.$str("remove_member_warning_msg","container_workspace",e.userFullName))+"\n    ")])])],1)}),[],!1,null,null,null);S(x),x.options.__hasBlocks={script:!0,template:!0};var C=x.exports},"Nr/3":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return d}});var a=n("z1IF"),t=n.n(a),r=n("5Nvt"),s={components:{GridItem:n.n(r)(),Grid:t()},props:{maxUnits:{type:[Number,String],required:!0},stackAt:{type:Number,default:764},gridDirection:String},computed:{leftUnits:function(){return Math.floor(60*this.maxUnits/100)},rightUnits:function(){return this.maxUnits-this.leftUnits}}},o=(0,n("wWJ2").Z)(s,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Grid",{staticClass:"tui-workspaceContentLayout",attrs:{direction:e.gridDirection,"max-units":e.maxUnits,"stack-at":e.stackAt}},[n("GridItem",{attrs:{units:e.leftUnits}},[e._t("content")],2),e._v(" "),n("GridItem",{attrs:{units:e.rightUnits}},[e._t("side")],2)],1)}),[],!1,null,null,null);o.options.__hasBlocks={script:!0,template:!0};var d=o.exports},zCEi:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return u}});var a=tui.require("container_workspace/components/card/MemberRequestCard"),t=n.n(a),r=n("0AlR"),s=n.n(r),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_pending_member_requests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member_requests"},name:{kind:"Name",value:"container_workspace_member_requests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"PENDING"}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"StringValue",value:"eyJsaW1pdCI6MCwicGFnZSI6MX0=",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_declined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_accepted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"request_content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_member_request_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"PENDING"}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"StringValue",value:"eyJsaW1pdCI6MCwicGFnZSI6MX0=",block:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}}]},d={components:{MemberRequestCard:t()},apollo:{memberRequests:{query:o,variables:function(){return{workspace_id:this.workspaceId}},update:function(e){var i=e.cursor;return{items:e.member_requests,cursor:i}}}},props:{workspaceId:{type:[Number,String],required:!0}},data:function(){return{memberRequests:{cursor:{total:0,next:null},items:[]}}},methods:{acceptRequest:function(e){s().writeQuery({query:o,variables:{workspace_id:this.workspaceId},data:{cursor:this.memberRequests.cursor,membe_requests:this.memberRequests.items.map((function(i){return i.id==e&&((i=Object.assign({},i)).is_accepted=!0),i}))}}),this.$emit("accept-member-request")},declineRequest:function(e){s().writeQuery({query:o,variables:{workspace_id:this.workspaceId},data:{cursor:this.memberRequests.cursor,membe_requests:this.memberRequests.items.map((function(i){return i.id==e&&((i=Object.assign({},i)).is_declined=!0),i}))}}),this.$emit("decline-member-request")}}},c=function(e){e.options.__langStrings={container_workspace:["requests_to_join"]}},l=(0,n("wWJ2").Z)(d,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceMemberRequestList"},[n("h3",{staticClass:"tui-workspaceMemberRequestList__title"},[e._v("\n    "+e._s(e.$str("requests_to_join","container_workspace"))+"\n  ")]),e._v(" "),n("div",{staticClass:"tui-workspaceMemberRequestList__cards"},[e.memberRequests.items.length?e._l(e.memberRequests.items,(function(i,a){var t=i.user,r=i.id,s=i.is_accepted,o=i.is_declined,d=i.request_content;return n("MemberRequestCard",{key:a,staticClass:"tui-workspaceMemberRequestList__card",attrs:{"user-id":t.id,"user-fullname":t.fullname,"user-card-display":t.card_display,"member-request-id":r,"is-approved":s,"is-declined":o,"request-content":d},on:{"accept-request":e.acceptRequest,"decline-request":e.declineRequest}})})):e._e()],2)])}),[],!1,null,null,null);c(l),l.options.__hasBlocks={script:!0,template:!0};var u=l.exports},W2b9:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return $}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("IpiT"),o=n.n(s),d=n("1+j7"),c=n.n(d),l=n("Lo/q"),u=n.n(l),m=n("RJ4J"),k=n.n(m),p=n("YQTe"),v=n.n(p),_=tui.require("tui/components/paging/Paging"),f=n.n(_),g=n("FR0q"),w=n.n(g),b=n("BDBh"),N=n.n(b),h=n("3Uz/"),y=n.n(h),F=tui.require("tui/components/icons/Remove"),S=n.n(F),x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_remove_audience"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_remove_audience_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_remove_audience"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"result"},arguments:[],directives:[]}]}}]}}]},C=n("x7Rm"),q={components:{Button:o(),ButtonIcon:c(),Cell:k(),HeaderCell:u(),Loader:v(),Paging:f(),SearchFilter:w(),Table:N(),ConfirmationModal:y(),RemoveIcon:S()},props:{workspace:{type:Object,validator:function(e){return"id"in e&&"total_audiences"in e&&"name"in e},required:!0}},data:function(){return{searchAudience:"",pagination:{page:1,limit:10},paginatedAudiences:{items:[],total:0},activeAudience:null,submitting:!1,showRemoveModal:!1}},computed:{noAudiencesAssigned:function(){return 0===this.workspace.total_audiences}},watch:{searchAudience:function(e,i){e!==i&&(this.pagination.page=1,this.pagination.limit=10)}},methods:{updatePage:function(e){this.pagination.page=e},updatePageSize:function(e){this.pagination.limit=e,this.pagination.page=1},showRemove:function(e){this.activeAudience=e,this.submitting=!1,this.showRemoveModal=!0},confirmRemove:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.submitting=!0,i.next=3,e.$apollo.mutate({mutation:x,variables:{input:{workspace_id:e.workspace.id,audience_id:e.activeAudience.id}},refetchQueries:["container_workspace_get_workspace","container_workspace_audiences"],awaitRefetchQueries:!0});case 3:e.showRemoveModal=!1,(0,C.notify)({message:e.$str("audience_removed","container_workspace")});case 5:case"end":return i.stop()}}),i)})))()},cancelRemove:function(){this.showRemoveModal=!1}},apollo:{paginatedAudiences:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_audiences"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_audiences_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"paginatedAudiences"},name:{kind:"Name",value:"container_workspace_audiences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members_count"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]},fetchPolicy:"network-only",variables:function(){return{input:{workspace_id:this.workspace.id,name:this.searchAudience,pagination:{page:this.pagination.page,limit:this.pagination.limit}}}}}}},V=function(e){e.options.__langStrings={core:["actions","remove"],container_workspace:["add_audiences","audience_name","audience_id","audience_members","audience_removed","filter_audiences","no_audiences_added","remove_audience_warning_msg","remove_audience_warning_bullet_1","remove_audience_warning_bullet_2","remove_x"]}},D=(0,n("wWJ2").Z)(q,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceAudiencesTab"},[e.noAudiencesAssigned?n("div",{staticClass:"tui-workspaceAudiencesTab__placeholder"},[n("Loader",{attrs:{loading:e.$apollo.loading}},[e.$apollo.loading?e._e():[n("p",[n("b",[e._v(e._s(e.$str("no_audiences_added","container_workspace")))])]),e._v(" "),n("div",[n("Button",{attrs:{styleclass:{primary:"true"},text:e.$str("add_audiences","container_workspace")},on:{click:function(i){return e.$emit("add-audience")}}})],1)]],2)],1):n("div",[n("div",{staticClass:"tui-workspaceAudiencesTab__filter"},[n("SearchFilter",{attrs:{name:"user-search-input","drop-label":"",placeholder:e.$str("filter_audiences","container_workspace"),label:e.$str("filter_audiences","container_workspace")},model:{value:e.searchAudience,callback:function(i){e.searchAudience=i},expression:"searchAudience"}})],1),e._v(" "),n("Loader",{attrs:{loading:e.$apollo.loading}},[n("Table",{staticClass:"tui-workspaceAudiencesTab__table",attrs:{"loading-preview":e.$apollo.loading,"loading-preview-rows":e.pagination.limit,data:e.paginatedAudiences.items},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"6"}},[e._v("\n            "+e._s(e.$str("audience_name","container_workspace"))+"\n          ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n            "+e._s(e.$str("audience_id","container_workspace"))+"\n          ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n            "+e._s(e.$str("audience_members","container_workspace"))+"\n          ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"end"}},[n("span",{staticClass:"tui-sr-only"},[e._v(e._s(e.$str("actions","core")))])])]},proxy:!0},{key:"row",fn:function(i){var a=i.row;return[n("Cell",{attrs:{"column-header":e.$str("audience_name","container_workspace"),size:"6"},scopedSlots:e._u([{key:"default",fn:function(){return[e._v("\n              "+e._s(a.name)+"\n            ")]},proxy:!0}],null,!0)}),e._v(" "),n("Cell",{attrs:{"column-header":e.$str("audience_id","container_workspace"),size:"2"}},[e._v("\n            "+e._s(a.idnumber)+"\n          ")]),e._v(" "),n("Cell",{attrs:{"column-header":e.$str("audience_members","container_workspace"),size:"2"}},[e._v("\n            "+e._s(a.members_count)+"\n          ")]),e._v(" "),n("Cell",{attrs:{align:"end",size:"2",valign:"center"},scopedSlots:e._u([{key:"default",fn:function(i){var t=i.isStacked;return[n("div",{staticClass:"tui-workspaceAudiencesTab__actions"},[t?n("Button",{staticClass:"tui-workspaceAudiencesTab__actions-stackedButton",attrs:{"aria-label":e.$str("remove_x","container_workspace",a.name),styleclass:{small:!0,transparent:!0},text:e.$str("remove","core")},on:{click:function(i){return e.showRemove(a)}}}):n("ButtonIcon",{attrs:{"aria-label":e.$str("remove_x","container_workspace",a.name),styleclass:{small:!0,transparent:!0}},on:{click:function(i){return e.showRemove(a)}}},[n("RemoveIcon",{attrs:{state:"alert"}})],1)],1)]}}],null,!0)})]}}])}),e._v(" "),e.paginatedAudiences.total>0?n("Paging",{attrs:{page:e.pagination.page,"items-per-page":e.pagination.limit,"total-items":e.paginatedAudiences.total},on:{"page-change":e.updatePage,"count-change":e.updatePageSize}}):e._e()],1)],1),e._v(" "),n("ConfirmationModal",{attrs:{open:e.showRemoveModal,title:e.$str("remove_x","container_workspace",e.activeAudience&&e.activeAudience.name),loading:e.submitting,"confirm-button-text":e.$str("remove","core")},on:{confirm:e.confirmRemove,cancel:e.cancelRemove}},[n("p",[e._v("\n      "+e._s(e.$str("remove_audience_warning_msg","container_workspace",{audience:e.activeAudience&&e.activeAudience.name,workspace:e.workspace.name}))+"\n    ")]),e._v(" "),n("ul",[n("li",[e._v("\n        "+e._s(e.$str("remove_audience_warning_bullet_1","container_workspace"))+"\n      ")]),e._v(" "),n("li",[e._v("\n        "+e._s(e.$str("remove_audience_warning_bullet_2","container_workspace"))+"\n      ")])])])],1)}),[],!1,null,null,null);V(D),D.options.__hasBlocks={script:!0,template:!0};var $=D.exports},N4R8:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return A}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("0AlR"),o=n.n(s),d=n("IpiT"),c=n.n(d),l=tui.require("container_workspace/components/card/DiscussionWithCommentCard"),u=n.n(l),m=tui.require("container_workspace/components/card/DiscussionContentResultCard"),k=n.n(m),p=tui.require("container_workspace/components/filter/DiscussionFilter"),v=n.n(p),_=n("x7Rm"),f=n("YQTe"),g=n.n(f),w=tui.require("container_workspace/components/form/PostDiscussionForm"),b=n.n(w),N=n("/apQ"),h=n.n(N),y=n("3Wc6"),F=n.n(y),S={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_discussions"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_discussion_sort"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_discussion_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"pinned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"discussions"},name:{kind:"Name",value:"container_workspace_discussions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"pinned"},value:{kind:"BooleanValue",value:!1}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_report"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"removed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},x=n("SX5B"),C={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_post_discussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"content_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_create_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"content"},value:{kind:"Variable",name:{kind:"Name",value:"content"}}},{kind:"Argument",name:{kind:"Name",value:"content_format"},value:{kind:"Variable",name:{kind:"Name",value:"content_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_report"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"removed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},q={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_search_discussion_content"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_discussion_search_content_results_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"results"},name:{kind:"Name",value:"container_workspace_search_discussion_content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instance_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}}]}}]},V={components:{Button:c(),DiscussionCard:u(),DiscussionContentResultCard:k(),DiscussionFilter:v(),PageLoader:g(),PostDiscussionForm:b(),Separator:h(),VirtualScroll:F()},props:{workspaceId:{type:[Number,String],required:!0},workspaceContextId:{type:[Number,String],required:!0},selectedSort:{type:String,required:!0},workspaceTotalDiscussions:{type:[Number,String],required:!0}},apollo:{interactor:{query:x.Z,context:{batch:!0},variables:function(){return{workspace_id:this.workspaceId}}},page:{query:S,fetchPolicy:"network-only",context:{batch:!0},variables:function(){return{workspace_id:this.workspaceId,sort:this.sort}},update:function(e){return{cursor:e.cursor,discussions:e.discussions}}},search:{query:q,fetchPolicy:"network-only",skip:function(){return!this.searchTerm},variables:function(){return{workspace_id:this.workspaceId,search_term:this.searchTerm}},update:function(e){return{cursor:e.cursor,results:e.results.map((function(e,i){return Object.assign({},e,{id:i})}))}}}},data:function(){return{interactor:{},submitting:!1,page:{cursor:{total:0,next:null},discussions:[]},search:{cursor:{total:0,next:null},results:[]},sort:this.selectedSort,searchTerm:"",hasError:!1}},computed:{canPostDiscussion:function(){return this.interactor.can_create_discussions},user:function(){return this.interactor.user?this.interactor.user:{}},discussionQueryVariables:function(){return{workspace_id:this.workspaceId,sort:this.sort}},searchQueryVariables:function(){return{workspace_id:this.workspaceId,search_term:this.searchTerm}},loadMoreDiscussionsVisibility:function(){return!this.$apollo.loading&&!this.hasSearch&&this.page.cursor.next},loadMoreSearchResultsVisibility:function(){return!this.$apollo.loading&&this.hasSearch&&this.search.cursor.next},hasSearch:function(){return!!this.searchTerm}},watch:{selectedSort:function(e){this.sort=e}},methods:{$_getDiscussionCache:function(){return o().readQuery({query:S,variables:this.discussionQueryVariables})},submit:function(e){var i=this,n=e.content,t=e.itemId;return(0,a.Z)(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:C,refetchAll:!1,variables:{workspace_id:i.workspaceId,content:n,draft_id:t},update:function(e,n){var a=n.data.discussion;i.updatePageCache(e,a),i.updateSearchCache(e,a)}});case 6:i.$emit("add-discussion"),i.hasError=!1,e.next=15;break;case 10:return e.prev=10,e.t0=e.catch(3),i.hasError=!0,e.next=15,(0,_.notify)({message:i.$str("error:create_discussion","container_workspace"),type:"error"});case 15:return e.prev=15,i.submitting=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[3,10,15,18]])})))()},updatePageCache:function(e,i){var n=this.discussionQueryVariables,a=e.readQuery({query:S,variables:n}),t=a.cursor,r=a.discussions;(t=Object.assign({},t)).total+=1,e.writeQuery({query:S,variables:n,data:{cursor:t,discussions:Array.prototype.concat.call([i],r)}})},updateSearchCache:function(e,i){if(this.hasSearch&&new RegExp(this.searchTerm,"i").test(i.content)){var n=this.searchQueryVariables,a=e.readQuery({query:q,variables:n}),t=a.cursor,r=a.results;(t=Object.assign({},t)).total+=1;var s={id:r.length+1,workspace_id:i.workspace_id,discussion_id:i.id,instance_type:"DISCUSSION",instance_id:i.id,content:i.content,owner:Object.assign({},i.owner),time_description:i.time_description,__typename:"container_workspace_discussion_search_result"};e.writeQuery({query:q,variables:n,data:{cursor:t,results:Array.prototype.concat.call([s],r)}})}},updateDiscussionReactStatus:function(e){var i=e.discussionId,n=e.status,a=this.$_getDiscussionCache(),t=a.discussions,r=a.cursor;o().writeQuery({query:S,variables:this.discussionQueryVariables,data:{cursor:r,discussions:Array.prototype.map.call(t,(function(e){if(e.id==i){var a=Object.assign({},e),t=Object.assign({},a.discussion_interactor);return t.reacted=n,a.discussion_interactor=t,n?a.total_reactions+=1:0!=a.total_reactions&&(a.total_reactions-=1),a}return e}))}})},updateDiscussion:function(e){var i=this.$_getDiscussionCache(),n=i.discussions,a=i.cursor;o().writeQuery({query:S,variables:this.discussionQueryVariables,data:{cursor:a,discussions:Array.prototype.map.call(n,(function(i){return i.id===e.id?e:i}))}})},addNewComment:function(e){var i=this.$_getDiscussionCache(),n=i.discussions,a=i.cursor;o().writeQuery({query:S,variables:this.discussionQueryVariables,data:{cursor:a,discussions:Array.prototype.map.call(n,(function(i){if(i.id==e){var n=Object.assign({},i);return n.total_comments+=1,n}return i}))}})},onScrollToBottom:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!((e.hasSearch?e.search.results.length:e.page.discussions.length)>=40||e.$apollo.loading)){i.next=3;break}return i.abrupt("return");case 3:return i.next=5,e.loadMoreItems();case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return console.warn("WorkspaceDiscussionTab.loadMore() is deprecated - use loadMoreItems instead"),i.next=3,e.loadMoreItems();case 3:case"end":return i.stop()}}),i)})))()},loadMoreItems:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.hasSearch){i.next=5;break}return i.next=3,e.loadMoreSearchResults();case 3:i.next=7;break;case 5:return i.next=7,e.loadMoreDiscussions();case 7:case"end":return i.stop()}}),i)})))()},loadMoreDiscussions:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.page.cursor.next&&!e.$apollo.queries.page.loading){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.$apollo.queries.page.fetchMore({variables:{cursor:e.page.cursor.next,workspace_id:e.workspaceId,sort:e.sort},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.discussions.concat(n.discussions);return a=a.filter((function(e,i){return a.findIndex((function(i){return e.id===i.id}))===i})),{cursor:n.cursor,discussions:a}}});case 4:case"end":return i.stop()}}),i)})))()},loadMoreSearchResults:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.search.cursor.next&&!e.$apollo.queries.search.loading){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.$apollo.queries.search.fetchMore({variables:{cursor:e.search.cursor.next,workspace_id:e.workspaceId,search_term:e.searchTerm},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.results.concat(n.results).map((function(e,i){return Object.assign({},e,{id:i})}));return{cursor:n.cursor,results:a}}});case 4:case"end":return i.stop()}}),i)})))()},deleteDiscussion:function(e){var i=this.$_getDiscussionCache(),n=i.discussions,a=i.cursor;o().writeQuery({query:S,variables:this.discussionQueryVariables,data:{cursor:a,discussions:Array.prototype.filter.call(n,(function(i){return i.id!=e}))}})}}},D=function(e){e.options.__langStrings={container_workspace:["discussions_list","error:create_discussion","loadmore","no_discussion_result","search_contents","total_discussions","total_search_results","vieweditems"]}},$=(0,n("wWJ2").Z)(V,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceDiscussionTab"},[e.canPostDiscussion?[n("PostDiscussionForm",{attrs:{"avatar-image-alt":e.user.profileimagealt,"avatar-image-src":e.user.profileimageurl,submitting:e.submitting,"workspace-context-id":e.workspaceContextId,"has-error":e.hasError,"avatar-image-url":e.$url("/user/profile.php",{id:e.user.id})},on:{submit:e.submit}}),e._v(" "),n("Separator",{attrs:{normal:!0}})]:e._e(),e._v(" "),e.workspaceTotalDiscussions?n("DiscussionFilter",{staticClass:"tui-workspaceDiscussionTab__filter",attrs:{sort:e.sort,"search-term":e.searchTerm,"workspace-id":e.workspaceId},on:{"update-search-term":function(i){e.searchTerm=i},"update-sort":function(i){e.sort=i}}}):e._e(),e._v(" "),!e.$apollo.loading&&0===e.search.cursor.total&&e.hasSearch?n("div",{staticClass:"tui-workspaceDiscussionTab__message"},[e._v("\n    "+e._s(e.$str("no_discussion_result","container_workspace"))+"\n  ")]):e._e(),e._v(" "),e.hasSearch?n("div",[n("VirtualScroll",{staticClass:"tui-workspaceDiscussionTab__resultList",attrs:{"data-key":"id","data-list":e.search.results,"aria-label":e.$str("search_contents","container_workspace"),"is-loading":e.$apollo.loading,"page-mode":!0},on:{scrollbottom:e.onScrollToBottom},scopedSlots:e._u([{key:"item",fn:function(i){var a=i.item;return i.posInSet,i.setSize,[n("DiscussionContentResultCard",{staticClass:"tui-workspaceDiscussionTab__resultCard",attrs:{id:a.id,"creator-fullname":a.owner.fullname,"creator-image-alt":a.owner.profileimagealt||a.owner.fullname,"creator-image-src":a.owner.profileimageurl,"creator-id":a.owner.id,"discussion-content":a.content,"time-description":a.time_description,"discussion-id":a.discussion_id,"aria-labelledby":e.$id("item-"+a.id),"label-id":e.$id("item-"+a.id),"workspace-context-id":a.workspace_context_id}})]}},{key:"footer",fn:function(){return[n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.loading}})]},proxy:!0}],null,!1,3332785915)}),e._v(" "),e.loadMoreSearchResultsVisibility?n("div",{staticClass:"tui-workspaceDiscussionTab__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceDiscussionTab__viewedDiscussions"},[e._v("\n        "+e._s(e.$str("vieweditems","container_workspace",e.search.results.length))+"\n        "+e._s(e.$str("total_search_results","container_workspace",e.search.cursor.total))+"\n      ")]),e._v(" "),n("Button",{staticClass:"tui-workspaceDiscussionTab__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMoreSearchResults}})],1):e._e()],1):n("div",[n("VirtualScroll",{attrs:{"data-key":"id","data-list":e.page.discussions,"aria-label":e.$str("discussions_list","container_workspace"),"is-loading":e.$apollo.loading,"page-mode":!0},on:{scrollbottom:e.onScrollToBottom},scopedSlots:e._u([{key:"item",fn:function(i){var a=i.item,t=i.posInSet,r=i.setSize;return[n("DiscussionCard",{staticClass:"tui-workspaceDiscussionTab__card",attrs:{"creator-fullname":a.owner.fullname,"creator-image-alt":a.owner.profileimagealt||a.owner.fullname,"creator-image-src":a.owner.profileimageurl,"creator-id":a.owner.id,"discussion-content":a.content,"time-description":a.time_description,"total-comments":a.total_comments,"total-reactions":a.total_reactions,"discussion-id":a.id,"first-comment-cursor":a.comment_cursor,reacted:a.discussion_interactor.reacted,"update-able":a.discussion_interactor.can_update,"delete-able":a.discussion_interactor.can_delete,"comment-able":a.discussion_interactor.can_comment,"react-able":a.discussion_interactor.can_react,"report-able":a.discussion_interactor.can_report,removed:a.discussion_interactor.removed,edited:a.edited,"aria-posinset":t,"aria-setsize":r,"aria-labelledby":e.$id("item-"+a.id),"label-id":e.$id("item-"+a.id),"workspace-context-id":a.workspace_context_id},on:{"update-discussion-react-status":e.updateDiscussionReactStatus,"update-discussion":e.updateDiscussion,"add-new-comment":e.addNewComment,"delete-discussion":e.deleteDiscussion}})]}},{key:"footer",fn:function(){return[n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.loading}})]},proxy:!0}])}),e._v(" "),e.loadMoreDiscussionsVisibility?n("div",{staticClass:"tui-workspaceDiscussionTab__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceDiscussionTab__viewedDiscussions"},[e._v("\n        "+e._s(e.$str("vieweditems","container_workspace",e.page.discussions.length))+"\n        "+e._s(e.$str("total_discussions","container_workspace",e.page.cursor.total))+"\n      ")]),e._v(" "),n("Button",{staticClass:"tui-workspaceDiscussionTab__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMoreDiscussions}})],1):e._e()],1)],2)}),[],!1,null,null,null);D($),$.options.__hasBlocks={script:!0,template:!0};var A=$.exports},BSTz:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return v}});var a=tui.require("totara_engage/components/contribution/BaseContent"),t=n.n(a),r=tui.require("totara_engage/components/contribution/Filter"),s=n.n(r),o=n("7oVD"),d=n("MI77"),c=n("8O0l"),l=n.n(c),u=n("SX5B"),m={components:{ContributionBaseContent:t(),ContributionFilter:s()},mixins:[l()],props:{workspaceId:{type:[Number,String],required:!0}},data:function(){return{interactor:{}}},computed:{canContribute:function(){return this.interactor.can_share_resources},displayCards:function(){return this.canContribute?[{instanceid:this.workspaceId,component:"WorkspaceContributeCard",tuicomponent:"container_workspace/components/card/WorkspaceContributeCard",name:"",user:{}}].concat(this.contribution.cards):this.contribution.cards}},created:function(){this.filterValue=Object.assign({},this.filterValue,{sort:5}),this.includeFootnotes=!0},apollo:{interactor:{query:u.Z,variables:function(){return{workspace_id:this.workspaceId}}},contribution:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_shared_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"saved"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shared"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"owned"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"container_workspace_shared_cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}},{kind:"ObjectField",name:{kind:"Name",value:"saved"},value:{kind:"Variable",name:{kind:"Name",value:"saved"}}},{kind:"ObjectField",name:{kind:"Name",value:"shared"},value:{kind:"Variable",name:{kind:"Name",value:"shared"}}},{kind:"ObjectField",name:{kind:"Name",value:"owned"},value:{kind:"Variable",name:{kind:"Name",value:"owned"}}}]}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"can_bookmark"},arguments:[],directives:[]}]}}]}}]}}]}}]},fetchPolicy:"network-only",variables:function(){return Object.assign({},this.filterValue,{workspace_id:this.workspaceId,area:"library",include_footnotes:!0,footnotes_type:"shared",footnotes_item_id:this.workspaceId,footnotes_area:"library",footnotes_component:"container_workspace",source:o.UrlSourceType.workspace(this.workspaceId),theme:d.config.theme.name})},update:function(e){var i=e.contribution;return{cursor:i.cursor,cards:i.cards}},skip:function(){return this.skipCardsQuery}}},methods:{adderOpen:function(){this.showAdder=!0},adderCancelled:function(){this.showAdder=!1},adderUpdate:function(e){this.addedItems=e,this.showAdder=!1}}},k=function(e){e.options.__langStrings={container_workspace:["search_library"]}},p=(0,n("wWJ2").Z)(m,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceLibraryTab"},[n("ContributionBaseContent",{attrs:{units:e.units,loading:e.$apollo.loading,"loading-more":e.loadingMore,cards:e.displayCards,"total-cards":e.contribution.cursor.total,"show-heading":!1,"grid-direction":e.gridDirection,"show-footnotes":e.includeFootnotes,"is-load-more-visible":e.isLoadMoreVisible,"from-library":!0},on:{"scrolled-to-bottom":e.scrolledToBottom,"load-more":e.loadMore},scopedSlots:e._u([{key:"filters",fn:function(){return[n("ContributionFilter",{staticClass:"tui-workspaceLibraryTab__filter",attrs:{component:"container_workspace",area:"library","has-bottom-bar":!0,value:e.filterValue,"show-access":!1,"show-type":!0,"show-topic":!0,"show-sort":!0,"show-search":!0,"search-placeholder":e.$str("search_library","container_workspace")},on:{type:e.filterType,topic:e.filterTopic,search:e.filterSearch,sort:e.filterSort}})]},proxy:!0}])})],1)}),[],!1,null,null,null);k(p),p.options.__hasBlocks={script:!0,template:!0};var v=p.exports},WMW2:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return x}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=tui.require("container_workspace/components/card/WorkspaceMemberCard"),o=n.n(s),d=n("RwCy"),c=n.n(d),l=n("FR0q"),u=n.n(l),m=n("0AlR"),k=n.n(m),p=n("3Wc6"),v=n.n(p),_=n("IpiT"),f=n.n(_),g=n("YQTe"),w=n.n(g),b=tui.require("container_workspace/components/content/WorkspaceMemberRequestList"),N=n.n(b),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_find_members"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_member_sort"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_member_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"ACTIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"members"},name:{kind:"Name",value:"container_workspace_members"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"EnumValue",value:"ACTIVE"}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_remove"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"time_joined"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"audiences"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]},y={components:{WorkspaceMemberCard:o(),SelectFilter:c(),SearchFilter:u(),VirtualScroll:v(),Button:f(),PageLoader:w(),WorkspaceMemberRequestList:N()},props:{workspaceId:{type:[String,Number],required:!0},selectedSort:{type:String,required:!0},totalMembers:{type:[String,Number],required:!0},totalMemberRequests:{type:[String,Number],default:0},canViewMemberRequests:Boolean},apollo:{filter:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_member_filter_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_member_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},update:function(e){var i=e.sorts;return{sorts:Array.prototype.map.call(i,(function(e){var i=e.label;return{id:e.value,label:i}}))}}},member:{query:h,fetchPolicy:"network-only",skip:function(){return this.$apollo.queries.filter.loading},variables:function(){return{workspace_id:this.workspaceId,sort:this.sort,search_term:this.searchTerm}},update:function(e){return{cursor:e.cursor,items:e.members}}}},data:function(){return{filter:{},isLoadMoreVisible:!1,member:{cursor:{total:0,next:null},items:[]},searchTerm:"",sort:this.selectedSort}},computed:{totalMemberText:function(){return 1==this.totalMembers?this.$str("one_member","container_workspace"):this.$str("total_member_x","container_workspace",this.totalMembers)}},methods:{removeMember:function(e){var i={search_term:this.searchTerm,sort:this.sort,workspace_id:this.workspaceId},n=k().readQuery({query:h,variables:i}),a=n.cursor,t=n.members;k().writeQuery({query:h,variables:i,data:{cursor:a,members:Array.prototype.filter.call(t,(function(i){return i.user.id!=e}))}})},onScrollToBottom:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.isLoadMoreVisible){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.loadMoreItems();case 4:e.isLoadMoreVisible=!0;case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.loadMoreItems();case 2:e.isLoadMoreVisible=!1;case 3:case"end":return i.stop()}}),i)})))()},loadMoreItems:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.member.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.member.fetchMore({variables:{cursor:e.member.cursor.next,workspace_id:e.workspaceId,sort:e.sort,search_term:e.searchTerm},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.members.concat(n.members);return{cursor:n.cursor,members:a}}});case 3:case"end":return i.stop()}}),i)})))()}}},F=function(e){e.options.__langStrings={container_workspace:["loadmore","one_member","total_member_x","no_member_found","vieweditems","member_list","search_members"],core:["sortby"]}},S=(0,n("wWJ2").Z)(y,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceMembersTab"},[e.canViewMemberRequests&&e.totalMemberRequests>0?n("WorkspaceMemberRequestList",{staticClass:"tui-workspaceMembersTab__list",attrs:{"workspace-id":e.workspaceId}}):e._e(),e._v(" "),n("div",{staticClass:"tui-workspaceMembersTab__searchHead"},[n("SearchFilter",{attrs:{"drop-label":"",label:e.$str("search_members","container_workspace"),placeholder:e.$str("search_members","container_workspace")},model:{value:e.searchTerm,callback:function(i){e.searchTerm=i},expression:"searchTerm"}})],1),e._v(" "),e.$apollo.queries.filter.loading?e._e():n("div",{staticClass:"tui-workspaceMembersTab__content"},[n("div",{staticClass:"tui-workspaceMembersTab__head"},[n("h3",{staticClass:"tui-workspaceMembersTab__title"},[n("span",[e._v(e._s(e.totalMemberText))])]),e._v(" "),n("SelectFilter",{attrs:{options:e.filter.sorts,"show-label":!0,label:e.$str("sortby","core"),"aria-label":e.$str("sortby","core")},model:{value:e.sort,callback:function(i){e.sort=i},expression:"sort"}})],1),e._v(" "),n("div",{staticClass:"tui-workspaceMembersTab__members"},[n("VirtualScroll",{attrs:{"data-key":"id","data-list":e.member.items,"aria-label":e.$str("member_list","container_workspace"),"is-loading":e.$apollo.queries.member.loading,"page-mode":!0},on:{scrollbottom:e.onScrollToBottom},scopedSlots:e._u([{key:"item",fn:function(i){var a=i.item,t=i.posInSet,r=i.setSize;return[n("WorkspaceMemberCard",{staticClass:"tui-workspaceMembersTab__member",attrs:{"user-id":a.user.id,"user-full-name":a.user.fullname,"user-card-display":a.user.card_display,"delete-able":a.member_interactor.can_remove,"workspace-id":e.workspaceId,"aria-posinset":t,"aria-setsize":r,"aria-labelledby":e.$id("item-"+a.id),"label-id":e.$id("item-"+a.id),owner:a.workspace_interactor.own,audiences:a.audiences},on:{"remove-member":e.removeMember}})]}},{key:"footer",fn:function(){return[n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.queries.member.loading}})]},proxy:!0}],null,!1,1305706269)}),e._v(" "),e.isLoadMoreVisible&&e.member.cursor.next&&!e.$apollo.queries.member.loading?n("div",{staticClass:"tui-workspaceMembersTab__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceMembersTab__viewedMembers"},[[e._v("\n            "+e._s(e.$str("vieweditems","container_workspace",e.member.items.length))+"\n            "+e._s(e.totalMemberText)+"\n          ")]],2),e._v(" "),n("Button",{staticClass:"tui-workspaceMembersTab__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMore}})],1):e._e(),e._v(" "),e.member.items.length<=0&&!e.$apollo.queries.member.loading?n("p",{staticClass:"tui-workspaceMembersTab__message"},[e._v("\n        "+e._s(e.$str("no_member_found","container_workspace"))+"\n      ")]):e._e()],1)])],1)}),[],!1,null,null,null);F(S),S.options.__hasBlocks={script:!0,template:!0};var x=S.exports},C0e5:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return g}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=tui.require("totara_engage/components/modal/EngageAdderModal"),o=n.n(s),d=n("3Uz/"),c=n.n(d),l=n("MI77"),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_engage_share_with_recipient"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"items"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_share_item"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"recipient"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_recipient_in"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"shared"},name:{kind:"Name",value:"totara_engage_share_with_recipient"},arguments:[{kind:"Argument",name:{kind:"Name",value:"items"},value:{kind:"Variable",name:{kind:"Name",value:"items"}}},{kind:"Argument",name:{kind:"Name",value:"recipient"},value:{kind:"Variable",name:{kind:"Name",value:"recipient"}}}],directives:[]}]}}]},m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_check_share_access_for_library"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"items"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_share_item"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"container_workspace_check_share_access"},arguments:[{kind:"Argument",name:{kind:"Name",value:"items"},value:{kind:"Variable",name:{kind:"Name",value:"items"}}},{kind:"Argument",name:{kind:"Name",value:"workspace"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"StringValue",value:"container_workspace",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"StringValue",value:"library",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"warning"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]},k=n("8O0l"),p=n.n(k),v={components:{EngageAdderModal:o(),ConfirmationModal:c()},mixins:[p()],props:{workspaceId:{type:[String,Number],required:!0},showAdder:Boolean},data:function(){return{currentItems:[],sharingItems:!1,addingItems:!1,warning:{message:"",modal:!1}}},watch:{showAdder:function(e){this.skipCardsQuery=!e}},created:function(){this.skipCardsQuery=!0},apollo:{contribution:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_contribution_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"image_preview_mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"container_workspace_contributions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}}]}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imagetuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}},{kind:"Argument",name:{kind:"Name",value:"preview_mode"},value:{kind:"Variable",name:{kind:"Name",value:"image_preview_mode"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"can_bookmark"},arguments:[],directives:[]}]}}]}}]}}]}}]},fetchPolicy:"network-only",variables:function(){return Object.assign({},this.filterValue,{workspace_id:this.workspaceId,area:"adder",include_footnotes:!1,image_preview_mode:"totara_engage_adder_thumbnail",theme:l.config.theme.name})},update:function(e){var i=e.contribution,n=i.cursor,a=i.cards;return{cursor:n,cards:this.canContribute?this.$_addContributeCard(a):a}},skip:function(){return this.skipCardsQuery}}},methods:{processAddingItems:function(e){var i=this;return(0,a.Z)(r().mark((function n(){var a,t,s,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.addingItems){n.next=2;break}return n.abrupt("return");case 2:return i.addingItems=!0,a=e.map((function(e){return JSON.parse(e)})),i.currentItems=a,n.prev=5,n.next=8,i.checkAccessSetting(a);case 8:o=n.sent,t=o.warning,s=o.message;case 11:return n.prev=11,i.addingItems=!1,n.finish(11);case 14:if(!t){n.next=19;break}return i.warning.message=s,i.warning.modal=!0,i.$emit("close"),n.abrupt("return");case 19:return n.next=21,i.shareItems(a);case 21:case"end":return n.stop()}}),n,null,[[5,,11,14]])})))()},checkAccessSetting:function(e){var i=this;return(0,a.Z)(r().mark((function n(){var a,t,s,o;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,i.$apollo.query({query:m,variables:{items:e,workspace_id:i.workspaceId}});case 2:return a=n.sent,t=a.data.result,s=t.warning,o=t.message,n.abrupt("return",{warning:s,message:o});case 7:case"end":return n.stop()}}),n)})))()},shareItems:function(e){var i=this;return(0,a.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.sharingItems){n.next=2;break}return n.abrupt("return");case 2:return i.sharingItems=!0,n.prev=3,n.next=6,i.$apollo.mutate({mutation:u,refetchAll:!1,refetchQueries:["container_workspace_shared_cards"],variables:{items:e,recipient:{instanceid:i.workspaceId,component:"container_workspace",area:"library"}}});case 6:i.warning.modal=!1,i.warning.message="";case 8:return n.prev=8,i.$emit("close"),i.sharingItems=!1,n.finish(8);case 12:case"end":return n.stop()}}),n,null,[[3,,8,12]])})))()},closeWarning:function(){this.warning.modal=!1,this.warning.message="",this.currentItems=[]},loadMoreItems:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.contribution.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.contribution.fetchMore({variables:{cursor:e.contribution.cursor.next,workspace_id:e.workspaceId,area:"adder",include_footnotes:!1,image_preview_mode:"totara_engage_adder_thumbnail",theme:l.config.theme.name},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.contribution.cards.concat(n.contribution.cards);return{contribution:{cursor:n.contribution.cursor,cards:a}}}});case 3:case"end":return i.stop()}}),i)})))()}}},_=function(e){e.options.__langStrings={container_workspace:["workspace:add_library","warning_change_title"],core:["continue"]}},f=(0,n("wWJ2").Z)(v,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",[n("ConfirmationModal",{attrs:{open:e.warning.modal,title:e.$str("warning_change_title","container_workspace"),"confirm-button-text":e.$str("continue","core"),loading:e.sharingItems},on:{confirm:function(i){return e.shareItems(e.currentItems)},cancel:e.closeWarning}},[e._v("\n    "+e._s(e.warning.message)+"\n  ")]),e._v(" "),n("EngageAdderModal",{attrs:{title:e.$str("workspace:add_library","container_workspace"),open:e.showAdder,cards:e.contribution.cards,cursor:e.contribution.cursor,"filter-value":e.filterValue,"filter-component":"container_workspace","filter-area":"adder","show-loading-btn":e.addingItems||e.sharingItems},on:{"load-more":e.loadMoreItems,added:e.processAddingItems,cancel:function(i){return e.$emit("close",i)},topic:e.filterTopic,search:e.filterSearch,section:e.filterSection}})],1)}),[],!1,null,null,null);_(f),f.options.__hasBlocks={script:!0,template:!0};var g=f.exports},N7Wc:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return p}});var a=n("1+j7"),t=n.n(a),r=tui.require("tui/components/icons/Add"),s=n.n(r),o=n("EJOt"),d=n.n(o),c=n("bga9"),l=n.n(c),u={components:{ButtonIcon:t(),AddIcon:s(),ModalPresenter:d(),WorkspaceModal:l()},props:{disabled:Boolean,buttonAriaLabel:{type:String,default:function(){return this.$str("create_space","container_workspace")}}},data:function(){return{submitting:!1,openModal:!1}},methods:{createWorkspace:function(e){this.openModal=!1,this.$emit("create-workspace",e)}}},m=function(e){e.options.__langStrings={container_workspace:["create_space"]}},k=(0,n("wWJ2").Z)(u,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-contributeWorkspace"},[n("ModalPresenter",{attrs:{open:e.openModal},on:{"request-close":function(i){e.openModal=!1}}},[n("WorkspaceModal",{on:{"create-workspace":e.createWorkspace}})],1),e._v(" "),n("ButtonIcon",{staticClass:"tui-contributeWorkspace__button",attrs:{"aria-label":e.buttonAriaLabel,styleclass:{circle:!0,xsmall:!0},disabled:e.disabled},on:{click:function(i){i.preventDefault(),e.openModal=!0}}},[n("AddIcon")],1)],1)}),[],!1,null,null,null);m(k),k.options.__hasBlocks={script:!0,template:!0};var p=k.exports},CBSO:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return l}});var a=tui.require("tui/components/form/SearchBox"),t=n.n(a),r=n("RwCy"),s=n.n(r),o={components:{SearchBox:t(),SelectFilter:s()},props:{searchTerm:String,sort:String,workspaceId:{type:[Number,String],required:!0}},apollo:{sortOptions:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_discussion_filter_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_discussion_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]},skip:function(){return!this.showSort},context:{batch:!0},update:function(e){var i=e.sorts;return Array.prototype.map.call(i,(function(e){var i=e.value;return{label:e.label,id:i}}))}}},data:function(){return{innerSearchTerm:this.searchTerm,innerSort:this.sort,sortOptions:[]}},computed:{showSort:function(){return!this.innerSearchTerm}},watch:{sort:function(e){e!==this.innerSort&&(this.innerSort=e)},innerSort:function(e){e!==this.sort&&this.$emit("update-sort",e)}},methods:{submitSearch:function(){this.$emit("update-search-term",this.innerSearchTerm)},clearSearch:function(){this.innerSearchTerm="",this.submitSearch()}}},d=function(e){e.options.__langStrings={container_workspace:["search_discussions","browse_files"],core:["sortby"]}},c=(0,n("wWJ2").Z)(o,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceDiscussionFilter"},[n("div",{staticClass:"tui-workspaceDiscussionFilter__search"},[n("SearchBox",{staticClass:"tui-workspaceDiscussionFilter__search-box",attrs:{"aria-label":e.$str("search_discussions","container_workspace"),placeholder:e.$str("search_discussions","container_workspace")},on:{submit:e.submitSearch,clear:e.clearSearch},model:{value:e.innerSearchTerm,callback:function(i){e.innerSearchTerm=i},expression:"innerSearchTerm"}}),e._v(" "),e.showSort?n("a",{staticClass:"tui-workspaceDiscussionFilter__search-filesLink",attrs:{href:e.$url("/container/type/workspace/workspace_files.php",{id:e.workspaceId})}},[e._v("\n      "+e._s(e.$str("browse_files","container_workspace"))+"\n    ")]):e._e()],1),e._v(" "),e._t("pinned-discussions"),e._v(" "),e.showSort?n("div",{staticClass:"tui-workspaceDiscussionFilter__sortBox"},[n("SelectFilter",{attrs:{label:e.$str("sortby","core"),"show-label":!0,options:e.sortOptions},model:{value:e.innerSort,callback:function(i){e.innerSort=i},expression:"innerSort"}})],1):e._e()],2)}),[],!1,null,null,null);d(c),c.options.__hasBlocks={script:!0,template:!0};var l=c.exports},zuuX:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return l}});var a=n("ebfP"),t=n.n(a),r=n("RwCy"),s=n.n(r),o={components:{FilterBar:t(),SelectFilter:s()},props:{selectedSort:{type:String,required:!0},selectedExtension:{type:String,default:""},workspaceId:{type:[Number,String],required:!0},showSort:{type:Boolean,required:!0}},apollo:{filter:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_file_filter_options"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_file_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"extensions"},name:{kind:"Name",value:"container_workspace_file_extensions"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},variables:function(){return{workspace_id:this.workspaceId}},update:function(e){var i=e.sorts,n=e.extensions;return(n=Array.prototype.map.call(n,(function(e){return{id:e.value,label:e.label}}))).unshift({id:"",label:this.$str("all","core")}),{extensions:n,sorts:Array.prototype.map.call(i,(function(e){var i=e.label;return{id:e.value,label:i}}))}}}},data:function(){return{selection:{sort:this.selectedSort,extension:this.selectedExtension}}}},d=function(e){e.options.__langStrings={container_workspace:["file_format","files","no_file_found"],core:["sortby","all"]}},c=(0,n("wWJ2").Z)(o,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceFileFilter"},[e.$apollo.loading?e._e():[n("FilterBar",{staticClass:"tui-workspaceFileFilter__filter",attrs:{title:e.$str("files","container_workspace")},scopedSlots:e._u([{key:"filters-left",fn:function(i){var a=i.stacked;return[n("SelectFilter",{staticClass:"tui-workspaceFileFilter__label",attrs:{label:e.$str("file_format","container_workspace"),"show-label":!0,options:e.filter.extensions,stacked:a},on:{input:function(i){return e.$emit("update-filter",e.selection)}},model:{value:e.selection.extension,callback:function(i){e.$set(e.selection,"extension",i)},expression:"selection.extension"}})]}}],null,!1,1626062552)}),e._v(" "),e.showSort?n("SelectFilter",{staticClass:"tui-workspaceFileFilter__sortFilter",attrs:{label:e.$str("sortby","core"),"show-label":!0,options:e.filter.sorts},on:{input:function(i){return e.$emit("update-filter",e.selection)}},model:{value:e.selection.sort,callback:function(i){e.$set(e.selection,"sort",i)},expression:"selection.sort"}}):e._e()]],2)}),[],!1,null,null,null);d(c),c.options.__hasBlocks={script:!0,template:!0};var l=c.exports},hGh6:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return m}});var a=n("ebfP"),t=n.n(a),r=n("RwCy"),s=n.n(r),o=n("FR0q"),d=n.n(o),c={components:{FilterBar:t(),SelectFilter:s(),SearchFilter:d()},props:{selectedSource:{type:String,default:null},selectedSort:{type:String,default:null},searchTerm:{type:String,default:""},selectedAccess:{type:String,default:null},spacesCursor:{type:Object,default:function(){return{total:0,next:""}}},spacesIsLoading:Boolean},apollo:{options:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_filter_options"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"sources"},name:{kind:"Name",value:"container_workspace_workspace_sources"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"sorts"},name:{kind:"Name",value:"container_workspace_workspace_sorts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"accesses"},name:{kind:"Name",value:"container_workspace_workspace_accesses"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},update:function(e){var i=e.sources,n=e.sorts,a=e.accesses;return a=[{label:this.$str("all","core"),value:null}].concat(a),{sources:Array.prototype.map.call(i,(function(e){return{id:e.value,label:e.label}})),sorts:Array.prototype.map.call(n,(function(e){return{id:e.value,label:e.label}})),accesses:Array.prototype.map.call(a,(function(e){return{id:e.value,label:e.label}}))}}}},data:function(){return{options:{},selection:{source:this.selectedSource,sort:this.selectedSort,access:this.selectedAccess,searchTerm:this.searchTerm}}},watch:{selection:{deep:!0,handler:function(){this.$emit("filter",this.selection)}}},methods:{submitSearch:function(){this.$emit("submit-search",this.selection)}}},l=function(e){e.options.__langStrings={container_workspace:["membership","search_spaces","total_space_x","single_space","find_spaces","workspace_access"],core:["all","sortby"]}},u=(0,n("wWJ2").Z)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceFilter"},[e.$apollo.loading?e._e():[n("FilterBar",{staticClass:"tui-workspaceFilter__filter",attrs:{title:e.$str("find_spaces","container_workspace")},scopedSlots:e._u([{key:"filters-left",fn:function(i){var a=i.stacked;return[n("SelectFilter",{attrs:{label:e.$str("workspace_access","container_workspace"),"show-label":!0,options:e.options.accesses,stacked:a},model:{value:e.selection.access,callback:function(i){e.$set(e.selection,"access",i)},expression:"selection.access"}}),e._v(" "),n("SelectFilter",{attrs:{label:e.$str("membership","container_workspace"),"show-label":!0,options:e.options.sources,stacked:a},model:{value:e.selection.source,callback:function(i){e.$set(e.selection,"source",i)},expression:"selection.source"}})]}},{key:"filters-right",fn:function(i){var a=i.stacked;return[n("SearchFilter",{attrs:{label:e.$str("search_spaces","container_workspace"),"drop-label":"",placeholder:e.$str("search_spaces","container_workspace"),stacked:a},model:{value:e.selection.searchTerm,callback:function(i){e.$set(e.selection,"searchTerm",i)},expression:"selection.searchTerm"}})]}}],null,!1,18933867),model:{value:e.selection,callback:function(i){e.selection=i},expression:"selection"}}),e._v(" "),n("div",{staticClass:"tui-workspaceFilter__sortFilter"},[e.spacesIsLoading?e._e():n("div",{staticClass:"tui-workspaceFilter__total"},[0===e.spacesCursor.total||e.spacesCursor.total>1?[e._v("\n          "+e._s(e.$str("total_space_x","container_workspace",e.spacesCursor.total))+"\n        ")]:1===e.spacesCursor.total?[e._v("\n          "+e._s(e.$str("single_space","container_workspace"))+"\n        ")]:e._e()],2),e._v(" "),n("SelectFilter",{staticClass:"tui-workspaceFilter__filter",attrs:{label:e.$str("sortby","core"),"show-label":!0,options:e.options.sorts},model:{value:e.selection.sort,callback:function(i){e.$set(e.selection,"sort",i)},expression:"selection.sort"}})],1)]],2)}),[],!1,null,null,null);l(u),u.options.__hasBlocks={script:!0,template:!0};var m=u.exports},EBUK:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return o}});var a=n("T9Sq"),t={components:{WorkspaceDiscussionForm:n.n(a)()},props:{discussionId:{type:[String,Number],required:!0},submitting:Boolean,hasError:Boolean},apollo:{discussion:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_discussion_draft_content"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"draft_content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"draft_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_context_id"},arguments:[],directives:[]}]}}]}}]},fetchPolicy:"no-cache",variables:function(){return{id:this.discussionId}}}},data:function(){return{discussion:null}},methods:{submitUpdate:function(e){var i=e.content,n=e.itemId;this.$emit("submit",{content:i,contentFormat:this.discussion.content_format,itemId:n})}}},r=function(e){e.options.__langStrings={container_workspace:["done"]}},s=(0,n("wWJ2").Z)(t,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return e.discussion?n("WorkspaceDiscussionForm",{staticClass:"tui-workspaceEditPostDiscussionForm",attrs:{content:e.discussion.draft_content,"content-format":e.discussion.content_format,"draft-id":e.discussion.draft_id,"submit-button-text":e.$str("done","container_workspace"),submitting:e.submitting,"has-error":e.hasError,"discussion-id":e.discussionId,"workspace-context-id":e.discussion.workspace_context_id},on:{submit:e.submitUpdate,cancel:function(i){return e.$emit("cancel")}}}):e._e()}),[],!1,null,null,null);r(s),s.options.__hasBlocks={script:!0,template:!0};var o=s.exports},LHzC:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return c}});var a=tui.require("container_workspace/components/profile/PostAvatar"),t=n.n(a),r=n("T9Sq"),s=n.n(r),o={components:{PostAvatar:t(),WorkspaceDiscussionForm:s()},props:{avatarImageUrl:{type:String,required:!0},avatarImageAlt:{type:String,required:!0},avatarImageSrc:{type:String,required:!0},hasError:Boolean,workspaceContextId:{type:[Number,String],required:!0},submitting:Boolean},apollo:{draftId:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_discussion_draft_id"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"draft_id"},name:{kind:"Name",value:"container_workspace_discussion_draft_id"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}]},fetchPolicy:"network-only",variables:function(){return{id:this.discussionId}},update:function(e){return e.draft_id}}}},d=(0,n("wWJ2").Z)(o,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspacePostDiscussionForm"},[n("PostAvatar",{staticClass:"tui-workspacePostDiscussionForm__avatar",attrs:{"profile-url":e.avatarImageUrl,"image-alt":e.avatarImageAlt,"image-src":e.avatarImageSrc}}),e._v(" "),e.$apollo.loading?e._e():n("WorkspaceDiscussionForm",{staticClass:"tui-workspacePostDiscussionForm__form",attrs:{submitting:e.submitting,"has-error":e.hasError,"draft-id":e.draftId,"show-cancel-button":!1,"workspace-context-id":e.workspaceContextId},on:{submit:function(i){return e.$emit("submit",i)}}})],1)}),[],!1,null,null,null);d.options.__hasBlocks={script:!0,template:!0};var c=d.exports},"f7y+":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return F}});var a=n("2XTD"),t=n.n(a),r=n("ApK1"),s=n.n(r),o=n("eHBv"),d=n.n(o),c=n("ddQy"),l=n.n(c),u=n("dFRL"),m=n.n(u),k=n("byAl"),p=n.n(k),v=n("x4c5"),_=n.n(v),f=n("Srla"),g=n.n(f),w=n("UYjc"),b=n("U0bO"),N={components:{FormRow:t(),Form:s(),ButtonGroup:d(),CancelButton:l(),LoadingButton:m(),UnsavedChangesWarning:p(),WekaEditor:_()},props:{submitting:Boolean,discussionId:{type:[String,Number],default:null},workspaceContextId:[Number,String],content:{type:String,default:null},contentFormat:{type:[String,Number],default:function(){return w.FORMAT_JSON_EDITOR}},draftId:{type:[String,Number],default:null},showCancelButton:{type:Boolean,default:!0},submitButtonText:{type:String,default:function(){return this.$str("post","core")}},hasError:Boolean},data:function(){return{editorKey:"editor-weka-".concat((0,b.uniqueId)()),formContent:g().empty()}},computed:{disableSubmit:function(){return this.formContent.isEmpty||this.submitting}},watch:{content:{immediate:!0,handler:function(e){if(w.FORMAT_JSON_EDITOR==this.contentFormat){if(!e)return void(this.formContent=g().empty());this.formContent=g().fromDoc(JSON.parse(this.content))}}},submitting:function(e){!1!==e||this.hasError||(this.formContent=g().empty())}},methods:{submit:function(){this.$emit("submit",{content:JSON.stringify(this.formContent.getDoc()),itemId:this.draftId})}}},h=function(e){e.options.__langStrings={container_workspace:["discussion","start_discussion"],core:["post"]}},y=(0,n("wWJ2").Z)(N,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceDiscussionForm",attrs:{vertical:!0,"input-width":"full"}},[n("FormRow",{attrs:{hidden:!0,label:e.$str("discussion","container_workspace"),"full-width":!0,required:!0},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[e.formContent.isEmpty||e.submitting?e._e():n("UnsavedChangesWarning",{attrs:{value:e.formContent}}),e._v(" "),n("WekaEditor",{key:e.editorKey,staticClass:"tui-workspaceDiscussionForm__editor",attrs:{id:a,variant:"standard","extra-extensions":["hashtag","mention"],"usage-identifier":{component:"container_workspace",area:"discussion",instanceId:e.discussionId},"file-item-id":e.draftId,"context-id":e.workspaceContextId,placeholder:e.$str("start_discussion","container_workspace")},model:{value:e.formContent,callback:function(i){e.formContent=i},expression:"formContent"}})]}}])}),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceDiscussionForm__buttonGroup"},[n("LoadingButton",{attrs:{loading:e.submitting,disabled:e.disableSubmit,"aria-disabled":e.disableSubmit,"aria-label":e.submitButtonText,text:e.submitButtonText,primary:!0},on:{click:function(i){return i.preventDefault(),e.submit.apply(null,arguments)}}}),e._v(" "),e.showCancelButton?n("CancelButton",{attrs:{disabled:e.submitting},on:{click:function(i){return i.preventDefault(),e.$emit("cancel")}}}):e._e()],1)],1)}),[],!1,null,null,null);h(y),y.options.__hasBlocks={script:!0,template:!0};var F=y.exports},kmIX:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return B}});var a=n("ApK1"),t=n.n(a),r=n("2XTD"),s=n.n(r),o=tui.require("tui/components/form/InputText"),d=n.n(o),c=n("eHBv"),l=n.n(c),u=n("IpiT"),m=n.n(u),k=n("dFRL"),p=n.n(k),v=n("byAl"),_=n.n(v),f=n("x4c5"),g=n.n(f),w=n("Srla"),b=n.n(w),N=tui.require("container_workspace/components/form/upload/SpaceImagePicker"),h=n.n(N),y=tui.require("tui/components/form/FieldError"),F=n.n(y),S=n("UYjc"),x=tui.require("tui/components/form/RadioGroup"),C=n.n(x),q=tui.require("tui/components/form/Radio"),V=n.n(q),D=tui.require("tui/components/form/Checkbox"),$=n.n(D),A=tui.require("tui/components/buttons/InfoIconButton"),I=n.n(A),T={components:{LoadingButton:p(),InputText:d(),Form:t(),FormRow:s(),ButtonGroup:l(),Button:m(),Weka:g(),SpaceImagePicker:h(),FieldError:F(),RadioGroup:C(),Radio:V(),Checkbox:$(),InfoIconButton:I(),UnsavedChangesWarning:_()},props:{submitting:Boolean,workspaceName:{type:String,default:""},workspaceDescription:{type:String,default:null},workspaceDescriptionFormat:{type:[String,Number],default:function(){return S.FORMAT_JSON_EDITOR}},showHiddenCheckBox:{type:Boolean,default:!0},showPrivateBox:{type:Boolean,default:!0},showUnhiddenCheckBox:Boolean,canSetPublic:{type:Boolean,default:!0},canSetPrivate:{type:Boolean,default:!0},workspacePrivate:Boolean,workspaceHidden:Boolean,workspaceId:[String,Number],contextId:[String,Number],submitButtonLabel:{type:String,default:function(){return this.$str("create","core")}}},data:function(){return{name:this.workspaceName,description:b().empty(),descriptionFormat:this.workspaceDescriptionFormat,draftId:null,innerWorkspacePrivate:this.workspacePrivate||!this.canSetPublic,innerWorkspaceHidden:this.workspaceHidden||!1,error:{upload:null},editorReady:!1}},computed:{disableSubmit:function(){return 0===this.name.length},unhideWorkspaceValue:{get:function(){return!this.innerWorkspaceHidden},set:function(e){this.innerWorkspaceHidden=!e}}},watch:{workspaceName:function(e){e!==this.name&&(this.name=e)},workspaceDescriptionFormat:function(e){e!==this.descriptionFormat&&(this.descriptionFormat=e)},workspaceDescription:{handler:function(e){if(e)try{this.description=b().fromDoc(JSON.parse(e))}catch(e){this.description=b().empty()}},immediate:!0},innerWorkspacePrivate:function(e){e||(this.innerWorkspaceHidden=!1)}},methods:{submit:function(){var e=null;this.description.isEmpty||(e=JSON.stringify(this.description.getDoc()));var i={name:this.name,description:e,draftId:this.draftId,descriptionFormat:this.workspaceDescriptionFormat,isPrivate:!!this.innerWorkspacePrivate,isHidden:!!this.innerWorkspaceHidden};this.$emit("submit",i)}}},M=function(e){e.options.__langStrings={container_workspace:["space_name_label","description_label","workspace_type","public","private","hidden_workspace","hidden_workspace_text","unhidden_workspace_label","unhidden_workspace_help","unhide_workspace","workspace_type_help","hashtag_tip","hashtag_tip_help"],totara_engage:["hashtags"],core:["create","cancel","submit"]}},W=(0,n("wWJ2").Z)(T,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceForm",attrs:{vertical:!0,"input-width":"full"}},[n("div",{staticClass:"tui-workspaceForm__container"},[n("div",{staticClass:"tui-workspaceForm__inputs"},[n("FormRow",{staticClass:"tui-workspaceForm__formRow",attrs:{label:e.$str("space_name_label","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("InputText",{attrs:{id:a,maxlength:75,disabled:e.submitting},model:{value:e.name,callback:function(i){e.name=i},expression:"name"}})]}}])}),e._v(" "),n("FormRow",{staticClass:"tui-workspaceForm__formRow",attrs:{label:e.$str("description_label","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("div",{staticClass:"tui-workspaceForm__editor"},[e.description.isEmpty||e.submitting?e._e():n("UnsavedChangesWarning",{attrs:{value:e.description}}),e._v(" "),n("Weka",{attrs:{id:a,"context-id":e.contextId,compact:!0,"usage-identifier":{component:"container_workspace",area:"description",instanceId:e.workspaceId},variant:"standard","extra-extensions":["hashtag","mention"]},on:{ready:function(i){e.editorReady=!0}},model:{value:e.description,callback:function(i){e.description=i},expression:"description"}}),e._v(" "),n("div",{staticClass:"tui-workspaceForm__editor-tip"},[n("span",{staticClass:"tui-workspaceForm__editor-tip-text"},[e._v("\n                "+e._s(e.$str("hashtag_tip","container_workspace"))+"\n              ")]),e._v(" "),n("InfoIconButton",{attrs:{"is-help-for":e.$str("hashtags","totara_engage")}},[e._v("\n                "+e._s(e.$str("hashtag_tip_help","container_workspace"))+"\n              ")])],1)],1)]}}])}),e._v(" "),e.showPrivateBox?n("FormRow",{staticClass:"tui-workspaceForm__formRow",attrs:{label:e.$str("workspace_type","container_workspace"),helpmsg:e.$str("workspace_type_help","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("RadioGroup",{attrs:{id:a,name:"workspace-access",horizontal:!0,required:!0},model:{value:e.innerWorkspacePrivate,callback:function(i){e.innerWorkspacePrivate=i},expression:"innerWorkspacePrivate"}},[e.canSetPublic?n("Radio",{attrs:{value:!1}},[e._v("\n            "+e._s(e.$str("public","container_workspace"))+"\n          ")]):e._e(),e._v(" "),e.canSetPrivate?n("Radio",{attrs:{value:!0}},[e._v("\n            "+e._s(e.$str("private","container_workspace"))+"\n          ")]):e._e()],1)]}}],null,!1,2046630370)}):e._e(),e._v(" "),e.showHiddenCheckBox&&e.innerWorkspacePrivate?n("FormRow",{attrs:{label:e.$str("hidden_workspace_text","container_workspace"),hidden:!0},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("Checkbox",{attrs:{id:a,name:"workspace-hidden",disabled:!e.innerWorkspacePrivate,"aria-disabled":!e.innerWorkspacePrivate},model:{value:e.innerWorkspaceHidden,callback:function(i){e.innerWorkspaceHidden=i},expression:"innerWorkspaceHidden"}},[e._v("\n          "+e._s(e.$str("hidden_workspace_text","container_workspace"))+"\n        ")])]}}],null,!1,3655472191)}):e._e(),e._v(" "),e.showUnhiddenCheckBox?n("FormRow",{staticClass:"tui-workspaceForm__unhiddenRow",attrs:{label:e.$str("unhidden_workspace_label","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("div",{staticClass:"tui-workspaceForm__unhiddenRow-box"},[n("Checkbox",{attrs:{id:a,name:"workspace-unhidden"},model:{value:e.unhideWorkspaceValue,callback:function(i){e.unhideWorkspaceValue=i},expression:"unhideWorkspaceValue"}},[e._v("\n              "+e._s(e.$str("unhide_workspace","container_workspace"))+"\n            ")]),e._v(" "),n("p",{staticClass:"tui-workspaceForm__unhiddenRow-helpText"},[e._v("\n              "+e._s(e.$str("unhidden_workspace_help","container_workspace"))+"\n            ")])],1)]}}],null,!1,3036567843)}):e._e()],1),e._v(" "),n("FormRow",{staticClass:"tui-workspaceForm__imagePicker",scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("SpaceImagePicker",{attrs:{id:a,"draft-id":e.draftId,"workspace-id":e.workspaceId},on:{ready:function(i){e.draftId=i.itemId},"upload-error":function(i){e.error.upload=i},"clear-error":function(i){e.error.upload=null}}}),e._v(" "),n("FieldError",{attrs:{error:e.error.upload}})]}}])})],1),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceForm__buttonGroup"},[n("LoadingButton",{attrs:{loading:e.submitting||!e.editorReady,disabled:e.submitting||e.disableSubmit,text:e.submitButtonLabel,"aria-label":e.$str("submit","core"),primary:!0,type:"submit"},on:{click:function(i){return i.preventDefault(),e.submit.apply(null,arguments)}}}),e._v(" "),n("Button",{attrs:{text:e.$str("cancel","core"),disabled:e.submitting},on:{click:function(i){return i.preventDefault(),e.$emit("cancel")}}})],1)],1)}),[],!1,null,null,null);M(W),W.options.__hasBlocks={script:!0,template:!0};var B=W.exports},k04r:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return h}});var a=n("ApK1"),t=n.n(a),r=n("2XTD"),s=n.n(r),o=tui.require("tui/components/form/FormRowStack"),d=n.n(o),c=tui.require("tui/components/tag/TagList"),l=n.n(c),u=n("eHBv"),m=n.n(u),k=n("IpiT"),p=n.n(k),v=n("dFRL"),_=n.n(v),f=n("QD8Q"),g=n.n(f),w={components:{Form:t(),FormRow:s(),FormRowStack:d(),TagList:l(),ButtonGroup:m(),Button:p(),LoadingButton:_(),MiniProfileCard:g()},props:{workspaceId:{type:[String,Number],required:!0},displayCurrentOwner:Boolean,currentOwnerFullname:String,submitting:Boolean},apollo:{availableUsers:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_search_users"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"pattern"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"users"},name:{kind:"Name",value:"container_workspace_search_users"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"pattern"},value:{kind:"Variable",name:{kind:"Name",value:"pattern"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]}]}}]}}]}}]}}]},fetchPolicy:"network-only",variables:function(){return{pattern:this.searchPattern,workspace_id:this.workspaceId}},update:function(e){return e.users}}},data:function(){return{selectedUser:null,searchPattern:"",availableUsers:[]}},computed:{users:function(){var e=this;return this.selectedUser?this.availableUsers.filter((function(i){return i.id!=e.selectedUser.id})):this.availableUsers},selectedUsers:function(){return this.selectedUser?[{id:this.selectedUser.id,text:this.selectedUser.fullname}]:[]}},methods:{filterUsers:function(e){this.searchPattern=e},selectUser:function(e){this.selectedUser=e,this.searchPattern=""},removeUser:function(){this.selectedUser=null},submitForm:function(){this.selectedUser&&this.$emit("submit",{userId:this.selectedUser.id})}}},b=function(e){e.options.__langStrings={container_workspace:["current_owner","current_owner_suspended","save","select_new_owner","select_new_owner_placeholder","transfer_ownership_help_text_one","transfer_ownership_help_text_two"],core:["cancel","confirm"]}},N=(0,n("wWJ2").Z)(w,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Form",{staticClass:"tui-workspaceTransferOwnerForm",attrs:{vertical:!0,"input-width":"full"}},[n("FormRowStack",{staticClass:"tui-workspaceTransferOwnerForm__content"},[e.displayCurrentOwner?n("FormRow",{attrs:{label:e.$str("current_owner","container_workspace"),"aria-disabled":!0}},[n("p",[e._v(e._s(e.currentOwnerFullname))])]):e._e(),e._v(" "),n("FormRow",{attrs:{label:e.$str("select_new_owner","container_workspace")},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.id;return[n("TagList",{attrs:{id:a,tags:e.selectedUsers,items:e.users,filter:e.searchPattern,"input-placeholder":e.$str("select_new_owner_placeholder","container_workspace"),"close-on-click":""},on:{filter:e.filterUsers,select:e.selectUser,remove:e.removeUser},scopedSlots:e._u([e.$apollo.loading?null:{key:"item",fn:function(e){var i=e.item.card_display;return[n("MiniProfileCard",{attrs:{"no-padding":!0,"no-border":!0,display:i,"read-only":!0}})]}}],null,!0)})]}}])})],1),e._v(" "),n("ButtonGroup",{staticClass:"tui-workspaceTransferOwnerForm__buttonGroup"},[n("LoadingButton",{attrs:{text:e.$str("save","container_workspace"),primary:!0,loading:e.submitting,disabled:!e.selectedUser},on:{click:e.submitForm}}),e._v(" "),n("Button",{attrs:{text:e.$str("cancel","core")},on:{click:function(i){return e.$emit("cancel",i)}}})],1)],1)}),[],!1,null,null,null);b(N),N.options.__hasBlocks={script:!0,template:!0};var h=N.exports},f61n:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return _}});var a=tui.require("tui/components/form/Upload"),t=n.n(a),r=n("IpiT"),s=n.n(r),o=n("/g0d"),d=n.n(o),c=n("YQTe"),l=n.n(c),u=n("MI77"),m=Object.prototype.hasOwnProperty,k={components:{Upload:t(),Button:s(),Loading:d(),PageLoader:l()},props:{draftId:[String,Number],workspaceId:[Number,String]},apollo:{metadata:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_upload_metadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"file_area"},name:{kind:"Name",value:"container_workspace_file_area"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"repository_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"accept_types"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"image_url"},name:{kind:"Name",value:"container_workspace_workspace_image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]}]}}]},fetchPolicy:"network-only",skip:function(){return!(!m.call(this.metadata,"itemId")||!m.call(this.metadata,"workspaceId")||this.metadata.itemId!=this.draftId&&this.metadata.workspaceId!=this.workspaceId)},variables:function(){return{workspace_id:this.workspaceId,draft_id:this.draftId,theme:u.config.theme.name}},update:function(e){var i=e.file_area,n=i.item_id,a=i.repository_id,t=i.url,r=i.accept_types,s=i.context_id,o={itemId:n,repositoryId:a,acceptTypes:r,url:t,image:e.image_url,contextId:s,workspaceId:this.workspaceId};return this.$emit("ready",o),o}}},data:function(){return{metadata:{},uploadedImage:null,isUploadImageLoaded:!1}},computed:{backgroundStyle:function(){return this.$apollo.loading?{"background-image":null}:this.uploadedImage?{"background-image":'url("'.concat(this.uploadedImage,'")')}:{"background-image":'url("'.concat(this.metadata.image,'")')}}},methods:{handleFileLoaded:function(e){var i=e.file.url;this.uploadedImage=i,this.isUploadImageLoaded=!1,this.$emit("clear-error")},handleError:function(){this.uploadedImage=null,this.isUploadImageLoaded=!1,this.$emit("upload-error",this.$str("error:upload_image","container_workspace"))},progressing:function(){this.isUploadImageLoaded=!0}}},p=function(e){e.options.__langStrings={container_workspace:["edit_image","error:upload_image"]}},v=(0,n("wWJ2").Z)(k,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-spaceImagePicker",class:{"tui-spaceImagePicker--loading":e.$apollo.loading}},[e.$apollo.loading?n("Loading"):n("Upload",{attrs:{"repository-id":e.metadata.repositoryId,"item-id":e.metadata.itemId,href:e.metadata.url,"accepted-types":e.metadata.acceptTypes,overwrite:!0,"one-file":!0,"context-id":e.metadata.contextId},on:{load:e.handleFileLoaded,error:e.handleError,progress:e.progressing},scopedSlots:e._u([{key:"default",fn:function(i){var a=i.selectEvents,t=i.inputEvents;return n("div",{staticClass:"tui-spaceImagePicker__image",class:{"tui-spaceImagePicker__image--progressing":e.isUploadImageLoaded},style:e.backgroundStyle},[n("input",e._g({directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"inputFile",attrs:{type:"file"}},t)),e._v(" "),n("div",{staticClass:"tui-spaceImagePicker__loader"},[n("PageLoader",{attrs:{loading:e.isUploadImageLoaded}})],1),e._v(" "),n("Button",e._g({directives:[{name:"show",rawName:"v-show",value:!e.isUploadImageLoaded,expression:"!isUploadImageLoaded"}],staticClass:"tui-spaceImagePicker__editButton",attrs:{"aria-label":e.$str("edit_image","container_workspace"),text:e.$str("edit_image","container_workspace"),styleclass:{small:!0}}},a))],1)}}])})],1)}),[],!1,null,null,null);p(v),v.options.__hasBlocks={script:!0,template:!0};var _=v.exports},"KIt/":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return h}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("z1IF"),o=n.n(s),d=n("5Nvt"),c=n.n(d),l=tui.require("totara_engage/grid"),u=tui.require("container_workspace/components/card/OriginalSpaceCard"),m=n.n(u),k=n("3Wc6"),p=n.n(k),v=n("YQTe"),_=n.n(v),f=n("IpiT"),g=n.n(f),w={components:{OriginalSpaceCard:m(),Grid:o(),GridItem:c(),VirtualScroll:p(),PageLoader:_(),Button:g()},props:{maxGridUnits:{type:[Number,String],required:!0},workspaces:{type:Array,required:!0},workspaceUnits:{type:[Number,String],default:2},isLoading:Boolean,cursor:{type:Object,default:function(){return{total:0,next:""}}},noEmptyStateMessage:Boolean},data:function(){return{isLoadMoreVisible:!1}},computed:{loadMoreVisibility:function(){return this.isLoadMoreVisible&&this.cursor.next&&!this.isLoading},rows:function(){return(0,l.calculateRow)(this.workspaces,this.workspacesPerRow)},workspacesPerRow:function(){return Math.floor(this.maxGridUnits/this.workspaceUnits)}},methods:{onScrollToBottom:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.isLoadMoreVisible){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.$emit("loadmoreitems");case 4:e.isLoadMoreVisible=!0;case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.$emit("loadmoreitems");case 2:e.isLoadMoreVisible=!1;case 3:case"end":return i.stop()}}),i)})))()}}},b=function(e){e.options.__langStrings={container_workspace:["loadmore","space_empty_result","total_space_x","vieweditems","workspace_cards_grid"]}},N=(0,n("wWJ2").Z)(w,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-spaceCardsGrid"},[n("VirtualScroll",{attrs:{"data-key":"index","data-list":e.rows,"page-mode":!0,"aria-label":e.$str("workspace_cards_grid","container_workspace"),"is-loading":e.isLoading},on:{scrollbottom:e.onScrollToBottom},scopedSlots:e._u([{key:"item",fn:function(i){var a=i.item;return[n("Grid",{staticClass:"tui-spaceCardsGrid__row",attrs:{"max-units":e.maxGridUnits}},e._l(a.items,(function(i,a){return n("GridItem",{key:a,staticClass:"tui-spaceCardsGrid__row__card",attrs:{units:e.workspaceUnits}},[n("OriginalSpaceCard",{attrs:{workspace:i},on:{"request-to-join-workspace":function(i){return e.$emit("request-to-join-workspace",i)},"join-workspace":function(i){return e.$emit("join-workspace",i)},"leave-workspace":function(i){return e.$emit("leave-workspace",i)}}})],1)})),1)]}},{key:"footer",fn:function(){return[n("PageLoader",{attrs:{fullpage:!1,loading:e.isLoading}})]},proxy:!0}])}),e._v(" "),e.noEmptyStateMessage||e.isLoading||0!==e.cursor.total?e._e():n("div",{staticClass:"tui-spaceCardsGrid__emptyResult"},[e._v("\n    "+e._s(e.$str("space_empty_result","container_workspace"))+"\n  ")]),e._v(" "),e.loadMoreVisibility?n("div",{staticClass:"tui-spaceCardsGrid__loadMoreContainer"},[n("div",{staticClass:"tui-spaceCardsGrid__viewedSpaces"},[[e._v("\n        "+e._s(e.$str("vieweditems","container_workspace",e.workspaces.length))+"\n        "+e._s(e.$str("total_space_x","container_workspace",e.cursor.total))+"\n      ")]],2),e._v(" "),n("Button",{staticClass:"tui-spaceCardsGrid__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMore}})],1):e._e()],1)}),[],!1,null,null,null);b(N),N.options.__hasBlocks={script:!0,template:!0};var h=N.exports},hHhu:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return m}});var a=n("YLyP"),t=n.n(a),r=n("EJOt"),s=n.n(r),o=n("bga9"),d=n.n(o),c={components:{ActionLink:t(),ModalPresenter:s(),WorkspaceModal:d()},props:{canCreate:Boolean},data:function(){return{openModal:!1}},methods:{navigateToSpace:function(e){var i=e.id;this.openModal=!1,document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})}}},l=function(e){e.options.__langStrings={container_workspace:["no_spaces","find_spaces","or","create_space"]}},u=(0,n("wWJ2").Z)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-emptySpacesHeader"},[n("ModalPresenter",{attrs:{open:e.openModal},on:{"request-close":function(i){e.openModal=!1}}},[n("WorkspaceModal",{on:{"create-workspace":e.navigateToSpace}})],1),e._v(" "),n("h1",{staticClass:"tui-emptySpacesHeader__title"},[e._v("\n    "+e._s(e.$str("no_spaces","container_workspace"))+"\n  ")]),e._v(" "),n("div",{staticClass:"tui-emptySpacesHeader__actionBox"},[n("ActionLink",{staticClass:"tui-emptySpacesHeader__actionLink",attrs:{href:e.$url("/container/type/workspace/spaces.php"),text:e.$str("find_spaces","container_workspace"),styleclass:{primary:!0}}}),e._v(" "),e.canCreate?n("p",[n("span",[e._v(e._s(e.$str("or","container_workspace")))]),e._v(" "),n("a",{attrs:{href:"#"},on:{click:function(i){i.preventDefault(),e.openModal=!0}}},[e._v("\n        "+e._s(e.$str("create_space","container_workspace"))+"\n      ")])]):e._e()],1)],1)}),[],!1,null,null,null);l(u),u.options.__hasBlocks={script:!0,template:!0};var m=u.exports},g9vM:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return l}});var a=n("RfYe"),t=n.n(a),r=n("1+j7"),s=n.n(r),o={components:{BackArrow:t(),ButtonIcon:s()}},d=function(e){e.options.__langStrings={core:["back"],container_workspace:["files"]}},c=(0,n("wWJ2").Z)(o,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceFileHeader"},[n("div",{staticClass:"tui-workspaceFileHeader__back"},[n("ButtonIcon",{attrs:{styleclass:{transparent:!0},"aria-label":e.$str("back","core"),text:e.$str("back","core")},on:{click:function(i){return e.$emit("go-back")}}},[n("BackArrow",{attrs:{size:"200",alt:e.$str("back","core")}})],1)],1),e._v(" "),n("div",{staticClass:"tui-workspaceFileHeader__title"},[e._v("\n    "+e._s(e.$str("files","container_workspace"))+"\n  ")])])}),[],!1,null,null,null);d(c),c.options.__hasBlocks={script:!0,template:!0};var l=c.exports},"//j7":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return b}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("/TVK"),o=n.n(s),d=n("1+j7"),c=n.n(d),l=n("sVtZ"),u=n.n(l),m=n("puuV"),k=tui.require("container_workspace/components/action/WorkspaceMuteButton"),p=n.n(k),v=n("SO+Z"),_=n("LpxU"),f={components:{WorkspaceMenu:o(),ButtonIcon:c(),ShowIcon:u(),WorkspaceMuteButton:p()},props:{workspaceImage:{type:String,required:!0},workspaceId:{type:[Number,String],required:!0},workspaceAccess:{type:String,required:!0,validator:function(e){return[m.PUBLIC,m.HIDDEN,m.PRIVATE].includes(e)}},workspaceName:{type:String,required:!0},showMuteButton:Boolean,workspaceMuted:Boolean,showNavigation:Boolean},data:function(){return{showMenu:!1,submitting:!1}},computed:{buttonMenuAriaLabel:function(){return this.showMenu?this.$str("collapse_nav","container_workspace"):this.$str("expand_nav","container_workspace")},subTitle:function(){return this.workspaceAccess===m.PUBLIC?this.$str("public_workspace","container_workspace"):this.workspaceAccess===m.PRIVATE?this.$str("private_workspace","container_workspace"):this.$str("hidden_workspace","container_workspace")}},methods:{updateMuteStatus:function(e){var i=this;return(0,a.Z)(r().mark((function n(){var a,t;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!i.submitting){n.next=2;break}return n.abrupt("return");case 2:return i.submitting=!0,a={workspace_id:i.workspaceId},n.prev=4,t=e?v.Z:_.Z,n.next=8,i.$apollo.mutate({mutation:t,variables:a,refetchQueries:["container_workspace_workspace_interactor"]});case 8:i.$emit("update-mute-status",e);case 9:return n.prev=9,i.submitting=!1,n.finish(9);case 12:case"end":return n.stop()}}),n,null,[[4,,9,12]])})))()}}},g=function(e){e.options.__langStrings={container_workspace:["workspace_image_alt","collapse_nav","expand_nav","workspace_image_alt","public_workspace","private_workspace","hidden_workspace"]}},w=(0,n("wWJ2").Z)(f,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspacePageHeader"},[n("div",{staticClass:"tui-workspacePageHeader__img",style:{"background-image":"url('"+e.workspaceImage+"')"},attrs:{title:e.$str("workspace_image_alt","container_workspace"),role:"img","aria-label":e.$str("workspace_image_alt","container_workspace")}}),e._v(" "),n("div",{staticClass:"tui-workspacePageHeader__content"},[n("div",{staticClass:"tui-workspacePageHeader__head"},[n("div",{staticClass:"tui-workspacePageHeader__title"},[n("h2",{staticClass:"tui-workspacePageHeader__title-text"},[e._v("\n          "+e._s(e.workspaceName)+"\n        ")]),e._v(" "),e.showNavigation?n("ButtonIcon",{staticClass:"tui-workspacePageHeader__title-buttonIcon",attrs:{"aria-label":e.buttonMenuAriaLabel,styleclass:{small:!0,transparentNoPadding:!0}},on:{click:function(i){i.preventDefault(),e.showMenu=!e.showMenu}}},[n("ShowIcon")],1):e._e()],1),e._v(" "),n("div",{staticClass:"tui-workspacePageHeader__subTitle"},[n("p",{staticClass:"tui-workspacePageHeader__subTitle-text"},[e._v("\n          "+e._s(e.subTitle)+"\n        ")]),e._v(" "),e.showMuteButton?n("WorkspaceMuteButton",{staticClass:"tui-workspacePageHeader__subTitle-button",attrs:{muted:e.workspaceMuted},on:{update:e.updateMuteStatus}}):e._e()],1)]),e._v(" "),e.showMenu&&e.showNavigation?n("WorkspaceMenu",{staticClass:"tui-workspacePageHeader__menu",attrs:{"selected-workspace-id":e.workspaceId}}):e._e()],1)])}),[],!1,null,null,null);g(w),w.options.__hasBlocks={script:!0,template:!0};var b=w.exports},jVf4:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return m}});var a=tui.require("container_workspace/components/form/WorkspaceAccessForm"),t=n.n(a),r=n("IACo"),s=n.n(r),o=n("GLpC"),d=n.n(o),c={components:{WorkspaceAccessForm:t(),Modal:s(),ModalContent:d()},props:{submitting:Boolean,selectedTopics:{type:Array,default:function(){return[]},validator:function(e){return 0===(e=Array.prototype.filter.call(e,(function(e){return!("id"in e)||!("value"in e)}))).length}}}},l=function(e){e.options.__langStrings={totara_engage:["accesssettings"]}},u=(0,n("wWJ2").Z)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceAccessModal",attrs:{dismissable:{backdropClick:!1,esc:!1}}},[n("ModalContent",{staticClass:"tui-workspaceAccessModal__content",attrs:{title:e.$str("accesssettings","totara_engage"),"close-button":!1}},[n("WorkspaceAccessForm",{attrs:{"selected-topics":e.selectedTopics,submitting:e.submitting},on:{cancel:function(i){return e.$emit("request-close")},submit:function(i){return e.$emit("submit-form",i)}}})],1)],1)}),[],!1,null,null,null);l(u),u.options.__hasBlocks={script:!0,template:!0};var m=u.exports},sd4I:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return N}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("IACo"),o=n.n(s),d=n("GLpC"),c=n.n(d),l=n("zmsX"),u=n.n(l),m=n("x7Rm"),k=n("F1lf"),p=n("MI77"),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_update_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"private"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hidden"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_update"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"description_format"},value:{kind:"Variable",name:{kind:"Name",value:"description_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}},{kind:"Argument",name:{kind:"Name",value:"private"},value:{kind:"Variable",name:{kind:"Name",value:"private"}}},{kind:"Argument",name:{kind:"Name",value:"hidden"},value:{kind:"Variable",name:{kind:"Name",value:"hidden"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_leave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_transfer_ownership"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_add_audiences"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_seen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]},_=n("oz+W"),f=n("pIrf"),g={components:{Modal:o(),ModalContent:c(),WorkspaceForm:u()},props:{workspaceId:{type:[String,Number],required:!0}},apollo:{workspace:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_workspace_raw"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_workspace"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]},fetchPolicy:"network-only",variables:function(){return{id:this.workspaceId}}},categoryInteractor:{query:f.Z,variables:function(){return{workspace_id:this.workspaceId}},update:function(e){return e.category_interactor}}},data:function(){return{submitting:!1,workspace:{},categoryInteractor:{}}},computed:{isPublic:function(){return(0,k.isPublic)(this.workspace.access)},isPrivate:function(){return(0,k.isPrivate)(this.workspace.access)},isHidden:function(){return(0,k.isHidden)(this.workspace.access)},canUnhide:function(){return this.categoryInteractor.can_create_hidden}},methods:{updateWorkspace:function(e){var i=this,n=e.name,t=e.description,s=e.descriptionFormat,o=e.draftId,d=e.isHidden,c=e.isPrivate;return(0,a.Z)(r().mark((function e(){var a,l,u;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,a=!d&&i.isHidden,e.next=7,i.$apollo.mutate({mutation:v,refetchAll:!1,refetchQueries:[{query:_.Z}],variables:{id:i.workspaceId,name:n,description:t,description_format:s,draft_id:o,private:c,hidden:d,theme:p.config.theme.name}});case 7:if(l=e.sent,u=l.data.workspace,!a){e.next=12;break}return e.next=12,(0,m.notify)({message:i.$str("updated_to_private","container_workspace"),type:"success"});case 12:i.$emit("update-workspace",u),e.next=19;break;case 15:return e.prev=15,e.t0=e.catch(3),e.next=19,(0,m.notify)({message:i.$str("error:update","container_workspace",i.workspace.name),type:"error"});case 19:return e.prev=19,i.submitting=!1,e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,15,19,22]])})))()}}},w=function(e){e.options.__langStrings={container_workspace:["edit_space","save_changes","error:update","updated_to_private"]}},b=(0,n("wWJ2").Z)(g,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceEditModal",attrs:{size:"large",dismissable:{esc:!0,backdropClick:!1,overlayClose:!1}}},[n("ModalContent",{staticClass:"tui-workspaceEditModal__content",attrs:{"close-button":!1,title:e.$str("edit_space","container_workspace"),"title-id":e.$id("edit-space")}},[e.$apollo.loading?e._e():n("WorkspaceForm",{staticClass:"tui-workspaceEditModal__form",attrs:{submitting:e.submitting,"workspace-id":e.workspaceId,"workspace-name":e.workspace.name,"workspace-description":e.workspace.description,"workspace-description-format":e.workspace.description_format,"submit-button-label":e.$str("save_changes","container_workspace"),"show-private-box":!1,"show-hidden-check-box":!1,"show-unhidden-check-box":e.isHidden&&e.canUnhide,"workspace-private":e.isPrivate||e.isHidden,"workspace-hidden":e.isHidden},on:{submit:e.updateWorkspace,cancel:function(i){return e.$emit("request-close")}}})],1)],1)}),[],!1,null,null,null);w(b),b.options.__hasBlocks={script:!0,template:!0};var N=b.exports},Mz2p:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return p}});var a=n("IACo"),t=n.n(a),r=n("GLpC"),s=n.n(r),o=tui.require("tui/components/icons/files/compute/FileIcon"),d=n.n(o),c=tui.require("tui/components/json_editor/nodes/VideoBlock"),l=n.n(c),u={components:{Modal:t(),ModalContent:s(),FileIcon:d(),CoreVideoBlock:l()},props:{fileName:{type:String,required:!0},downloadUrl:{type:String,required:!0},contextUrl:{type:String,required:!0},fileUrl:{type:String,required:!0},extension:{type:String,required:!0},mimeType:{type:String,required:!0},fileType:{type:String,required:!0},altText:{type:String,required:!0}}},m=function(e){e.options.__langStrings={container_workspace:["view_discussion","file_preview_empty","file_image","file_video","file_audio"],core:["download"]}},k=(0,n("wWJ2").Z)(u,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceFileViewModal",attrs:{dismissable:{overlayClose:!1,esc:!0,backdropClick:!0}}},[n("ModalContent",{staticClass:"tui-workspaceFileViewModal__content",attrs:{"close-button":!0}},[n("div",{staticClass:"tui-workspaceFileViewModal__header"},[n("p",{staticClass:"tui-workspaceFileViewModal__title"},[e._v(e._s(e.fileName))]),e._v(" "),n("div",{staticClass:"tui-workspaceFileViewModal__links"},[n("a",{staticClass:"tui-workspaceFileViewModal__discussion",attrs:{href:e.contextUrl}},[e._v("\n          "+e._s(e.$str("view_discussion","container_workspace"))+"\n        ")]),e._v(" "),n("a",{staticClass:"tui-workspaceFileViewModal__link",attrs:{href:e.downloadUrl}},[e._v("\n          "+e._s(e.$str("download","core"))+"\n        ")])])]),e._v(" "),"IMAGE"===e.fileType?[n("img",{staticClass:"tui-workspaceFileViewModal__media",attrs:{src:e.fileUrl,alt:e.altText}})]:"VIDEO"===e.fileType?[n("CoreVideoBlock",{staticClass:"tui-workspaceFileViewModal__media",attrs:{url:e.fileUrl,filename:e.fileName,mimetype:e.mimeType}})]:"AUDIO"===e.fileType?[n("audio",{staticClass:"tui-workspaceFileViewModal__audio",attrs:{controls:""}},[n("source",{attrs:{src:e.fileUrl,type:e.mimeType}})])]:n("div",{staticClass:"tui-workspaceFileViewModal__area"},[n("div",{staticClass:"tui-workspaceFileViewModal__area-icon"},[n("FileIcon",{attrs:{filename:e.fileName}})],1),e._v(" "),n("p",[e._v("\n        "+e._s(e.$str("file_preview_empty","container_workspace"))+"\n      ")])])],2)],1)}),[],!1,null,null,null);m(k),k.options.__hasBlocks={script:!0,template:!0};var p=k.exports},"9ADA":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return w}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("IACo"),o=n.n(s),d=n("zmsX"),c=n.n(d),l=n("GLpC"),u=n.n(l),m=n("x7Rm"),k=n("MI77"),p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_create_workspace"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"description_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"draft_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"private"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"hidden"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"workspace"},name:{kind:"Name",value:"container_workspace_create"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"description"},value:{kind:"Variable",name:{kind:"Name",value:"description"}}},{kind:"Argument",name:{kind:"Name",value:"description_format"},value:{kind:"Variable",name:{kind:"Name",value:"description_format"}}},{kind:"Argument",name:{kind:"Name",value:"draft_id"},value:{kind:"Variable",name:{kind:"Name",value:"draft_id"}}},{kind:"Argument",name:{kind:"Name",value:"private"},value:{kind:"Variable",name:{kind:"Name",value:"private"}}},{kind:"Argument",name:{kind:"Name",value:"hidden"},value:{kind:"Variable",name:{kind:"Name",value:"hidden"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]},v=n("pIrf"),_={components:{Modal:o(),ModalContent:u(),WorkspaceForm:c()},apollo:{categoryInteractor:{query:v.Z,variables:function(){return{workspace_id:null}},update:function(e){return e.category_interactor}}},data:function(){return{submitting:!1,categoryInteractor:{}}},computed:{canPrivate:function(){return this.categoryInteractor.can_create_private},canHidden:function(){return this.categoryInteractor.can_create_hidden},canPublic:function(){return this.categoryInteractor.can_create_public}},methods:{createWorkspace:function(e){var i=this,n=e.name,t=e.description,s=e.draftId,o=e.descriptionFormat,d=e.isPrivate,c=e.isHidden;return(0,a.Z)(r().mark((function e(){var a,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:p,refetchAll:!1,variables:{name:n,description:t,draft_id:s,description_format:o,private:d,hidden:c,theme:k.config.theme.name}});case 6:a=e.sent,l=a.data.workspace,i.$emit("create-workspace",l),e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),e.next=15,(0,m.notify)({message:i.$str("error:create","container_workspace"),type:"error"});case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()}}},f=function(e){e.options.__langStrings={container_workspace:["create_space","error:create"]}},g=(0,n("wWJ2").Z)(_,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceModal",attrs:{size:"large",dismissable:{esc:!0,backdropClick:!1,overlayClose:!1}}},[n("ModalContent",{attrs:{"close-button":!1,title:e.$str("create_space","container_workspace"),"title-id":e.$id("create-space")}},[n("WorkspaceForm",{staticClass:"tui-workspaceModal__form",attrs:{"context-id":e.categoryInteractor?e.categoryInteractor.context_id:null,submitting:e.submitting,"can-set-public":e.canPublic,"can-set-private":e.canPrivate,"show-private-box":e.canPrivate,"show-hidden-check-box":e.canPrivate&&e.canHidden},on:{submit:e.createWorkspace,cancel:function(i){return e.$emit("request-close")}}})],1)],1)}),[],!1,null,null,null);f(g),g.options.__hasBlocks={script:!0,template:!0};var w=g.exports},HsPK:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return g}});var a=n("eHBv"),t=n.n(a),r=n("IpiT"),s=n.n(r),o=n("2XTD"),d=n.n(o),c=n("ddQy"),l=n.n(c),u=tui.require("tui/components/uniform"),m=n("IACo"),k=n.n(m),p=n("GLpC"),v=n.n(p),_={components:{ButtonGroup:t(),Button:s(),Cancel:l(),FormRow:d(),Modal:k(),ModalContent:v(),Uniform:u.Uniform,FormTextarea:u.FormTextarea},props:{title:{type:String,required:!0},bodyText:{type:String,required:!1},buttonText:{type:String,required:!0},showCloseButton:{type:Boolean,default:!0},isSaving:{type:Boolean,default:!1}},data:function(){return{initialValues:{messageContent:""},formValues:null}},methods:{setRows:function(e,i,n){var a="";this.formValues&&e in this.formValues?a=this.formValues[e]:this.initialValues&&e in this.initialValues&&(a=this.initialValues[e]);var t=(a.match(/\n/g)||[]).length+1;return t<i?i:t>n?n:t}}},f=(0,n("wWJ2").Z)(_,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceRequestModal",attrs:{dismissable:{overlayClose:!1,esc:!0,backdropClick:!1},"aria-labelledby":e.$id("title")}},[n("ModalContent",{attrs:{title:e.title,"title-id":e.$id("title"),"close-button":e.showCloseButton},scopedSlots:e._u([{key:"buttons",fn:function(){return[n("ButtonGroup",{staticClass:"tui-workspaceRequestModal__buttonGroup"},[n("Button",{attrs:{styleclass:{primary:!0},text:e.buttonText,"aria-label":e.buttonText,type:"submit",disabled:e.isSaving},on:{click:function(i){return e.$refs.form.submit()}}}),e._v(" "),n("Cancel",{attrs:{disabled:e.isSaving},on:{click:function(i){return e.$emit("request-close")}}})],1)]},proxy:!0}])},[n("Uniform",{ref:"form",attrs:{"initial-values":e.initialValues,"input-width":"full"},on:{change:function(i){e.formValues=i},submit:function(i){return e.$emit("submit",i)}}},[n("FormRow",[e._v("\n        "+e._s(e.bodyText)+"\n      ")]),e._v(" "),n("FormRow",{attrs:{vertical:!0},scopedSlots:e._u([{key:"default",fn:function(i){return i.id,[n("FormTextarea",{attrs:{name:"messageContent","aria-describedby":e.$id("desc-desc"),maxlength:250,rows:e.setRows("messageContent",5,25)}})]}}])})],1)],1)],1)}),[],!1,null,null,null);f.options.__hasBlocks={script:!0,template:!0};var g=f.exports},"4bnZ":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return w}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("IACo"),o=n.n(s),d=n("GLpC"),c=n.n(d),l=tui.require("container_workspace/components/form/WorkspaceTransferOwnerForm"),u=n.n(l),m=n("x7Rm"),k=n("MI77"),p=n("Jpbg"),v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_transfer_owner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"member"},name:{kind:"Name",value:"container_workspace_change_primary_owner"},arguments:[{kind:"Argument",name:{kind:"Name",value:"workspace_id"},value:{kind:"Variable",name:{kind:"Name",value:"workspace_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_remove"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"workspace_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"time_joined"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]}]}}]}}]},_={components:{Modal:o(),ModalContent:c(),WorkspaceTransferOwnerForm:u()},props:{workspaceId:{type:[String,Number],required:!0}},apollo:{workspace:{query:p.Z,fetchPolicy:"network-only",variables:function(){return{id:this.workspaceId,theme:k.config.theme.name}}}},data:function(){return{workspace:null,submitting:!1}},computed:{workspaceOwnerFullname:function(){return this.workspace&&this.workspace.owner&&this.workspace.owner.suspended?this.$str("current_owner_suspended","container_workspace",this.workspace.owner.fullname):this.workspace&&this.workspace.owner?this.workspace.owner.fullname:this.$str("none","core")}},methods:{updatePrimaryOwner:function(e){var i=this,n=e.userId;return(0,a.Z)(r().mark((function e(){var a,t;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i.submitting){e.next=2;break}return e.abrupt("return");case 2:return i.submitting=!0,e.prev=3,e.next=6,i.$apollo.mutate({mutation:v,variables:{workspace_id:i.workspaceId,user_id:n},refetchQueries:["container_workspace_get_workspace","container_workspace_find_members","container_workspace_workspace_interactor","container_workspace_get_discussions"],awaitRefetchQueries:!0});case 6:return a=e.sent,t=a.data.member,i.$emit("transfered-owner"),e.next=11,(0,m.notify)({message:i.$str("transfer_ownership_success_alert","container_workspace",{user:t.user.fullname,workspace:i.workspace.name}),type:"success"});case 11:return e.prev=11,i.submitting=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[3,,11,14]])})))()}}},f=function(e){e.options.__langStrings={container_workspace:["current_owner_suspended","transfer_ownership_of_workspace","transfer_ownership_success_alert"],core:["none"]}},g=(0,n("wWJ2").Z)(_,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceTransferOwnerModal",attrs:{dismissable:{esc:!1,backdropClick:!1}}},[n("ModalContent",{staticClass:"tui-workspaceTransferOwnerModal__modalContent",attrs:{title:e.$str("transfer_ownership_of_workspace","container_workspace"),"close-button":!1}},[e.$apollo.loading?e._e():n("WorkspaceTransferOwnerForm",{staticClass:"tui-workspaceTransferOwnerModal__form",attrs:{"workspace-id":e.workspaceId,"display-current-owner":!e.workspace.interactor.own,"current-owner-fullname":e.workspaceOwnerFullname,submitting:e.submitting},on:{submit:e.updatePrimaryOwner,cancel:function(i){return i.preventDefault(),e.$emit("request-close",i)}}})],1)],1)}),[],!1,null,null,null);f(g),g.options.__hasBlocks={script:!0,template:!0};var w=g.exports},NOyr:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return _}});var a=n("IACo"),t=n.n(a),r=n("GLpC"),s=n.n(r),o=tui.require("tui/components/icons/Warning"),d=n.n(o),c=n("eHBv"),l=n.n(c),u=n("IpiT"),m=n.n(u),k={components:{Modal:t(),ModalContent:s(),Warning:d(),ButtonGroup:l(),Button:m()},props:{closeButton:{type:Boolean,default:!0},size:{type:String,default:"normal"},title:{type:String,required:!0},messageContent:{type:String,required:!0},confirmButtonText:{type:String,default:function(){return this.$str("remove","core")}},cancelButtonText:{type:String,default:function(){return this.$str("cancel","core")}}},data:function(){return{dismissable:{overlayClose:!1,esc:!0,backdropClick:!1}}}},p=function(e){e.options.__langStrings={core:["cancel","remove"]}},v=(0,n("wWJ2").Z)(k,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Modal",{staticClass:"tui-workspaceWarningModal",attrs:{dismissable:e.dismissable}},[n("ModalContent",{attrs:{"close-button":e.closeButton,title:e.title,"title-visible":!1},on:{dismiss:function(i){return e.$emit("request-close")}},scopedSlots:e._u([{key:"buttons",fn:function(){return[n("ButtonGroup",[n("Button",{attrs:{styleclass:{primary:!0,small:!0},text:e.confirmButtonText},on:{click:function(i){return e.$emit("confirm")}}}),e._v(" "),n("Button",{attrs:{styleclass:{small:!0},text:e.cancelButtonText},on:{click:function(i){return i.preventDefault(),e.$emit("request-close")}}})],1)]},proxy:!0}])},[n("div",{staticClass:"tui-workspaceWarningModal__container"},[n("Warning",{attrs:{size:"700","custom-class":"tui-icon--warning"}}),e._v(" "),n("div",{staticClass:"tui-workspaceWarningModal__box"},[n("h4",{staticClass:"tui-workspaceWarningModal__title"},[e._v("\n          "+e._s(e.title)+"\n        ")]),e._v(" "),n("p",{staticClass:"tui-workspaceWarningModal__content",domProps:{innerHTML:e._s(e.messageContent)}})])],1)])],1)}),[],!1,null,null,null);p(v),v.options.__hasBlocks={script:!0,template:!0};var _=v.exports},UxpZ:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return s}});var a=n("D0Ln"),t={components:{Avatar:n.n(a)()},props:{imageSrc:{required:!0,type:String},imageAlt:{required:!0,type:String},profileUrl:{required:!0,type:String}}},r=(0,n("wWJ2").Z)(t,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("a",{attrs:{href:e.profileUrl}},[n("Avatar",{attrs:{src:e.imageSrc,alt:e.imageAlt,size:"xxsmall"}})],1)}),[],!1,null,null,null);r.options.__hasBlocks={script:!0,template:!0};var s=r.exports},m8En:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return s}});var a=n("D0Ln"),t={components:{Avatar:n.n(a)()},props:{imageSrc:{required:!0,type:String},imageAlt:{required:!0,type:String},profileUrl:{required:!0,type:String}}},r=(0,n("wWJ2").Z)(t,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("a",{attrs:{href:e.profileUrl}},[n("Avatar",{attrs:{src:e.imageSrc,alt:e.imageAlt,size:"xsmall"}})],1)}),[],!1,null,null,null);r.options.__hasBlocks={script:!0,template:!0};var s=r.exports},FZka:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return p}});var a=n("H4QJ"),t=n.n(a),r=n("/g0d"),s=n.n(r),o=n("+/rh"),d=n.n(o),c=n("F1lf"),l=n("MI77"),u={components:{Responsive:t(),Loading:s(),SpaceCardsGrid:d()},props:{maxGridUnits:{type:[Number,String],required:!1}},apollo:{workspaces:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ml_recommender_get_recommended_user_workspaces"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"ml_recommender_recommended_user_workspaces_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"workspaces"},name:{kind:"Name",value:"ml_recommender_recommended_user_workspaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description_format"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]},fetchPolicy:"network-only",variables:function(){return{theme:l.config.theme.name}}}},data:function(){return{currentBoundaryName:"l",workspaces:[]}},computed:{boundaries:function(){return Object.values(c.cardGrid)},cardUnits:function(){return c.cardGrid[this.currentBoundaryName]?c.cardGrid[this.currentBoundaryName].cardUnits:2},hasRecommendations:function(){return!this.$apollo.loading&&this.workspaces.length>0}},methods:{joinWorkspace:function(e){var i=e.workspace_id;this.$emit("join-workspace",i)}}},m=function(e){e.options.__langStrings={container_workspace:["recommended_spaces","view_all_spaces"]}},k=(0,n("wWJ2").Z)(u,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return e.hasRecommendations?n("Responsive",{staticClass:"tui-recommendedSpaces",attrs:{breakpoints:e.boundaries},on:{"responsive-resize":function(i){e.currentBoundaryName=i}}},[n("hr",{staticClass:"tui-recommendedSpaces__horizontalLine"}),e._v(" "),n("div",{staticClass:"tui-recommendedSpaces__head"},[n("h2",{staticClass:"tui-recommendedSpaces__title"},[n("span",[e._v(e._s(e.$str("recommended_spaces","container_workspace")))]),e._v(" "),e.$apollo.loading?n("Loading"):e._e()],1),e._v(" "),n("a",{staticClass:"tui-recommendedSpaces__link",attrs:{href:e.$url("/container/type/workspace/spaces.php")}},[e._v("\n      "+e._s(e.$str("view_all_spaces","container_workspace"))+"\n    ")])]),e._v(" "),n("SpaceCardsGrid",{staticClass:"tui-recommendedSpaces__grid",attrs:{"max-grid-units":12,"workspace-units":e.cardUnits,workspaces:e.workspaces,"no-empty-state-message":""},on:{"join-workspace":e.joinWorkspace}})],1):e._e()}),[],!1,null,null,null);m(k),k.options.__hasBlocks={script:!0,template:!0};var p=k.exports},"8E4j":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return m}});var a=n("/TVK"),t=n.n(a),r=n("1+j7"),s=n.n(r),o=n("sVtZ"),d=n.n(o),c={components:{WorkspaceMenu:t(),ButtonIcon:s(),ShowIcon:d()},props:{workspaceId:{type:[Number,String],required:!0},workspaceName:{type:String,required:!0},showNavigation:Boolean},data:function(){return{showMenu:!1}},computed:{buttonMenuAriaLabel:function(){return this.showMenu?this.$str("collapse_nav","container_workspace"):this.$str("expand_nav","container_workspace")}}},l=function(e){e.options.__langStrings={container_workspace:["collapse_nav","expand_nav"]}},u=(0,n("wWJ2").Z)(c,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceControlMenu"},[n("div",{staticClass:"tui-workspaceControlMenu__head"},[n("div",{staticClass:"tui-workspaceControlMenu__control"},[n("h2",{staticClass:"tui-workspaceControlMenu__title"},[e._v("\n        "+e._s(e.workspaceName)+"\n      ")]),e._v(" "),e.showNavigation?n("ButtonIcon",{staticClass:"tui-workspaceControlMenu__menuButton",attrs:{"aria-label":e.buttonMenuAriaLabel,styleclass:{transparentNoPadding:!0,small:!0}},on:{click:function(i){i.preventDefault(),e.showMenu=!e.showMenu}}},[n("ShowIcon")],1):e._e()],1),e._v(" "),n("WorkspaceMenu",{directives:[{name:"show",rawName:"v-show",value:e.showMenu&&e.showNavigation,expression:"showMenu && showNavigation"}],staticClass:"tui-workspaceControlMenu__menu",attrs:{"selected-workspace-id":e.workspaceId}})],1)])}),[],!1,null,null,null);l(u),u.options.__hasBlocks={script:!0,template:!0};var m=u.exports},qbFC:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return c}});var a=tui.require("tui/components/card/ActionCard"),t=n.n(a),r=n("7mX8"),s=n.n(r),o={components:{ActionCard:t()},props:{timeDescription:{type:String,required:!0},description:{type:String,required:!0}},mounted:function(){this.$_scan()},updated:function(){this.$_scan()},methods:{$_scan:function(){if(this.$refs.description){var e=this.$refs.description;s().scan(e)}}}},d=(0,n("wWJ2").Z)(o,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("ActionCard",{staticClass:"tui-workspaceDescription",attrs:{"has-shadow":!0}},[n("div",{staticClass:"tui-workspaceDescription__body",attrs:{slot:"card-body"},slot:"card-body"},[n("p",{staticClass:"tui-workspaceDescription__time"},[e._v("\n      "+e._s(e.timeDescription)+"\n    ")]),e._v(" "),n("div",{ref:"description",domProps:{innerHTML:e._s(e.description)}})])])}),[],!1,null,null,null);d.options.__hasBlocks={script:!0,template:!0};var c=d.exports},Kt3r:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return g}});var a=tui.require("container_workspace/components/create/ContributeWorkspace"),t=n.n(a),r=n("0AlR"),s=n.n(r),o=tui.require("tui/components/sidepanel/SidePanelNav"),d=n.n(o),c=tui.require("tui/components/sidepanel/SidePanelNavGroup"),l=n.n(c),u=tui.require("tui/components/sidepanel/SidePanelNavLinkItem"),m=n.n(u),k=n("oz+W"),p=n("pIrf"),v={components:{SidePanelNavGroup:l(),ContributeWorkspace:t(),SidePanelNav:d(),SidePanelNavLinkItem:m()},props:{selectedWorkspaceId:[Number,String]},apollo:{workspaces:{query:k.Z,context:{batch:!0}},categoryInteractor:{query:p.Z,context:{batch:!0},variables:function(){return{workspace_id:null}},update:function(e){return e.category_interactor}}},data:function(){return{categoryInteractor:{},innerSelectedWorkspaceId:this.selectedWorkspaceId}},computed:{canCreateWorkspace:function(){return this.categoryInteractor.can_create}},watch:{selectedWorkspaceId:function(e){this.innerSelectedWorkspaceId=e}},methods:{addWorkspace:function(e){var i=Array.prototype.slice.call(this.workspaces);s().writeQuery({query:k.Z,data:{workspaces:Array.prototype.concat.call(i,[e])}}),this.innerSelectedWorkspaceId=e.id,this.$emit("create-workspace",e)},canCreate:function(){return console.warn("canCreate() method has been deprecated, please do not use it."),this.categoryInteractor.can_create}}},_=function(e){e.options.__langStrings={container_workspace:["your_spaces","find_spaces","workspace_navigation","workspace_updated_notification"]}},f=(0,n("wWJ2").Z)(v,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("SidePanelNav",{staticClass:"tui-workspaceMenu",attrs:{"aria-label":e.$str("workspace_navigation","container_workspace")},model:{value:e.innerSelectedWorkspaceId,callback:function(i){e.innerSelectedWorkspaceId=i},expression:"innerSelectedWorkspaceId"}},[n("SidePanelNavGroup",{staticClass:"tui-workspaceMenu__group",attrs:{title:e.$str("your_spaces","container_workspace")}},[e.canCreateWorkspace?n("ContributeWorkspace",{attrs:{slot:"heading-side",disabled:e.$apollo.queries.workspaces.loading},on:{"create-workspace":e.addWorkspace},slot:"heading-side"}):e._e(),e._v(" "),e.$apollo.queries.workspaces.loading?e._e():e._l(e.workspaces,(function(i,a){var t=i.url,r=i.name,s=i.id,o=i.interactor;return n("SidePanelNavLinkItem",{key:a,attrs:{id:s,text:r,url:t,notification:e.innerSelectedWorkspaceId!=s&&!o.has_seen,"notification-text":e.$str("workspace_updated_notification","container_workspace",r)}})}))],2),e._v(" "),n("div",{staticClass:"tui-workspaceMenu__separator"}),e._v(" "),n("SidePanelNavGroup",{staticClass:"tui-workspaceMenu__group"},[n("SidePanelNavLinkItem",{attrs:{id:-1,url:e.$url("/container/type/workspace/spaces.php"),text:e.$str("find_spaces","container_workspace")}})],1)],1)}),[],!1,null,null,null);_(f),f.options.__hasBlocks={script:!0,template:!0};var g=f.exports},Hfli:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return b}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=n("BDBh"),o=n.n(s),d=n("Lo/q"),c=n.n(d),l=n("RJ4J"),u=n.n(l),m=n("IpiT"),k=n.n(m),p=n("YQTe"),v=n.n(p),_=n("XjW4"),f={components:{HeaderCell:c(),Cell:u(),Button:k(),PageLoader:v(),Table:o()},props:{workspaceId:{type:[Number,String],required:!0},selectedSort:{type:String,required:!0},selectedExtension:{type:String,default:""}},apollo:{page:{query:_.Z,fetchPolicy:"network-only",variables:function(){return{workspace_id:this.workspaceId,extension:this.selectedExtension,sort:this.selectedSort}},update:function(e){return{cursor:e.cursor,files:e.files}}}},data:function(){return{page:{files:[],cursor:{total:0,next:null}}}},methods:{loadMoreItems:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.page.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.page.fetchMore({variables:{workspace_id:e.workspaceId,extension:e.selectedExtension,sort:e.selectedSort,cursor:e.page.cursor.next},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.files.concat(n.files);return{cursor:n.cursor,files:a}}});case 3:case"end":return i.stop()}}),i)})))()}}},g=function(e){e.options.__langStrings={container_workspace:["actions","size","uploaded_by","file_name","file_date","format","view_discussion","loadmore","vieweditems","total_files"],core:["download","size"]}},w=(0,n("wWJ2").Z)(f,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return e.page.files.length>0?n("div",[n("Table",{staticClass:"tui-workspaceFileTable",attrs:{data:e.page.files,"expandable-rows":!1},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"7"}},[e._v("\n        "+e._s(e.$str("file_name","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n        "+e._s(e.$str("format","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n        "+e._s(e.$str("size","core"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n        "+e._s(e.$str("file_date","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"5"}},[e._v("\n        "+e._s(e.$str("uploaded_by","container_workspace"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("actions","container_workspace"))+"\n      ")])]},proxy:!0},{key:"row",fn:function(i){var a=i.row;return[n("Cell",{attrs:{size:"7","column-header":e.$str("file_name","container_workspace")}},[n("a",{attrs:{href:"javascript:;"},on:{click:function(i){return i.preventDefault(),e.$emit("open",a)}}},[e._v("\n          "+e._s(a.file_name)+"\n        ")])]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("format","container_workspace")}},[e._v("\n        "+e._s(a.extension)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("size","core")}},[e._v("\n        "+e._s(a.file_size)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("file_date","container_workspace")}},[e._v("\n        "+e._s(a.date)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"5","column-header":e.$str("uploaded_by","container_workspace")}},[e._v("\n        "+e._s(a.author.fullname)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"4","column-header":e.$str("actions","container_workspace")}},[n("div",{staticClass:"tui-workspaceFileTable__action"},[n("a",{attrs:{href:a.context_url}},[e._v("\n            "+e._s(e.$str("view_discussion","container_workspace"))+"\n          ")]),e._v(" "),n("a",{attrs:{href:a.download_url}},[e._v("\n            "+e._s(e.$str("download","core"))+"\n          ")])])])]}}],null,!1,2658767421)}),e._v(" "),n("PageLoader",{attrs:{fullpage:!1,loading:e.$apollo.loading}}),e._v(" "),e.page.files.length<e.page.cursor.total&&!e.$apollo.loading?n("div",{staticClass:"tui-workspaceFileTable__loadMoreContainer"},[n("div",{staticClass:"tui-workspaceFileTable__viewedFiles"},[e._v("\n      "+e._s(e.$str("vieweditems","container_workspace",e.page.files.length))+"\n      "+e._s(e.$str("total_files","container_workspace",e.page.cursor.total))+"\n    ")]),e._v(" "),n("Button",{staticClass:"tui-workspaceFileTable__loadMore",attrs:{text:e.$str("loadmore","container_workspace")},on:{click:e.loadMoreItems}})],1):e._e()],1):e._e()}),[],!1,null,null,null);g(w),w.options.__hasBlocks={script:!0,template:!0};var b=w.exports},DEWF:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return g}});var a=n("c+bp"),t=n.n(a),r=n("/TVK"),s=n.n(r),o=tui.require("container_workspace/components/head/EmptySpacesHeader"),d=n.n(o),c=tui.require("container_workspace/components/recommend/RecommendedSpaces"),l=n.n(c),u=n("eur8"),m=n.n(u),k=n("x7Rm"),p=n("/22Z"),v=n("pIrf"),_={components:{SidePanel:m(),LayoutTwoColumn:t(),WorkspaceMenu:s(),EmptySpacesHeader:d(),RecommendSpaces:l()},props:{showRecommended:{type:Boolean,required:!0}},apollo:{notifications:{query:p.Z,update:function(){return[]},result:function(e){var i=e.data.notifications;Array.prototype.forEach.call(i,(function(e){var i=e.message,n=e.type;(0,k.notify)({message:i,type:n})}))}},categoryInteractor:{query:v.Z,variables:function(){return{workspace_id:null}},update:function(e){return e.category_interactor}}},data:function(){return{notifications:[],categoryInteractor:{}}},computed:{canCreate:function(){return this.categoryInteractor.can_create}},methods:{navigateToWorkspace:function(e){var i=e.id;document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})},joinWorkspace:function(e){this.navigateToWorkspace({id:e})}}},f=(0,n("wWJ2").Z)(_,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("LayoutTwoColumn",{staticClass:"tui-emptySpacesPage"},[n("SidePanel",{attrs:{slot:"left","show-button-control":!1,"initially-open":!0},slot:"left"},[n("WorkspaceMenu",{staticClass:"tui-emptySpacesPage__sideMenu",on:{"create-workspace":e.navigateToWorkspace}})],1),e._v(" "),n("div",{staticClass:"tui-emptySpacesPage__content",attrs:{slot:"right"},slot:"right"},[n("EmptySpacesHeader",{staticClass:"tui-emptySpacesPage__header",attrs:{"can-create":e.canCreate}}),e._v(" "),e.showRecommended?n("RecommendSpaces",{staticClass:"tui-emptySpacesPage__recommendedSpaces",on:{"join-workspace":e.joinWorkspace}}):e._e()],1)],1)}),[],!1,null,null,null);f.options.__hasBlocks={script:!0,template:!0};var g=f.exports},XwbI:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return h}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=tui.require("tui/components/layouts/PageHeading"),o=n.n(s),d=n("H4QJ"),c=n.n(d),l=tui.require("container_workspace/components/filter/WorkspaceFilter"),u=n.n(l),m=n("+/rh"),k=n.n(m),p=n("F1lf"),v=n("0AlR"),_=n.n(v),f=n("MI77"),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_find_workspaces"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_workspace_source"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_workspace_sort"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search_term"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"container_workspace_workspace_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}},{kind:"Argument",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"workspaces"},name:{kind:"Name",value:"container_workspace_workspaces"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"Argument",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"Argument",name:{kind:"Name",value:"search_term"},value:{kind:"Variable",name:{kind:"Name",value:"search_term"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_invite"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_leave"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cannot_leave_reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"joined"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces_admin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"own"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_request_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_requested_to_join"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_create_discussions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_members"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view_member_requests"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_share_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_unshare_resources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"has_seen"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muted"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]}]}}]}}]},w={components:{SpaceCardsGrid:k(),WorkspaceFilter:u(),PageHeading:o(),Responsive:c()},props:{selectedSource:{type:[String,Number],default:null},selectedSort:{type:String,required:!0},searchTerm:{type:String,default:""},selectedAccess:{type:String,default:null}},apollo:{workspace:{query:g,fetchPolicy:"network-only",variables:function(){return{source:this.inner.selectedSource,sort:this.inner.selectedSort,search_term:this.inner.searchTerm,access:this.inner.selectedAccess,theme:f.config.theme.name}},update:function(e){var i=e.workspaces;return{cursor:e.cursor,items:i}}}},data:function(){return{workspace:{cursor:{total:0,next:null},items:[]},inner:{selectedSource:this.selectedSource,selectedSort:this.selectedSort,searchTerm:this.searchTerm,selectedAccess:this.selectedAccess},currentBoundaryName:"l"}},computed:{boundaries:function(){return Object.values(p.cardGrid)},cardUnits:function(){return p.cardGrid[this.currentBoundaryName]?p.cardGrid[this.currentBoundaryName].cardUnits:2},queryVariables:function(){return{source:this.inner.selectedSource,sort:this.inner.selectedSort,search_term:this.inner.searchTerm,access:this.inner.selectedAccess,theme:f.config.theme.name}}},methods:{updateFilter:function(e){var i=e.source,n=e.sort,a=e.searchTerm,t=e.access;this.inner.selectedSource=i,this.inner.selectedSort=n,this.inner.searchTerm=a,this.inner.selectedAccess=t},joinWorkspace:function(e){var i=e.workspace_id,n=e.workspace_interactor,a=_().readQuery({query:g,variables:this.queryVariables}),t=a.workspaces,r=a.cursor;_().writeQuery({query:g,variables:this.queryVariables,data:{cursor:r,workspaces:t.map((function(e){return e.id==i&&((e=Object.assign({},e)).interactor=n),e}))}})},requestToJoinWorkspace:function(e){var i=e.workspace_id,n=e.workspace_interactor,a=_().readQuery({query:g,variables:this.queryVariables}),t=a.workspaces,r=a.cursor;_().writeQuery({query:g,variables:this.queryVariables,data:{cursor:r,workspaces:t.map((function(e){return e.id==i&&((e=Object.assign({},e)).interactor=n),e}))}})},leaveWorkspace:function(e){var i=e.workspace_id,n=e.workspace_interactor,a=_().readQuery({query:g,variables:this.queryVariables}),t=a.workspaces,r=a.cursor;_().writeQuery({query:g,variables:this.queryVariables,data:{cursor:r,workspaces:t.map((function(e){return e.id==i&&((e=Object.assign({},e)).interactor=n),e}))}})},loadMoreItems:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(e.workspace.cursor.next){i.next=2;break}return i.abrupt("return");case 2:e.$apollo.queries.workspace.fetchMore({variables:{cursor:e.workspace.cursor.next,source:e.inner.selectedSource,sort:e.inner.selectedSort,search_term:e.inner.searchTerm,access:e.inner.selectedAccess},updateQuery:function(e,i){var n=i.fetchMoreResult,a=e.workspaces.concat(n.workspaces);return{cursor:n.cursor,workspaces:a}}});case 3:case"end":return i.stop()}}),i)})))()}}},b=function(e){e.options.__langStrings={container_workspace:["find_spaces"]}},N=(0,n("wWJ2").Z)(w,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Responsive",{staticClass:"tui-spacesPage",attrs:{breakpoints:e.boundaries},on:{"responsive-resize":function(i){e.currentBoundaryName=i}}},[n("PageHeading",{attrs:{title:e.$str("find_spaces","container_workspace")}}),e._v(" "),n("WorkspaceFilter",{staticClass:"tui-spacesPage__filter",attrs:{"selected-source":e.inner.selectedSource,"selected-sort":e.inner.selectedSort,"selected-access":e.inner.selectedAccess,"search-term":e.inner.searchTerm,"spaces-cursor":e.workspace.cursor,"spaces-is-loading":e.$apollo.queries.workspace.loading},on:{"submit-search":e.updateFilter,filter:e.updateFilter,clear:e.updateFilter}}),e._v(" "),n("SpaceCardsGrid",{staticClass:"tui-spacesPage__grid",attrs:{"max-grid-units":12,"workspace-units":e.cardUnits,workspaces:e.workspace.items,"is-loading":e.$apollo.queries.workspace.loading,cursor:e.workspace.cursor},on:{"join-workspace":e.joinWorkspace,"request-to-join-workspace":e.requestToJoinWorkspace,"leave-workspace":e.leaveWorkspace,loadmoreitems:e.loadMoreItems}})],1)}),[],!1,null,null,null);b(N),N.options.__hasBlocks={script:!0,template:!0};var h=N.exports},"kO+b":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return x}});var a=n("c+bp"),t=n.n(a),r=n("/TVK"),s=n.n(r),o=n("+FAW"),d=n.n(o),c=n("RfYe"),l=n.n(c),u=n("7Jrh"),m=n.n(u),k=n("0AlR"),p=n.n(k),v=n("/g0d"),_=n.n(v),f=n("TPml"),g=n("eur8"),w=n.n(g),b=n("Rfmg"),N=n.n(b),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_get_discussion"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"discussion"},name:{kind:"Name",value:"container_workspace_discussion"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"time_description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"email"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total_comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total_reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_context_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discussion_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspace_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_delete"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_update"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_report"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"removed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_react"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reacted"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edited"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment_cursor"},arguments:[],directives:[]}]}}]}}]},y={components:{Layout:t(),WorkspaceMenu:s(),DiscussionCard:d(),BackArrow:l(),CommentBox:m(),Loading:_(),SidePanel:w(),WorkspaceContentLayout:N()},props:{discussionId:{type:[Number,String],required:!0}},apollo:{discussion:{query:h,variables:function(){return{id:this.discussionId}}}},data:function(){return{discussion:null,submitting:!1,formElement:null}},computed:{size:function(){return f.SIZE_LARGE}},methods:{scrollToCommentForm:function(){this.formElement&&this.formElement.scrollIntoView(!1)},setFormElement:function(e){this.formElement=e},updateDiscussion:function(e){p().writeQuery({query:h,variables:{id:this.discussionId},data:{discussion:e}})},updateDiscussionComments:function(){var e=p().readQuery({query:h,variables:{id:this.discussionId}}).discussion;(e=Object.assign({},e)).total_comments+=1,p().writeQuery({query:h,variables:{id:this.discussionId},data:{discussion:e}})},updateReactStatus:function(e){var i=e.status,n=p().readQuery({query:h,variables:{id:this.discussionId}}).discussion;n=Object.assign({},n),i?n.total_reactions+=1:0!=n.total_reactions&&(n.total_reactions-=1),n.discussion_interactor=Object.assign({},n.discussion_interactor),n.discussion_interactor.reacted=i,p().writeQuery({query:h,variables:{id:this.discussionId},data:{discussion:n}})},redirectToWorkspace:function(e){var i=e.id;document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})}}},F=function(e){e.options.__langStrings={container_workspace:["discussions","back_to_discussions","comment"],totara_comment:["comments"]}},S=(0,n("wWJ2").Z)(y,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Layout",{staticClass:"tui-workspaceDiscussionPage",scopedSlots:e._u([e.$apollo.loading?null:{key:"left",fn:function(i){return["horizontal"===i.direction?n("SidePanel",{attrs:{sticky:!1,"initially-open":!0,"show-button-control":!1}},[n("WorkspaceMenu",{attrs:{"selected-workspace-id":e.discussion.workspace_id},on:{"create-workspace":e.redirectToWorkspace}})],1):e._e()]}},e.$apollo.loading?null:{key:"right",fn:function(i){var a=i.direction,t=i.units;return[n("WorkspaceContentLayout",{staticClass:"tui-workspaceDiscussionPage__column",attrs:{"grid-direction":a,"max-units":t}},[n("div",{attrs:{slot:"content"},slot:"content"},[n("a",{staticClass:"tui-workspaceDiscussionPage__backButton",attrs:{href:e.$url("/container/type/workspace/workspace.php",{id:e.discussion.workspace_id})}},[n("BackArrow",{attrs:{size:"200"}}),e._v(" "),n("span",[e._v(" "+e._s(e.$str("discussions","container_workspace"))+" ")])],1),e._v(" "),n("DiscussionCard",{staticClass:"tui-workspaceDiscussionPage__discussion",attrs:{"discussion-id":e.discussion.id,"total-reactions":e.discussion.total_reactions,"total-comments":e.discussion.total_comments,"time-description":e.discussion.time_description,reacted:e.discussion.discussion_interactor.reacted,removed:e.discussion.discussion_interactor.removed,"comment-able":e.discussion.discussion_interactor.can_comment,"update-able":e.discussion.discussion_interactor.can_update,"delete-able":e.discussion.discussion_interactor.can_delete,"react-able":e.discussion.discussion_interactor.can_react,"report-able":e.discussion.discussion_interactor.can_report,"creator-id":e.discussion.owner.id,"creator-fullname":e.discussion.owner.fullname,"creator-image-alt":e.discussion.owner.profileimagealt||e.discussion.owner.fullname,"creator-image-src":e.discussion.owner.profileimageurl,"discussion-content":e.discussion.content,"show-discussion-link":!1,edited:e.discussion.edited},on:{"update-react-status":e.updateReactStatus,"update-discussion":e.updateDiscussion,"trigger-comment":e.scrollToCommentForm}}),e._v(" "),n("h3",{staticClass:"tui-workspaceDiscussionPage__title"},[n("span",[e._v("\n            "+e._s(e.$str("comments","totara_comment",e.discussion.total_comments))+"\n          ")]),e._v(" "),e.submitting?n("Loading",{attrs:{size:"300"}}):e._e()],1),e._v(" "),n("CommentBox",{staticClass:"tui-workspaceDiscussionPage__commentBox",attrs:{area:"discussion",component:"container_workspace","instance-id":e.discussion.id,editor:{variant:"standard",compact:!1,contextId:e.discussion.workspace_context_id,extraExtensions:["hashtag","mention"]},size:e.size,"submit-form-button-text":e.$str("comment","container_workspace"),"show-like-button-text":!0,"show-reply-button-text":!0,"with-border":!0,submitting:e.submitting,"comment-able":e.discussion.discussion_interactor.can_comment,"comment-inline-head":!0},on:{"update-submitting":function(i){e.submitting=i},"create-comment":e.updateDiscussionComments,"form-ready":e.setFormElement}})],1)])]}}],null,!0)})}),[],!1,null,null,null);F(S),S.options.__hasBlocks={script:!0,template:!0};var x=S.exports},"q38/":function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return s}});var a={props:{notFound:{type:Boolean,default:!1},type:{type:String,default:"workspace",validator:function(e){return["workspace","discussion"].includes(e)}}},computed:{getContentMessage:function(){return this.notFound?"workspace"==this.type?this.$str("error:workspace_not_found","container_workspace"):this.$str("error:discussion_not_found","container_workspace"):this.$str("error:view_workspace","container_workspace")}}},t=function(e){e.options.__langStrings={container_workspace:["error:view_workspace","error:discussion_not_found","error:workspace_not_found"]}},r=(0,n("wWJ2").Z)(a,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("div",{staticClass:"tui-workspaceEmptyPage"},[n("p",{staticClass:"tui-workspaceEmptyPage__text"},[e._v("\n    "+e._s(e.getContentMessage)+"\n  ")])])}),[],!1,null,null,null);t(r),r.options.__hasBlocks={script:!0,template:!0};var s=r.exports},pE3Y:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return S}});var a=n("c+bp"),t=n.n(a),r=n("/TVK"),s=n.n(r),o=n("eur8"),d=n.n(o),c=tui.require("container_workspace/components/head/WorkspaceFileHeader"),l=n.n(c),u=tui.require("container_workspace/components/filter/WorkspaceFileFilter"),m=n.n(u),k=tui.require("container_workspace/components/table/WorkspaceFileTable"),p=n.n(k),v=n("EJOt"),_=n.n(v),f=tui.require("container_workspace/components/modal/WorkspaceFileViewModal"),g=n.n(f),w=tui.require("container_workspace/components/sidepanel/WorkspaceControlMenu"),b=n.n(w),N=n("XjW4"),h={components:{SidePanel:d(),LayoutTwoColumn:t(),WorkspaceMenu:s(),WorkspaceFileHeader:l(),WorkspaceFileFilter:m(),WorkspaceFileTable:p(),ModalPresenter:_(),WorkspaceFileViewModal:g(),WorkspaceControlMenu:b()},props:{workspaceId:{type:[Number,String],required:!0},selectedSort:{type:String,required:!0},selectedExtension:{type:String,default:""},workspaceName:{type:String,required:!0}},apollo:{totalFiles:{query:N.Z,variables:function(){return{workspace_id:this.workspaceId,extension:this.inner.selectedExtension,sort:this.inner.selectedSort}},update:function(e){var i=e.cursor;return parseInt(i.total,10)}}},data:function(){return{totalFiles:0,inner:{selectedSort:this.selectedSort,selectedExtension:this.selectedExtension},openModal:!1,innerFile:{fileName:null,extension:null,downloadUrl:null,contextUrl:null,fileUrl:null,mimeType:null,fileType:null,altText:null}}},methods:{updateFilter:function(e){var i=e.extension,n=e.sort;this.inner.selectedExtension=i,this.inner.selectedSort=n,this.currentPage=1},navigateToWorkspace:function(e){var i=e.id;document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})},goBack:function(){document.location.href=this.$url("/container/type/workspace/workspace.php?",{id:this.workspaceId})},handleOpen:function(e){var i=e.file_name,n=e.extension,a=e.context_url,t=e.download_url,r=e.file_url,s=e.mimetype,o=e.file_type,d=e.alt_text;this.innerFile.fileName=i,this.innerFile.extension=n,this.innerFile.contextUrl=a,this.innerFile.downloadUrl=t,this.innerFile.mimeType=s,this.innerFile.fileType=o,this.innerFile.altText=d||this.$str("imagealt","core"),this.innerFile.fileUrl=r,this.openModal=!0}}},y=function(e){e.options.__langStrings={core:["imagealt"]}},F=(0,n("wWJ2").Z)(h,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("LayoutTwoColumn",{staticClass:"tui-workspaceFilePage",scopedSlots:e._u([{key:"left",fn:function(i){var a=i.direction;return[n("SidePanel",{attrs:{"show-button-control":!1,"initially-open":!0}},["horizontal"===a?n("WorkspaceMenu",{attrs:{"selected-workspace-id":e.workspaceId},on:{"create-workspace":e.navigateToWorkspace}}):n("WorkspaceControlMenu",{attrs:{"workspace-id":e.workspaceId,"workspace-name":e.workspaceName,"show-navigation":!0}})],1)]}},{key:"right",fn:function(){return[e.$apollo.loading?e._e():n("div",{staticClass:"tui-workspaceFilePage__content"},[n("WorkspaceFileHeader",{on:{"go-back":e.goBack}}),e._v(" "),n("WorkspaceFileFilter",{attrs:{"selected-sort":e.inner.selectedSort,"selected-extension":e.inner.selectedExtension,"workspace-id":e.workspaceId,"show-sort":e.totalFiles>0},on:{"update-filter":e.updateFilter}}),e._v(" "),e.$apollo.loading||0!==e.totalFiles?n("WorkspaceFileTable",{attrs:{"workspace-id":e.workspaceId,"selected-sort":e.inner.selectedSort,"selected-extension":e.inner.selectedExtension},on:{open:e.handleOpen}}):n("p",{staticClass:"tui-workspaceFilePage__message"},[e._v("\n        "+e._s(e.$str("no_file_found","container_workspace"))+"\n      ")]),e._v(" "),n("ModalPresenter",{attrs:{open:e.openModal},on:{"request-close":function(i){e.openModal=!1}}},[n("WorkspaceFileViewModal",{attrs:{"file-name":e.innerFile.fileName,"download-url":e.innerFile.downloadUrl,"context-url":e.innerFile.contextUrl,"mime-type":e.innerFile.mimeType,extension:e.innerFile.extension,"file-type":e.innerFile.fileType,"alt-text":e.innerFile.altText,"file-url":e.innerFile.fileUrl}})],1)],1)]},proxy:!0}])})}),[],!1,null,null,null);y(F),F.options.__hasBlocks={script:!0,template:!0};var S=F.exports},lB4C:function(e,i,n){"use strict";n.r(i),n.d(i,{default:function(){return J}});var a=n("37Fk"),t=n("KCiO"),r=n.n(t),s=tui.require("tui/components/adder/AudienceAdder"),o=n.n(s),d=n("c+bp"),c=n.n(d),l=tui.require("tui/components/notifications/NotificationBanner"),u=n.n(l),m=n("/TVK"),k=n.n(m),p=tui.require("tui/components/tabs/Tabs"),v=n.n(p),_=tui.require("tui/components/tabs/Tab"),f=n.n(_),g=tui.require("container_workspace/components/content/tabs/WorkspaceMembersTab"),w=n.n(g),b=tui.require("container_workspace/components/content/tabs/WorkspaceAudiencesTab"),N=n.n(b),h=tui.require("container_workspace/components/content/tabs/WorkspaceDiscussionTab"),y=n.n(h),F=tui.require("container_workspace/components/content/tabs/WorkspaceLibraryTab"),S=n.n(F),x=tui.require("container_workspace/components/head/WorkspacePageHeader"),C=n.n(x),q=n("x7Rm"),V=n("eur8"),D=n.n(V),$=tui.require("container_workspace/components/sidepanel/WorkspaceDescription"),A=n.n($),I=n("Rfmg"),T=n.n(I),M=tui.require("container_workspace/components/action/WorkspacePrimaryAction"),W=n.n(M),B=n("0AlR"),P=n.n(B),E=n("MI77"),L=n("U0bO"),O={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"container_workspace_add_audiences"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_add_audiences_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"container_workspace_add_audiences"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"audience_ids"},arguments:[],directives:[]}]}}]}}]},R={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"container_workspace_audience_ids"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"container_workspace_audience_ids_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"ids"},name:{kind:"Name",value:"container_workspace_audience_ids"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[]}]}}]},j=n("Jpbg"),Z=n("/22Z"),U={components:{AudienceAdder:o(),NotificationBanner:u(),WorkspaceAudiencesTab:N(),WorkspacePrimaryAction:W(),Layout:c(),SidePanel:D(),WorkspaceMenu:k(),Tabs:v(),Tab:f(),WorkspaceMembersTab:w(),WorkspaceDiscussionTab:y(),WorkspaceLibraryTab:S(),WorkspacePageHeader:C(),WorkspaceDescription:A(),WorkspaceContentLayout:T()},props:{workspaceId:{type:[Number,String],required:!0},memberSortOption:{type:String,required:!0},discussionSortOption:{type:String,required:!0},selectedTab:{type:String,default:"discussion",validator:function(e){return["discussion","members","library","audiences"].includes(e)}},showLibraryTab:{type:Boolean,required:!0}},apollo:{workspace:{query:j.Z,context:{batch:!0},variables:function(){return{id:this.workspaceId,theme:E.config.theme.name}}},notifications:{query:Z.Z,context:{batch:!0},update:function(){return[]},result:function(e){var i=e.data.notifications;Array.prototype.forEach.call(i,(function(e){var i=e.message,n=e.type;(0,q.notify)({message:i,type:n})}))}}},data:function(){return{workspace:null,innerSelectedTab:this.selectedTab,audienceAdder:{showing:!1,adding:!1,preparing:!1,currentAudienceIds:[]}}},watch:{innerSelectedTab:function(e){if(e&&["discussion","members","library","audiences"].includes(e)){var i=(0,L.parseQueryString)(window.location.search);i.tab!==e&&(i.tab=e,window.history.pushState(null,null,(0,L.url)(window.location.pathname,i))),"members"===e&&this.reloadWorkspace()}}},methods:{updateWorkspace:function(e){P().writeQuery({query:j.Z,variables:{id:this.workspaceId,theme:E.config.theme.name},data:{workspace:e}})},reloadWorkspace:function(){this.$apollo.queries.workspace.refetch()},redirectToSpacePage:function(){document.location.href=this.$url("/container/type/workspace/index.php",{hold_notification:1})},addDiscussion:function(){var e=P().readQuery({query:j.Z,variables:{id:this.workspaceId,theme:E.config.theme.name}}).workspace;e=Object.assign({},e,{total_discussions:e.total_discussions+1}),P().writeQuery({query:j.Z,variables:{id:this.workspaceId,theme:E.config.theme.name},data:{workspace:e}})},redirectToWorkspace:function(e){var i=e.id;document.location.href=this.$url("/container/type/workspace/workspace.php",{id:i})},updateMuteStatus:function(e){var i=P().readQuery({query:j.Z,variables:{id:this.workspaceId,theme:E.config.theme.name}}).workspace;(i=Object.assign({},i)).interactor=Object.assign({},i.interactor),i.interactor.muted=e,P().writeQuery({query:j.Z,variables:{id:this.workspaceId,theme:E.config.theme.name},data:{workspace:i}})},handleAddAudiencesClick:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return e.audienceAdder.showing=!0,e.audienceAdder.preparing=!0,e.audienceAdder.adding=!1,i.next=5,e.getCurrentAudienceIds();case 5:e.audienceAdder.currentAudienceIds=i.sent,e.audienceAdder.preparing=!1;case 7:case"end":return i.stop()}}),i)})))()},handleAudienceAdderBegin:function(){this.audienceAdder.adding=!0},handleAudienceAdderResult:function(e){var i=this;return(0,a.Z)(r().mark((function n(){return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0!==e.length){n.next=2;break}return n.abrupt("return");case 2:return n.prev=2,n.next=5,i.$apollo.mutate({mutation:O,variables:{input:{workspace_id:i.workspaceId,audience_ids:e.ids}},refetchQueries:["container_workspace_get_workspace","container_workspace_audiences"],awaitRefetchQueries:!0});case 5:return n.prev=5,i.audienceAdder.showing=!1,n.finish(5);case 8:(0,q.notify)({message:i.$str("add_audiences_started_message","container_workspace")});case 9:case"end":return n.stop()}}),n,null,[[2,,5,8]])})))()},handleAudienceAdderCancel:function(){this.audienceAdder.showing=!1},getCurrentAudienceIds:function(){var e=this;return(0,a.Z)(r().mark((function i(){var n;return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.$apollo.query({query:R,variables:{input:{workspace_id:e.workspaceId}},fetchPolicy:"no-cache"});case 2:return n=i.sent,i.abrupt("return",n.data.ids);case 4:case"end":return i.stop()}}),i)})))()}}},H=function(e){e.options.__langStrings={container_workspace:["add_audiences_background_notice","add_audiences_started_message","audiences_tab_label","discuss_tab_label","library_tab_label","member_tab_label","visibility_help"]}},z=(0,n("wWJ2").Z)(U,(function(){var e=this,i=e.$createElement,n=e._self._c||i;return n("Layout",{staticClass:"tui-workspacePage",scopedSlots:e._u([{key:"left",fn:function(i){return["horizontal"===i.direction?n("SidePanel",{attrs:{"show-button-control":!1,sticky:!1,"initially-open":!0}},[n("WorkspaceMenu",{attrs:{"selected-workspace-id":e.workspaceId},on:{"create-workspace":e.redirectToWorkspace}})],1):e._e()]}},{key:"right",fn:function(i){var a=i.units,t=i.direction;return[e.workspace?n("div",{staticClass:"tui-workspacePage__mainContent"},[n("WorkspacePageHeader",{staticClass:"tui-workspacePage__head",attrs:{"show-navigation":"vertical"===t,"workspace-id":e.workspace.id,"workspace-image":e.workspace.image,"workspace-name":e.workspace.name,"workspace-access":e.workspace.access,"workspace-muted":e.workspace.interactor.muted,"show-mute-button":e.workspace.interactor.joined},on:{"update-mute-status":e.updateMuteStatus}}),e._v(" "),n("div",{staticClass:"tui-workspacePage__primaryAction"},[n("WorkspacePrimaryAction",{staticClass:"tui-workspacePage__primaryAction-action",attrs:{"workspace-id":e.workspace.id,"workspace-name":e.workspace.name,"workspace-access":e.workspace.access,"workspace-context-id":e.workspace.context_id,"workspace-interactor":e.workspace.interactor},on:{"update-workspace":e.updateWorkspace,"add-audience":e.handleAddAudiencesClick,"request-to-join-workspace":e.reloadWorkspace,"cancel-request-to-join-workspace":e.reloadWorkspace,"added-member":e.reloadWorkspace,"deleted-workspace":e.redirectToSpacePage,"update-mute-status":e.updateMuteStatus}})],1),e._v(" "),n("Tabs",{staticClass:"tui-workspacePage__tabs",attrs:{direction:"horizontal"},model:{value:e.innerSelectedTab,callback:function(i){e.innerSelectedTab=i},expression:"innerSelectedTab"}},[n("Tab",{attrs:{id:"discussion",name:e.$str("discuss_tab_label","container_workspace")}},[n("WorkspaceContentLayout",{staticClass:"tui-workspacePage__tabs-discussionTab",attrs:{"max-units":a,"grid-direction":t},scopedSlots:e._u([{key:"content",fn:function(){return[e.workspace.interactor.can_view_discussions?n("WorkspaceDiscussionTab",{attrs:{"workspace-total-discussions":e.workspace.total_discussions,"selected-sort":e.discussionSortOption,"workspace-id":e.workspaceId,"workspace-context-id":e.workspace.context_id},on:{"add-discussion":e.addDiscussion}}):n("p",{staticClass:"tui-workspacePage__tabs-text"},[e._v("\n                "+e._s(e.$str("visibility_help","container_workspace"))+"\n              ")])]},proxy:!0}],null,!0)},[e._v(" "),e.workspace.description?n("WorkspaceDescription",{attrs:{slot:"side","time-description":e.workspace.time_description,description:e.workspace.description},slot:"side"}):e._e()],1)],1),e._v(" "),e.showLibraryTab?n("Tab",{attrs:{id:"library",disabled:!e.workspace.interactor.can_view_library,name:e.$str("library_tab_label","container_workspace")}},[n("WorkspaceLibraryTab",{attrs:{"workspace-id":e.workspaceId,units:a,"grid-direction":t}})],1):e._e(),e._v(" "),n("Tab",{attrs:{id:"members",disabled:!e.workspace.interactor.can_view_members,name:e.$str("member_tab_label","container_workspace",e.workspace.total_members)}},[n("WorkspaceContentLayout",{attrs:{"grid-direction":t,"max-units":a}},[n("WorkspaceMembersTab",{attrs:{slot:"content","workspace-id":e.workspaceId,"can-view-member-requests":e.workspace.interactor.can_view_member_requests,"total-member-requests":e.workspace.total_member_requests,"total-members":e.workspace.total_members,"selected-sort":e.memberSortOption},slot:"content"})],1)],1),e._v(" "),e.workspace.interactor.can_add_audiences?n("Tab",{attrs:{id:"audiences",name:e.$str("audiences_tab_label","container_workspace",e.workspace.total_audiences)}},[n("WorkspaceAudiencesTab",{attrs:{workspace:e.workspace,"grid-direction":t,"max-units":a},on:{"add-audience":e.handleAddAudiencesClick}})],1):e._e()],1),e._v(" "),n("AudienceAdder",{attrs:{open:e.audienceAdder.showing,"context-id":e.workspace.context_id,"force-results-loading":e.audienceAdder.preparing,"show-loading-btn":e.audienceAdder.adding,"existing-items":e.audienceAdder.currentAudienceIds,"tenant-scope":!0},on:{"add-button-clicked":e.handleAudienceAdderBegin,added:e.handleAudienceAdderResult,cancel:e.handleAudienceAdderCancel},scopedSlots:e._u([{key:"notices",fn:function(){return[n("NotificationBanner",{attrs:{message:e.$str("add_audiences_background_notice","container_workspace")}})]},proxy:!0}],null,!0)})],1):e._e()]}}])})}),[],!1,null,null,null);H(z),z.options.__hasBlocks={script:!0,template:!0};var J=z.exports},dGVW:function(e,i,n){"use strict";n.r(i),n.d(i,{HIDDEN:function(){return r},PRIVATE:function(){return t},PUBLIC:function(){return a},isHidden:function(){return d},isPrivate:function(){return o},isPublic:function(){return s}});var a="PUBLIC",t="PRIVATE",r="HIDDEN";function s(e){return e===a}function o(e){return e===t}function d(e){return e===r}},yljf:function(e,i,n){"use strict";n.r(i),n.d(i,{cardGrid:function(){return a}});var a={xs:{name:"xs",boundaries:[0,500],direction:"horizontal",cardUnits:12},s:{name:"s",boundaries:[500,992],direction:"horizontal",cardUnits:6},m:{name:"m",boundaries:[993,1192],direction:"horizontal",cardUnits:3},l:{name:"l",boundaries:[1193,1396],direction:"horizontal",cardUnits:2},xl:{name:"xl",boundaries:[1397,1672],direction:"horizontal",cardUnits:2}}},"1y7x":function(e,i,n){"use strict";n.r(i),n.d(i,{HIDDEN:function(){return t.HIDDEN},PRIVATE:function(){return t.PRIVATE},PUBLIC:function(){return t.PUBLIC},cardGrid:function(){return a.cardGrid},isHidden:function(){return t.isHidden},isPrivate:function(){return t.isPrivate},isPublic:function(){return t.isPublic}});var a=n("yljf"),t=n("dGVW")},"+mol":function(e,i,n){"use strict";n.r(i);var a=n("37Fk"),t=n("KCiO"),r=n.n(t);i.default={data:function(){return{isLoadMoreVisible:!1}},methods:{onScrollToBottom:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(!e.isLoadMoreVisible){i.next=2;break}return i.abrupt("return");case 2:return i.next=4,e.loadMoreItems();case 4:e.isLoadMoreVisible=!0;case 5:case"end":return i.stop()}}),i)})))()},loadMore:function(){var e=this;return(0,a.Z)(r().mark((function i(){return r().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,e.loadMoreItems();case 2:e.isLoadMoreVisible=!1;case 3:case"end":return i.stop()}}),i)})))()}}}},wWJ2:function(e,i,n){"use strict";function a(e,i,n,a,t,r,s,o){var d,c="function"==typeof e?e.options:e;if(i&&(c.render=i,c.staticRenderFns=n,c._compiled=!0),a&&(c.functional=!0),r&&(c._scopeId="data-v-"+r),s?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=d):t&&(d=o?function(){t.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:t),d)if(c.functional){c._injectStyles=d;var l=c.render;c.render=function(e,i){return d.call(i),l(e,i)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:c}}n.d(i,{Z:function(){return a}})},puuV:function(e){"use strict";e.exports=tui.require("container_workspace/access")},"+FAW":function(e){"use strict";e.exports=tui.require("container_workspace/components/card/DiscussionCard")},Rfmg:function(e){"use strict";e.exports=tui.require("container_workspace/components/content/WorkspaceContentLayout")},T9Sq:function(e){"use strict";e.exports=tui.require("container_workspace/components/form/WorkspaceDiscussionForm")},zmsX:function(e){"use strict";e.exports=tui.require("container_workspace/components/form/WorkspaceForm")},"+/rh":function(e){"use strict";e.exports=tui.require("container_workspace/components/grid/SpaceCardsGrid")},bga9:function(e){"use strict";e.exports=tui.require("container_workspace/components/modal/WorkspaceModal")},zNee:function(e){"use strict";e.exports=tui.require("container_workspace/components/modal/WorkspaceRequestModal")},LRZg:function(e){"use strict";e.exports=tui.require("container_workspace/components/profile/DiscussionAvatar")},"/TVK":function(e){"use strict";e.exports=tui.require("container_workspace/components/sidepanel/WorkspaceMenu")},F1lf:function(e){"use strict";e.exports=tui.require("container_workspace/index")},Srla:function(e){"use strict";e.exports=tui.require("editor_weka/WekaValue")},x4c5:function(e){"use strict";e.exports=tui.require("editor_weka/components/Weka")},"7Jrh":function(e){"use strict";e.exports=tui.require("totara_comment/components/box/CommentBox")},TPml:function(e){"use strict";e.exports=tui.require("totara_comment/size")},dFRL:function(e){"use strict";e.exports=tui.require("totara_engage/components/buttons/LoadingButton")},byAl:function(e){"use strict";e.exports=tui.require("totara_engage/components/form/UnsavedChangesWarning")},"7oVD":function(e){"use strict";e.exports=tui.require("totara_engage/index")},"8O0l":function(e){"use strict";e.exports=tui.require("totara_engage/mixins/contribution_mixin")},"0AlR":function(e){"use strict";e.exports=tui.require("tui/apollo_client")},D0Ln:function(e){"use strict";e.exports=tui.require("tui/components/avatar/Avatar")},eHBv:function(e){"use strict";e.exports=tui.require("tui/components/buttons/ButtonGroup")},"1+j7":function(e){"use strict";e.exports=tui.require("tui/components/buttons/ButtonIcon")},IpiT:function(e){"use strict";e.exports=tui.require("tui/components/buttons/Button")},ddQy:function(e){"use strict";e.exports=tui.require("tui/components/buttons/Cancel")},RJ4J:function(e){"use strict";e.exports=tui.require("tui/components/datatable/Cell")},"Lo/q":function(e){"use strict";e.exports=tui.require("tui/components/datatable/HeaderCell")},BDBh:function(e){"use strict";e.exports=tui.require("tui/components/datatable/Table")},"/apQ":function(e){"use strict";e.exports=tui.require("tui/components/decor/Separator")},"6e83":function(e){"use strict";e.exports=tui.require("tui/components/dropdown/DropdownItem")},"3NWB":function(e){"use strict";e.exports=tui.require("tui/components/dropdown/Dropdown")},ebfP:function(e){"use strict";e.exports=tui.require("tui/components/filters/FilterBar")},FR0q:function(e){"use strict";e.exports=tui.require("tui/components/filters/SearchFilter")},RwCy:function(e){"use strict";e.exports=tui.require("tui/components/filters/SelectFilter")},"2XTD":function(e){"use strict";e.exports=tui.require("tui/components/form/FormRow")},ApK1:function(e){"use strict";e.exports=tui.require("tui/components/form/Form")},"5Nvt":function(e){"use strict";e.exports=tui.require("tui/components/grid/GridItem")},z1IF:function(e){"use strict";e.exports=tui.require("tui/components/grid/Grid")},RfYe:function(e){"use strict";e.exports=tui.require("tui/components/icons/BackArrow")},"/g0d":function(e){"use strict";e.exports=tui.require("tui/components/icons/Loading")},sVtZ:function(e){"use strict";e.exports=tui.require("tui/components/icons/Show")},"c+bp":function(e){"use strict";e.exports=tui.require("tui/components/layouts/LayoutTwoColumn")},YLyP:function(e){"use strict";e.exports=tui.require("tui/components/links/ActionLink")},YQTe:function(e){"use strict";e.exports=tui.require("tui/components/loading/Loader")},"6R6u":function(e){"use strict";e.exports=tui.require("tui/components/lozenge/Lozenge")},"3Uz/":function(e){"use strict";e.exports=tui.require("tui/components/modal/ConfirmationModal")},"3h9w":function(e){"use strict";e.exports=tui.require("tui/components/modal/InformationModal")},GLpC:function(e){"use strict";e.exports=tui.require("tui/components/modal/ModalContent")},EJOt:function(e){"use strict";e.exports=tui.require("tui/components/modal/ModalPresenter")},IACo:function(e){"use strict";e.exports=tui.require("tui/components/modal/Modal")},QD8Q:function(e){"use strict";e.exports=tui.require("tui/components/profile/MiniProfileCard")},H4QJ:function(e){"use strict";e.exports=tui.require("tui/components/responsive/Responsive")},eur8:function(e){"use strict";e.exports=tui.require("tui/components/sidepanel/SidePanel")},"3Wc6":function(e){"use strict";e.exports=tui.require("tui/components/virtualscroll/VirtualScroll")},MI77:function(e){"use strict";e.exports=tui.require("tui/config")},UYjc:function(e){"use strict";e.exports=tui.require("tui/format")},x7Rm:function(e){"use strict";e.exports=tui.require("tui/notifications")},"7mX8":function(e){"use strict";e.exports=tui.require("tui/tui")},U0bO:function(e){"use strict";e.exports=tui.require("tui/util")},gnxZ:function(e,i,n){var a=n("uy/F").default;function t(){"use strict";e.exports=t=function(){return i},e.exports.__esModule=!0,e.exports.default=e.exports;var i={},n=Object.prototype,r=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},o=s.iterator||"@@iterator",d=s.asyncIterator||"@@asyncIterator",c=s.toStringTag||"@@toStringTag";function l(e,i,n){return Object.defineProperty(e,i,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[i]}try{l({},"")}catch(e){l=function(e,i,n){return e[i]=n}}function u(e,i,n,a){var t=i&&i.prototype instanceof p?i:p,r=Object.create(t.prototype),s=new x(a||[]);return r._invoke=function(e,i,n){var a="suspendedStart";return function(t,r){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===t)throw r;return{value:void 0,done:!0}}for(n.method=t,n.arg=r;;){var s=n.delegate;if(s){var o=y(s,n);if(o){if(o===k)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var d=m(e,i,n);if("normal"===d.type){if(a=n.done?"completed":"suspendedYield",d.arg===k)continue;return{value:d.arg,done:n.done}}"throw"===d.type&&(a="completed",n.method="throw",n.arg=d.arg)}}}(e,n,s),r}function m(e,i,n){try{return{type:"normal",arg:e.call(i,n)}}catch(e){return{type:"throw",arg:e}}}i.wrap=u;var k={};function p(){}function v(){}function _(){}var f={};l(f,o,(function(){return this}));var g=Object.getPrototypeOf,w=g&&g(g(C([])));w&&w!==n&&r.call(w,o)&&(f=w);var b=_.prototype=p.prototype=Object.create(f);function N(e){["next","throw","return"].forEach((function(i){l(e,i,(function(e){return this._invoke(i,e)}))}))}function h(e,i){function n(t,s,o,d){var c=m(e[t],e,s);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==a(u)&&r.call(u,"__await")?i.resolve(u.__await).then((function(e){n("next",e,o,d)}),(function(e){n("throw",e,o,d)})):i.resolve(u).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,d)}))}d(c.arg)}var t;this._invoke=function(e,a){function r(){return new i((function(i,t){n(e,a,i,t)}))}return t=t?t.then(r,r):r()}}function y(e,i){var n=e.iterator[i.method];if(void 0===n){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=void 0,y(e,i),"throw"===i.method))return k;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var a=m(n,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,k;var t=a.arg;return t?t.done?(i[e.resultName]=t.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=void 0),i.delegate=null,k):t:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,k)}function F(e){var i={tryLoc:e[0]};1 in e&&(i.catchLoc=e[1]),2 in e&&(i.finallyLoc=e[2],i.afterLoc=e[3]),this.tryEntries.push(i)}function S(e){var i=e.completion||{};i.type="normal",delete i.arg,e.completion=i}function x(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(F,this),this.reset(!0)}function C(e){if(e){var i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function i(){for(;++n<e.length;)if(r.call(e,n))return i.value=e[n],i.done=!1,i;return i.value=void 0,i.done=!0,i};return a.next=a}}return{next:q}}function q(){return{value:void 0,done:!0}}return v.prototype=_,l(b,"constructor",_),l(_,"constructor",v),v.displayName=l(_,c,"GeneratorFunction"),i.isGeneratorFunction=function(e){var i="function"==typeof e&&e.constructor;return!!i&&(i===v||"GeneratorFunction"===(i.displayName||i.name))},i.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},i.awrap=function(e){return{__await:e}},N(h.prototype),l(h.prototype,d,(function(){return this})),i.AsyncIterator=h,i.async=function(e,n,a,t,r){void 0===r&&(r=Promise);var s=new h(u(e,n,a,t),r);return i.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},N(b),l(b,c,"Generator"),l(b,o,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),i.keys=function(e){var i=[];for(var n in e)i.push(n);return i.reverse(),function n(){for(;i.length;){var a=i.pop();if(a in e)return n.value=a,n.done=!1,n}return n.done=!0,n}},i.values=C,x.prototype={constructor:x,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(S),!e)for(var i in this)"t"===i.charAt(0)&&r.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function n(n,a){return s.type="throw",s.arg=e,i.next=n,a&&(i.method="next",i.arg=void 0),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var t=this.tryEntries[a],s=t.completion;if("root"===t.tryLoc)return n("end");if(t.tryLoc<=this.prev){var o=r.call(t,"catchLoc"),d=r.call(t,"finallyLoc");if(o&&d){if(this.prev<t.catchLoc)return n(t.catchLoc,!0);if(this.prev<t.finallyLoc)return n(t.finallyLoc)}else if(o){if(this.prev<t.catchLoc)return n(t.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return n(t.finallyLoc)}}}},abrupt:function(e,i){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&r.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var t=a;break}}t&&("break"===e||"continue"===e)&&t.tryLoc<=i&&i<=t.finallyLoc&&(t=null);var s=t?t.completion:{};return s.type=e,s.arg=i,t?(this.method="next",this.next=t.finallyLoc,k):this.complete(s)},complete:function(e,i){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&i&&(this.next=i),k},finish:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),S(n),k}},catch:function(e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var t=a.arg;S(n)}return t}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:C(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=void 0),k}},i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},"uy/F":function(e){function i(n){return e.exports=i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,i(n)}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},KCiO:function(e,i,n){var a=n("gnxZ")();e.exports=a;try{regeneratorRuntime=a}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}},"37Fk":function(e,i,n){"use strict";function a(e,i,n,a,t,r,s){try{var o=e[r](s),d=o.value}catch(e){return void n(e)}o.done?i(d):Promise.resolve(d).then(a,t)}function t(e){return function(){var i=this,n=arguments;return new Promise((function(t,r){var s=e.apply(i,n);function o(e){a(s,t,r,o,d,"next",e)}function d(e){a(s,t,r,o,d,"throw",e)}o(void 0)}))}}n.d(i,{Z:function(){return t}})}},i={};function n(a){var t=i[a];if(void 0!==t)return t.exports;var r=i[a]={exports:{}};return e[a](r,r.exports,n),r.exports}n.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(i,{a:i}),i},n.d=function(e,i){for(var a in i)n.o(i,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:i[a]})},n.o=function(e,i){return Object.prototype.hasOwnProperty.call(e,i)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("container_workspace")?console.warn('[tui bundle] The bundle "container_workspace" is already loaded, skipping initialisation.'):(tui._bundle.register("container_workspace"),tui._bundle.addModulesFromContext("container_workspace",n("hgwN")),tui._bundle.addModulesFromContext("container_workspace/components",n("Hbkp")),tui._bundle.addModulesFromContext("container_workspace/pages",n("HupZ")))}()}();