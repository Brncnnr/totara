/*! For license information please see tui_bundle.legacy.js.LICENSE.txt */
!function(){var t={"+Rh4":function(t,e,n){var a={"./ChangeStatus":"tvyc","./ChangeStatus.vue":"tvyc","./ChangeStatusForm":"Odvn","./ChangeStatusForm.vue":"Odvn","./ChangeStatusFormPreview":"6w5x","./ChangeStatusFormPreview.vue":"6w5x","./performelement_linked_review/AdminEdit":"H0+m","./performelement_linked_review/AdminEdit.vue":"H0+m","./performelement_linked_review/AdminView":"SknA","./performelement_linked_review/AdminView.vue":"SknA","./performelement_linked_review/ParticipantContent":"ENwL","./performelement_linked_review/ParticipantContent.vue":"ENwL","./performelement_linked_review/ParticipantContentPicker":"g8mu","./performelement_linked_review/ParticipantContentPicker.vue":"g8mu"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="+Rh4"},"4Bqd":function(t,e,n){var a={"./constants":"XkGL","./constants.js":"XkGL"};function r(t){var e=i(t);return n(e)}function i(t){if(!n.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}r.keys=function(){return Object.keys(a)},r.resolve=i,t.exports=r,r.id="4Bqd"},tvyc:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return s}});var a=tui.require("tui/components/form/HelpIcon"),r={components:{HelpIcon:n.n(a)()},props:{fromPrint:Boolean,status:Object,required:Boolean}},i=function(t){t.options.__langStrings={core:["required"],hierarchy_goal:["goal_status","goal_change_status_help"]}},o=(0,n("wWJ2").Z)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tui-goalLinkedReviewChangeStatus",class:{"tui-goalLinkedReviewChangeStatus--print":t.fromPrint}},[n("h3",{staticClass:"tui-goalLinkedReviewChangeStatus__title"},[n("span",{staticClass:"tui-goalLinkedReviewChangeStatus__title-text",attrs:{id:t.$id("status_title")}},[t._v("\n      "+t._s(t.$str("goal_status","hierarchy_goal"))+"\n    ")]),t._v(" "),t.required?n("span",{staticClass:"tui-goalLinkedReviewChangeStatus__title-required"},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("*")]),t._v(" "),n("span",{staticClass:"sr-only"},[t._v(t._s(t.$str("required","core")))])]):t._e(),t._v(" "),t.fromPrint?t._e():n("HelpIcon",{staticClass:"tui-goalLinkedReviewChangeStatus__title-help",attrs:{"desc-id":t.$id("change_status-help"),helpmsg:t.$str("goal_change_status_help","hierarchy_goal")}})],1),t._v(" "),t.status?n("div",{staticClass:"tui-goalLinkedReviewChangeStatus__response"},[t._t("display")],2):n("div",{staticClass:"tui-goalLinkedReviewChangeStatus__form"},[t._t("form",null,{titleId:t.$id("status_title")})],2)])}),[],!1,null,null,null);i(o),o.options.__hasBlocks={script:!0,template:!0};var s=o.exports},Odvn:function(t,e,n){"use strict";function a(t,e,n,a,r,i,o){try{var s=t[i](o),l=s.value}catch(t){return void n(t)}s.done?e(l):Promise.resolve(l).then(a,r)}n.r(e),n.d(e,{default:function(){return O}});var r=n("KCiO"),i=n.n(r),o=tui.require("tui/components/buttons/Button"),s=n.n(o),l=n("RO+7"),u=n.n(l),c=tui.require("tui/components/modal/ConfirmationModal"),_=n.n(c),d=n("p202"),p=n("z1IF"),h=n.n(p),m=n("5Nvt"),g=n.n(m),f=tui.require("tui/components/form/Radio"),v=n.n(f),y=tui.require("tui/notifications"),w=n("XkGL"),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"hierarchy_goal_perform_linked_goals_change_status"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"hierarchy_goal_perform_linked_goals_change_status_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hierarchy_goal_perform_linked_goals_change_status"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"perform_status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status_changer_user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"already_exists"},arguments:[],directives:[]}]}}]}}]},S={components:{Button:s(),ChangeStatus:u(),ConfirmationModal:_(),FormRadioGroup:d.FormRadioGroup,FormRow:d.FormRow,FormSelect:d.FormSelect,Grid:h(),GridItem:g(),Radio:v(),Uniform:d.Uniform},props:{content:{type:Object,required:!0},elementData:Object,fromPrint:Boolean,participantInstanceId:[String,Number],required:Boolean,sectionElementId:[String,Number],subjectUser:{type:Object,required:!0}},data:function(){return{contentTypeSettings:this.elementData.content_type_settings,data:this.content,initialValues:{status:0},isSaving:!1,modalOpen:!1,selectedGoalStatusId:0}},computed:{statusOptions:function(){var t={id:0,label:this.$str("goal_status_select","hierarchy_goal")};if(!this.data.scale_values)return[t];var e=this.data.scale_values;return e=e.map((function(t){return{id:t.id,label:t.name}})),this.fromPrint||e.unshift(t),e},userRelationship:function(){return this.contentTypeSettings.status_change_relationship_name},isPersonalGoal:function(){return this.elementData.content_type===w.PERSONAL_GOAL},isStatusChangePossible:function(){return this.contentTypeSettings.enable_status_change&&this.goalContentExists},goalContentExists:function(){return!!this.content&&(this.isPersonalGoal?!!this.content.goal:this.content.goal&&this.content.status)}},methods:{confirmGoalSelection:function(t){this.selectedGoalStatusId=t.status,0!==this.selectedGoalStatusId&&(this.modalOpen=!0)},saveGoal:function(){var t,e=this;return(t=i().mark((function t(){var n,a;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isSaving=!0,t.prev=1,t.next=4,e.$apollo.mutate({mutation:k,variables:{input:{participant_instance_id:e.participantInstanceId,goal_assignment_id:e.data.id,goal_type:e.data.goal.goal_scope,scale_value_id:e.selectedGoalStatusId,section_element_id:e.sectionElementId}}});case 4:n=t.sent,(a=n.data.hierarchy_goal_perform_linked_goals_change_status).already_exists?e.$emit("show-banner",e.$str("goal_exists_message","hierarchy_goal")):(e.data=Object.assign({},e.data,{status_change:a.perform_status}),(0,y.notify)({message:e.$str("goal_status_updated","hierarchy_goal"),type:"success"})),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),(0,y.notify)({message:e.$str("goal_status_updated_error","hierarchy_goal"),type:"error"});case 12:e.isSaving=!1,e.cancelGoal();case 14:case"end":return t.stop()}}),t,null,[[1,9]])})),function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function s(t){a(o,r,i,s,l,"next",t)}function l(t){a(o,r,i,s,l,"throw",t)}s(void 0)}))})()},cancelGoal:function(){this.selectedGoalStatusId=0,this.modalOpen=!1},selectedScaleValueName:function(){var t=this;if(0!==this.selectedGoalStatusId)return this.data.scale_values.find((function(e){return e.id===t.selectedGoalStatusId})).name}}},b=S,C=function(t){t.options.__langStrings={hierarchy_goal:["a11y_goal_status_updated_date","goal_status_updated_error","goal_confirmation_body_1","goal_confirmation_body_2","goal_exists_message","goal_updated_by","goal_status_select","goal_status_response_subject","goal_status_answered_by_other","goal_status_updated","goal_scale_unavailable","updated_goal_status","submit_status","submit_goal_title"]}},x=(0,n("wWJ2").Z)(b,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isStatusChangePossible?n("div",{staticClass:"tui-linkedReviewChangeStatus"},[n("ChangeStatus",{attrs:{"from-print":t.fromPrint,status:t.data.status_change,required:t.required},scopedSlots:t._u([{key:"display",fn:function(){return[n("Grid",{staticClass:"tui-linkedReviewChangeStatus__summary",attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:4}},[[n("span",[t._v("\n              "+t._s(t.$str("goal_updated_by","hierarchy_goal",{user:t.data.status_change.status_changer_user.fullname,relationship:t.userRelationship}))+"\n            ")])]],2),t._v(" "),n("GridItem",{attrs:{units:2}},[n("span",{staticClass:"tui-linkedReviewChangeStatus__summary-dateAccessibleTitle"},[t._v("\n            "+t._s(t.$str("a11y_goal_status_updated_date","hierarchy_goal"))+"\n          ")]),t._v(" "),n("span",[t._v(t._s(t.data.status_change.created_at))])]),t._v(" "),n("GridItem",{attrs:{units:6}},[t.data.status_change?[n("span",{staticClass:"tui-linkedReviewChangeStatus__summary-status"},[t._v("\n              "+t._s(t.$str("updated_goal_status","hierarchy_goal",t.data.status_change.scale_value.name))+"\n            ")])]:t._e()],2)],1)]},proxy:!0},{key:"form",fn:function(e){var a=e.titleId;return[t.content.can_change_status&&t.content.scale_values?n("Uniform",{staticClass:"tui-linkedReviewChangeStatus__form",attrs:{"input-width":"full",vertical:!0,"initial-values":t.initialValues},on:{submit:t.confirmGoalSelection}},[t.fromPrint?n("FormRow",{attrs:{label:t.$str("goal_status_response_subject","hierarchy_goal",t.userRelationship)}},[n("FormRadioGroup",{attrs:{name:"status"}},t._l(t.statusOptions,(function(e){return n("Radio",{key:e.id,attrs:{value:e.id}},[t._v("\n              "+t._s(e.label)+"\n            ")])})),1)],1):n("FormRow",{attrs:{label:t.$str("goal_status_response_subject","hierarchy_goal",t.userRelationship)}},[n("div",{staticClass:"tui-linkedReviewChangeStatus__statusWrapper"},[n("FormSelect",{attrs:{"aria-labelledby":a,name:"status",options:t.statusOptions,"char-length":"15"}}),t._v(" "),n("div",[n("Button",{attrs:{styleclass:{primary:!0,small:!0},text:t.$str("submit_status","hierarchy_goal"),type:"submit"}})],1)],1)])],1):t.isPersonalGoal&&!t.content.scale_values?n("div",{staticClass:"tui-linkedReviewChangeStatus__unavailableMessage"},[t._v("\n        "+t._s(t.$str("goal_scale_unavailable","hierarchy_goal"))+"\n      ")]):t._e(),t._v(" "),!t.content.can_change_status&&t.content.scale_values?n("div",{staticClass:"tui-linkedReviewChangeStatus__answeredBy"},[t._v("\n        "+t._s(t.$str("goal_status_answered_by_other","hierarchy_goal",t.userRelationship))+"\n      ")]):t._e()]}}],null,!1,3646000569)}),t._v(" "),n("ConfirmationModal",{attrs:{open:t.modalOpen,title:t.$str("submit_goal_title","hierarchy_goal"),"confirm-button-text":t.$str("submit_status","hierarchy_goal"),loading:t.isSaving},on:{confirm:t.saveGoal,cancel:t.cancelGoal}},[n("p",{domProps:{innerHTML:t._s(t.$str("goal_confirmation_body_1","hierarchy_goal",{goal_name:t.content.goal.display_name,scale_value:t.selectedScaleValueName(),user:t.subjectUser.fullname}))}}),t._v(" "),n("div",[t._v(t._s(t.$str("goal_confirmation_body_2","hierarchy_goal")))])])],1):t._e()}),[],!1,null,null,null);C(x),x.options.__hasBlocks={script:!0,template:!0};var O=x.exports},"6w5x":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var a=tui.require("tui/components/form/Form"),r=n.n(a),i=tui.require("tui/components/form/Select"),o=n.n(i),s=n("RO+7"),l=n.n(s),u={components:{Form:r(),FormSelect:o(),ChangeStatus:l()},props:{settings:Object},computed:{scaleValueOptions:function(){return[{id:null,label:this.$str("goal_status_select","hierarchy_goal")}]}}},c=function(t){t.options.__langStrings={hierarchy_goal:["goal_status_select"]}},_=(0,n("wWJ2").Z)(u,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.settings.enable_status_change,expression:"settings.enable_status_change"}],staticClass:"tui-linkedReviewChangeStatusFormPreview"},[t.settings.enable_status_change?n("ChangeStatus",{attrs:{required:!0},scopedSlots:t._u([{key:"form",fn:function(e){var a=e.titleId;return[n("div",{staticClass:"tui-linkedReviewChangeStatusFormPreview__form"},[n("Form",{attrs:{"input-width":"full",vertical:!0}},[n("FormSelect",{attrs:{"aria-labelledby":a,options:t.scaleValueOptions,"char-length":"15",value:null}})],1)],1)]}}],null,!1,1569446725)}):t._e()],1)}),[],!1,null,null,null);c(_),_.options.__hasBlocks={script:!0,template:!0};var d=_.exports},"H0+m":function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var a=tui.require("tui/components/reform/Field"),r=n.n(a),i=n("p202"),o=tui.require("tui/components/form/FormRowStack"),s=n.n(o),l=tui.require("performelement_linked_review/components/SelectParticipant"),u=n.n(l),c={components:{Field:r(),FormRowStack:s(),FormCheckbox:i.FormCheckbox,FormRow:i.FormRow,SelectParticipant:u()},inheritAttrs:!1,props:{relationships:Array}},_=function(t){t.options.__langStrings={hierarchy_goal:["enable_goal_status_change","enable_goal_status_change_participant","goal_change_status_help"]}},d=(0,n("wWJ2").Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("FormRowStack",{attrs:{spacing:"large"}},[n("FormRow",[n("FormCheckbox",{attrs:{name:"enable_status_change"}},[t._v("\n      "+t._s(t.$str("enable_goal_status_change","hierarchy_goal"))+"\n    ")])],1),t._v(" "),n("Field",{attrs:{name:"enable_status_change"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.value?n("SelectParticipant",{attrs:{"field-name":"status_change_relationship","help-msg":t.$str("goal_change_status_help","hierarchy_goal"),label:t.$str("enable_goal_status_change_participant","hierarchy_goal"),relationships:t.relationships}}):t._e()]}}])})],1)}),[],!1,null,null,null);_(d),d.options.__hasBlocks={script:!0,template:!0};var p=d.exports},SknA:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return u}});var a=tui.require("hierarchy_goal/components/performelement_linked_review/ParticipantContent"),r=n.n(a),i=n("XkGL"),o={components:{ParticipantContent:r()},props:{data:{type:Object,required:!0}},data:function(){return{dateToday:"01/01/1970"}},apollo:{dateToday:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_webapi_status"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_webapi_status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timestamp"},arguments:[],directives:[]},{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"timestamp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]}]}}]}}]},update:function(t){return t.totara_webapi_status.date}}},computed:{goalScope:function(){switch(this.data.content_type){case i.PERSONAL_GOAL:return i.GOAL_SCOPE_PERSONAL;case i.COMPANY_GOAL:return i.GOAL_SCOPE_COMPANY;default:return null}}},methods:{getPreviewData:function(){return{goal:{display_name:this.$str("example_goal_title","hierarchy_goal"),description:this.$str("example_goal_description","hierarchy_goal"),goal_scope:this.goalScope},target_date:this.dateToday,status:this.$str("example_goal_status","hierarchy_goal"),completed:!1}}}},s=function(t){t.options.__langStrings={hierarchy_goal:["example_goal_description","example_goal_status","example_goal_title"]}},l=(0,n("wWJ2").Z)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.$apollo.loading?t._e():n("ParticipantContent",{attrs:{content:t.getPreviewData(),preview:!0}})}),[],!1,null,null,null);s(l),l.options.__hasBlocks={script:!0,template:!0};var u=l.exports},ENwL:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _}});var a=n("z1IF"),r=n.n(a),i=n("5Nvt"),o=n.n(i),s=n("XkGL"),l={components:{Grid:r(),GridItem:o()},props:{content:{type:Object},createdAt:String,fromPrint:Boolean,isExternalParticipant:Boolean,preview:Boolean},computed:{contentTypeDisplayName:function(){switch(this.content.goal.goal_scope){case s.GOAL_SCOPE_PERSONAL:return this.$str("personalgoal","totara_hierarchy");case s.GOAL_SCOPE_COMPANY:return this.$str("companygoal","totara_hierarchy");default:return""}},goalUrl:function(){return this.content?this.content.goal.goal_scope===s.GOAL_SCOPE_COMPANY?this.$url("/totara/hierarchy/item/view.php",{id:this.content.goal.id,prefix:"goal"}):this.$url("/totara/hierarchy/prefix/goal/item/view.php",{id:this.content.goal.id}):""},goalContentExists:function(){return!(!this.content||!this.content.goal)&&("COMPANY"===this.content.goal.goal_scope?this.content.goal&&this.content.status:!!this.content.goal)},goalBarVisible:function(){return this.content.status||this.content.target_date}}},u=function(t){t.options.__langStrings={hierarchy_goal:["goal_status","target_date","perform_review_goal_missing","selected_goal"],totara_hierarchy:["companygoal","personalgoal"]}},c=(0,n("wWJ2").Z)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.goalContentExists?n("div",{staticClass:"tui-linkedReviewViewGoal",class:{"tui-linkedReviewViewGoal--print":t.fromPrint}},[t.contentTypeDisplayName?n("div",{staticClass:"tui-linkedReviewViewGoal__contentType"},[t._v("\n    "+t._s(t.contentTypeDisplayName)+"\n  ")]):t._e(),t._v(" "),n("h4",{staticClass:"tui-linkedReviewViewGoal__title"},[t.fromPrint||t.preview||t.isExternalParticipant||!t.content.can_view_goal_details?[t._v("\n      "+t._s(t.content.goal.display_name)+"\n    ")]:n("a",{attrs:{"aria-label":t.$str("selected_goal","hierarchy_goal",t.content.goal.display_name),href:t.goalUrl}},[t._v("\n      "+t._s(t.content.goal.display_name)+"\n    ")])],2),t._v(" "),n("div",{staticClass:"tui-linkedReviewViewGoal__description",domProps:{innerHTML:t._s(t.content.goal.description)}}),t._v(" "),n("div",{staticClass:"tui-linkedReviewViewGoal__overview"},[t.preview?t._e():n("div",{staticClass:"tui-linkedReviewViewGoal__timestamp"},[t._v("\n      "+t._s(t.createdAt)+"\n    ")]),t._v(" "),t.goalBarVisible?n("div",{staticClass:"tui-linkedReviewViewGoal__bar"},[n("Grid",{attrs:{"stack-at":600}},[n("GridItem",{attrs:{units:3}},[t.content.status?n("div",{staticClass:"tui-linkedReviewViewGoal__bar-status"},[n("span",{staticClass:"tui-linkedReviewViewGoal__bar-statusLabel"},[t._v("\n              "+t._s(t.$str("goal_status","hierarchy_goal"))+"\n            ")]),t._v(" "),n("span",{staticClass:"tui-linkedReviewViewGoal__bar-statusValue"},[t._v("\n              "+t._s(t.content.status.name)+"\n            ")])]):t._e()]),t._v(" "),n("GridItem",{attrs:{units:5}},[t.content.target_date?n("div",{staticClass:"tui-linkedReviewViewGoal__bar-wrap"},[n("span",{staticClass:"tui-linkedReviewViewGoal__bar-label"},[t._v("\n              "+t._s(t.$str("target_date","hierarchy_goal"))+"\n            ")]),t._v(" "),n("span",{staticClass:"tui-linkedReviewViewGoal__bar-value"},[t._v("\n              "+t._s(t.content.target_date)+"\n            ")])]):t._e()])],1)],1):t._e()])]):n("div",{staticClass:"tui-linkedReviewViewGoal__missing"},[t._v("\n  "+t._s(t.$str("perform_review_goal_missing","hierarchy_goal"))+"\n")])}),[],!1,null,null,null);u(c),c.options.__hasBlocks={script:!0,template:!0};var _=c.exports},g8mu:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var a=tui.require("totara_hierarchy/components/adder/AssignedCompanyGoalAdder"),r=n.n(a),i=tui.require("totara_hierarchy/components/adder/PersonalGoalAdder"),o=n.n(i),s=tui.require("performelement_linked_review/components/SelectContent"),l=n.n(s),u=n("XkGL"),c={components:{AssignedCompanyGoalAdder:r(),PersonalGoalAdder:o(),SelectContent:l()},props:{canShowAdder:{type:Boolean,required:!0},contentType:String,coreRelationship:Array,isDraft:Boolean,participantInstanceId:{type:[String,Number],required:!0},previewComponent:[Function,Object],required:Boolean,sectionElementId:String,subjectUser:Object,userId:Number},methods:{getAddBtnText:function(){return this.contentType===u.COMPANY_GOAL?this.$str("add_company_goals","hierarchy_goal"):this.$str("add_personal_goals","hierarchy_goal")},getCantAddText:function(){return this.contentType===u.COMPANY_GOAL?this.$str("awaiting_company_selection_text","hierarchy_goal",this.coreRelationship[0].name):this.$str("awaiting_personal_selection_text","hierarchy_goal",this.coreRelationship[0].name)},getRemoveText:function(){return this.contentType===u.COMPANY_GOAL?this.$str("remove_company_goal","hierarchy_goal"):this.$str("remove_personal_goal","hierarchy_goal")},getAdder:function(){return this.contentType===u.COMPANY_GOAL?r():o()},getItemData:function(t){return this.contentType===u.COMPANY_GOAL?{goal:{display_name:t.goal.full_name,description:t.goal.description,id:t.goal.id},target_date:t.goal.target_date,status:t.scale_value,content_type:this.contentType}:{goal:{display_name:t.name,description:t.description,id:t.id},target_date:t.target_date,status:t.scale_value,content_type:this.contentType}}}},_=function(t){t.options.__langStrings={hierarchy_goal:["add_company_goals","add_personal_goals","awaiting_company_selection_text","awaiting_personal_selection_text","remove_company_goal","remove_personal_goal"]}},d=(0,n("wWJ2").Z)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("SelectContent",{attrs:{adder:t.getAdder(),"add-btn-text":t.getAddBtnText(),"can-show-adder":t.canShowAdder,"cant-add-text":t.getCantAddText(),"is-draft":t.isDraft,"participant-instance-id":t.participantInstanceId,"remove-text":t.getRemoveText(),required:t.required,"section-element-id":t.sectionElementId,"user-id":t.userId},on:{"unsaved-plugin-change":function(e){return t.$emit("unsaved-plugin-change",e)},update:function(e){return t.$emit("update",e)}},scopedSlots:t._u([{key:"content-preview",fn:function(e){var a=e.content;return[n(t.previewComponent,{tag:"component",attrs:{content:t.getItemData(a),"subject-user":t.subjectUser}})]}}])})}),[],!1,null,null,null);_(d),d.options.__hasBlocks={script:!0,template:!0};var p=d.exports},XkGL:function(t,e,n){"use strict";n.r(e),n.d(e,{COMPANY_GOAL:function(){return a},GOAL_SCOPE_COMPANY:function(){return i},GOAL_SCOPE_PERSONAL:function(){return o},PERSONAL_GOAL:function(){return r}});var a="company_goal",r="personal_goal",i="COMPANY",o="PERSONAL"},wWJ2:function(t,e,n){"use strict";function a(t,e,n,a,r,i,o,s){var l,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),a&&(u.functional=!0),i&&(u._scopeId="data-v-"+i),o?(l=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},u._ssrRegister=l):r&&(l=s?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(t,e){return l.call(e),c(t,e)}}else{var _=u.beforeCreate;u.beforeCreate=_?[].concat(_,l):[l]}return{exports:t,options:u}}n.d(e,{Z:function(){return a}})},"RO+7":function(t){"use strict";t.exports=tui.require("hierarchy_goal/components/ChangeStatus")},"5Nvt":function(t){"use strict";t.exports=tui.require("tui/components/grid/GridItem")},z1IF:function(t){"use strict";t.exports=tui.require("tui/components/grid/Grid")},p202:function(t){"use strict";t.exports=tui.require("tui/components/uniform")},gnxZ:function(t,e,n){var a=n("uy/F").default;function r(){"use strict";t.exports=r=function(){return e},t.exports.__esModule=!0,t.exports.default=t.exports;var e={},n=Object.prototype,i=n.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",u=o.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function _(t,e,n,a){var r=e&&e.prototype instanceof h?e:h,i=Object.create(r.prototype),o=new O(a||[]);return i._invoke=function(t,e,n){var a="suspendedStart";return function(r,i){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw i;return{value:void 0,done:!0}}for(n.method=r,n.arg=i;;){var o=n.delegate;if(o){var s=b(o,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var l=d(t,e,n);if("normal"===l.type){if(a=n.done?"completed":"suspendedYield",l.arg===p)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(a="completed",n.method="throw",n.arg=l.arg)}}}(t,n,o),i}function d(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=_;var p={};function h(){}function m(){}function g(){}var f={};c(f,s,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(G([])));y&&y!==n&&i.call(y,s)&&(f=y);var w=g.prototype=h.prototype=Object.create(f);function k(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function S(t,e){function n(r,o,s,l){var u=d(t[r],t,o);if("throw"!==u.type){var c=u.arg,_=c.value;return _&&"object"==a(_)&&i.call(_,"__await")?e.resolve(_.__await).then((function(t){n("next",t,s,l)}),(function(t){n("throw",t,s,l)})):e.resolve(_).then((function(t){c.value=t,s(c)}),(function(t){return n("throw",t,s,l)}))}l(u.arg)}var r;this._invoke=function(t,a){function i(){return new e((function(e,r){n(t,a,e,r)}))}return r=r?r.then(i,i):i()}}function b(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,b(t,e),"throw"===e.method))return p;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=d(n,t.iterator,e.arg);if("throw"===a.type)return e.method="throw",e.arg=a.arg,e.delegate=null,p;var r=a.arg;return r?r.done?(e[t.resultName]=r.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,p):r:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function C(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function x(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(C,this),this.reset(!0)}function G(t){if(t){var e=t[s];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(i.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:R}}function R(){return{value:void 0,done:!0}}return m.prototype=g,c(w,"constructor",g),c(g,"constructor",m),m.displayName=c(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===m||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,c(t,u,"GeneratorFunction")),t.prototype=Object.create(w),t},e.awrap=function(t){return{__await:t}},k(S.prototype),c(S.prototype,l,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,a,r,i){void 0===i&&(i=Promise);var o=new S(_(t,n,a,r),i);return e.isGeneratorFunction(n)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},k(w),c(w,u,"Generator"),c(w,s,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var a=e.pop();if(a in t)return n.value=a,n.done=!1,n}return n.done=!0,n}},e.values=G,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!t)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(n,a){return o.type="throw",o.arg=t,e.next=n,a&&(e.method="next",e.arg=void 0),!!a}for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a],o=r.completion;if("root"===r.tryLoc)return n("end");if(r.tryLoc<=this.prev){var s=i.call(r,"catchLoc"),l=i.call(r,"finallyLoc");if(s&&l){if(this.prev<r.catchLoc)return n(r.catchLoc,!0);if(this.prev<r.finallyLoc)return n(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return n(r.catchLoc,!0)}else{if(!l)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return n(r.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&i.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var r=a;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,p):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),p},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var a=n.completion;if("throw"===a.type){var r=a.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:G(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports},"uy/F":function(t){function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},KCiO:function(t,e,n){var a=n("gnxZ")();t.exports=a;try{regeneratorRuntime=a}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=a:Function("r","regeneratorRuntime = r")(a)}}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("hierarchy_goal")?console.warn('[tui bundle] The bundle "hierarchy_goal" is already loaded, skipping initialisation.'):(tui._bundle.register("hierarchy_goal"),tui._bundle.addModulesFromContext("hierarchy_goal",n("4Bqd")),tui._bundle.addModulesFromContext("hierarchy_goal/components",n("+Rh4")))}()}();