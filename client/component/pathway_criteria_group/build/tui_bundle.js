(()=>{var e={kKKy:(e,t,i)=>{var n={"./achievements/AchievementDisplay":"Mh5e","./achievements/AchievementDisplay.vue":"Mh5e"};function a(e){var t=r(e);return i(t)}function r(e){if(!i.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=r,e.exports=a,a.id="kKKy"},Mh5e:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});const n=tui.require("totara_competency/components/achievements/AchievementLayout");var a=i.n(n);const r=tui.require("tui/components/decor/AndBox");var o=i.n(r);var s=function(e,t,i,n,a,r,o,s){var d,c="function"==typeof e?e.options:e;if(t&&(c.render=t,c.staticRenderFns=[],c._compiled=!0),d)if(c.functional){c._injectStyles=d;var u=c.render;c.render=function(e,t){return d.call(t),u(e,t)}}else{var p=c.beforeCreate;c.beforeCreate=p?[].concat(p,d):[d]}return{exports:e,options:c}}({components:{AchievementLayout:a(),AndBox:o()},inheritAttrs:!1,props:{assignmentId:{required:!0,type:Number},dateAchieved:{type:String},displayed:Boolean,instanceId:{required:!0,type:Number},userId:{required:!0,type:Number}},data:function(){return{achievements:[],itemsLoaded:0}},apollo:{achievements:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pathway_criteria_group_achievements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instance_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pathway_criteria_group_achievements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"instance_id"},value:{kind:"Variable",name:{kind:"Name",value:"instance_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]},context:{batch:!0},variables(){return{instance_id:this.instanceId}},update({pathway_criteria_group_achievements:e}){let t=[];return e.forEach((e=>{let i=`criteria_${e.type}/components/achievements/AchievementDisplay`;t.push({component:tui.asyncComponent(i),props:{assignmentId:this.assignmentId,dateAchieved:this.dateAchieved,instanceId:parseInt(e.instance_id),userId:this.userId}})})),0===t.length&&this.$emit("loaded"),t}}},computed:{numberOfItems(){return this.achievements.length}},watch:{itemsLoaded:function(e){e===this.numberOfItems&&this.$emit("loaded")}},methods:{isLastItem:(e,t)=>e===t.length-1,itemLoaded(){this.itemsLoaded+=1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"tui-pathwayCriteriaGroupAchievement"},[e._l(e.achievements,(function(t,n){return[i("div",{key:n,staticClass:"tui-pathwayCriteriaGroupAchievement__item"},[i(t.component,e._b({tag:"component",attrs:{displayed:e.displayed},on:{loaded:e.itemLoaded}},"component",t.props,!1))],1),e._v(" "),e.isLastItem(n,e.achievements)?e._e():i("div",{key:n+"andseparator",staticClass:"tui-pathwayCriteriaGroupAchievement__separator"},[i("AchievementLayout",{attrs:{"no-borders":!0},scopedSlots:e._u([{key:"left",fn:function(){return[i("AndBox")]},proxy:!0}],null,!0)})],1)]}))],2)}));s.options.__hasBlocks={script:!0,template:!0};const d=s.exports}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,i),r.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("pathway_criteria_group")?console.warn('[tui bundle] The bundle "pathway_criteria_group" is already loaded, skipping initialisation.'):(tui._bundle.register("pathway_criteria_group"),tui._bundle.addModulesFromContext("pathway_criteria_group/components",i("kKKy")))}()})();