(()=>{var e={elDz:(e,n,a)=>{var t={"./achievements/AchievementDisplay":"7qdK","./achievements/AchievementDisplay.vue":"7qdK"};function i(e){var n=r(e);return a(n)}function r(e){if(!a.o(t,e)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t[e]}i.keys=function(){return Object.keys(t)},i.resolve=r,e.exports=i,i.id="elDz"},"7qdK":(e,n,a)=>{"use strict";a.r(n),a.d(n,{default:()=>v});const t=tui.require("totara_competency/components/achievements/AchievementLayout");var i=a.n(t);const r=tui.require("tui/components/links/ActionLink");var l=a.n(r);const s=tui.require("tui/components/datatable/Cell");var o=a.n(s);const d=tui.require("tui/components/datatable/ExpandCell");var u=a.n(d);const _=tui.require("tui/components/datatable/Table");var c=a.n(_);const p=function(e){e.options.__langStrings={pathway_learning_plan:["achievement_via_learning_plan","name","no_available_learning_plans","no_rating_set","no_permission_view_plan","set_on","view_plan","work_towards_level"]}};var m=function(e,n,a,t,i,r,l,s){var o,d="function"==typeof e?e.options:e;if(n&&(d.render=n,d.staticRenderFns=[],d._compiled=!0),o)if(d.functional){d._injectStyles=o;var u=d.render;d.render=function(e,n){return o.call(n),u(e,n)}}else{var _=d.beforeCreate;d.beforeCreate=_?[].concat(_,o):[o]}return{exports:e,options:d}}({components:{AchievementLayout:i(),ActionLink:l(),Cell:o(),ExpandCell:u(),Table:c()},inheritAttrs:!1,props:{assignmentId:{required:!0,type:Number},userId:{required:!0,type:Number}},data:function(){return{plans:[]}},apollo:{plans:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"pathway_learning_plan_competency_plans"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"pathway_learning_plan_competency_plans"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"learning_plans"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_view"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"date_assigned"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]}]}}]}}]},context:{batch:!0},variables(){return{assignment_id:this.assignmentId,user_id:this.userId}},update({pathway_learning_plan_competency_plans:e}){return this.$emit("loaded"),e}}},computed:{hasPlans(){return this.plans.learning_plans},hasValue(){return this.hasPlans&&null!=this.plans.scale_value}},methods:{getPlanUrl(e){return this.$url("/totara/plan/component.php",{c:"competency",id:e})}}},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("div",{staticClass:"tui-pathwayLearningPlanAchievement"},[e.hasPlans?a("div",{staticClass:"tui-pathwayLearningPlanAchievement__content"},[a("AchievementLayout",{scopedSlots:e._u([{key:"left",fn:function(){return[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__overview"},[a("h5",{staticClass:"tui-pathwayLearningPlanAchievement__title"},[e._v("\n            "+e._s(e.$str("achievement_via_learning_plan","pathway_learning_plan"))+"\n          ")]),e._v(" "),e.hasValue?[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__value"},[a("span",{staticClass:"tui-pathwayLearningPlanAchievement__value-title"},[e._v("\n                "+e._s(e.plans.scale_value.name)+"\n              ")]),e._v("\n              "+e._s(e.$str("set_on","pathway_learning_plan",e.plans.date))+"\n            ")])]:[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__noValue"},[e._v("\n              "+e._s(e.$str("no_rating_set","pathway_learning_plan"))+"\n            ")])]],2)]},proxy:!0},{key:"right",fn:function(){return[a("Table",{staticClass:"tui-pathwayLearningPlanAchievement__list",attrs:{data:e.plans.learning_plans,"expandable-rows":!0},scopedSlots:e._u([{key:"row",fn:function(n){var t=n.row,i=n.expand,r=n.expandState;return[t.can_view?[a("ExpandCell",{attrs:{"aria-label":t.name,"expand-state":r},on:{click:function(e){return i()}}}),e._v(" "),a("Cell",{attrs:{size:"11","column-header":e.$str("name","pathway_learning_plan")}},[e._v("\n                "+e._s(t.name)+"\n              ")])]:[a("ExpandCell",{attrs:{header:!0}}),e._v(" "),a("Cell",{attrs:{size:"11"}},[e._v("\n                "+e._s(e.$str("no_permission_view_plan","pathway_learning_plan"))+"\n              ")])]]}},{key:"expand-content",fn:function(n){var t=n.row;return[a("div",{staticClass:"tui-pathwayLearningPlanAchievement__summary"},[a("h6",{staticClass:"tui-pathwayLearningPlanAchievement__summary-header"},[e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),t.description?a("div",{staticClass:"tui-pathwayLearningPlanAchievement__summary-body",domProps:{innerHTML:e._s(t.description)}}):e._e(),e._v(" "),a("ActionLink",{class:"tui-pathwayLearningPlanAchievement__summary-button",attrs:{href:e.getPlanUrl(t.id),text:e.$str("view_plan","pathway_learning_plan"),styleclass:{primary:!0,small:!0}}})],1)]}}])})]},proxy:!0}])})],1):a("div",{staticClass:"tui-pathwayLearningPlanAchievement__empty"},[e._v("\n    "+e._s(e.$str("no_available_learning_plans","pathway_learning_plan"))+"\n  ")])])}));p(m),m.options.__hasBlocks={script:!0,template:!0};const v=m.exports}},n={};function a(t){var i=n[t];if(void 0!==i)return i.exports;var r=n[t]={exports:{}};return e[t](r,r.exports,a),r.exports}a.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return a.d(n,{a:n}),n},a.d=(e,n)=>{for(var t in n)a.o(n,t)&&!a.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},a.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("pathway_learning_plan")?console.warn('[tui bundle] The bundle "pathway_learning_plan" is already loaded, skipping initialisation.'):(tui._bundle.register("pathway_learning_plan"),tui._bundle.addModulesFromContext("pathway_learning_plan/components",a("elDz")))}()})();