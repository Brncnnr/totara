(()=>{var t={Bjtv:(t,e,i)=>{var n={"./MultiChoiceMultiAdminEdit":"enNz","./MultiChoiceMultiAdminEdit.vue":"enNz","./MultiChoiceMultiAdminSummary":"j5tZ","./MultiChoiceMultiAdminSummary.vue":"j5tZ","./MultiChoiceMultiAdminView":"1jkl","./MultiChoiceMultiAdminView.vue":"1jkl","./MultiChoiceMultiParticipantForm":"HQxA","./MultiChoiceMultiParticipantForm.vue":"HQxA"};function r(t){var e=o(t);return i(e)}function o(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=o,t.exports=r,r.id="Bjtv"},enNz:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>b});const n=tui.require("tui/components/icons/Add");var r=i.n(n);const o=tui.require("tui/components/buttons/ButtonIcon");var s=i.n(o);const l=tui.require("tui/components/form/InputSet");var a=i.n(l);const u=tui.require("tui/components/form/InputSizedText");var m=i.n(u);const c=tui.require("mod_perform/components/element/PerformAdminCustomElementEdit");var p=i.n(c);const d=tui.require("tui/components/form/Repeater");var _=i.n(d);const h=tui.require("tui/components/uniform"),f={components:{AddIcon:r(),ButtonIcon:s(),FieldArray:h.FieldArray,FormRow:h.FormRow,FormNumber:h.FormNumber,FormText:h.FormText,Repeater:_(),InputSet:a(),InputSizedText:m(),PerformAdminCustomElementEdit:p()},inheritAttrs:!1,props:{data:Object,identifier:String,isRequired:Boolean,rawData:Object,rawTitle:String,settings:Object},data(){return{initialValues:{identifier:this.identifier,max:this.rawData.max?this.rawData.max:null,min:this.rawData.min?this.rawData.min:null,options:[],rawTitle:this.rawTitle,responseRequired:this.isRequired},numberOfOptions:null,maxOptions:null,minRows:1,minRequired:this.isRequired,ready:!1}},mounted(){this.rawData.options?(this.numberOfOptions=this.rawData.options.length,this.maxOptions=this.rawData.max?this.rawData.max:this.rawData.options.length,this.initialValues.options=this.rawData.options):this.initialValues.options.push(this.createField()),this.ready="true"},methods:{createField:()=>({name:"option_"+Math.floor(Math.random()*Math.floor(1e7)),value:void 0}),updateValidationValues(t){1===t.options.length?this.minRequired=!1:this.minRequired=t.responseRequired,this.numberOfOptions=t.options.length,this.maxOptions=t.max?t.max:t.options.length}}},v=function(t){t.options.__langStrings={core:["add"],performelement_multi_choice_multi:["answer_text","multi_select_options","response_restriction","restriction_minimum_label","restriction_maximum_label","restriction_response_help_text"]}};var x=(0,i("wWJ2").Z)(f,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tui-multiChoiceMultiAdminEdit"},[t.ready?i("PerformAdminCustomElementEdit",{attrs:{"initial-values":t.initialValues,settings:t.settings},on:{cancel:function(e){return t.$emit("display")},change:t.updateValidationValues,update:function(e){return t.$emit("update",e)}}},[i("FormRow",{attrs:{label:t.$str("multi_select_options","performelement_multi_choice_multi"),required:!0},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.labelId;return[i("FieldArray",{attrs:{path:"options"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.items,o=e.push,s=e.remove;return[i("Repeater",{attrs:{rows:r,"min-rows":t.minRows,"delete-icon":!0,"allow-deleting-first-items":!1,"aria-labelledby":n},on:{add:function(t){return o()},remove:function(t,e){return s(e)}},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.index,r=e.lastRow;return[i("div",{staticClass:"tui-multiChoiceMultiAdminEdit__option"},[i("FormText",{attrs:{name:[n,"value"],validations:function(t){return[t.required()]},"aria-label":t.$str("answer_text","performelement_multi_choice_multi",n+1),autofocus:r}})],1)]}},{key:"add",fn:function(){return[i("ButtonIcon",{staticClass:"tui-multiChoiceMultiAdminEdit__addOption",attrs:{"aria-label":t.$str("add","core"),styleclass:{small:!0}},on:{click:function(e){o(t.createField())}}},[i("AddIcon")],1)]},proxy:!0}],null,!0)})]}}],null,!0)})]}}],null,!1,1568224354)}),t._v(" "),i("FormRow",{attrs:{label:t.$str("response_restriction","performelement_multi_choice_multi"),helpmsg:t.$str("restriction_response_help_text","performelement_multi_choice_multi")},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.labelId;return[i("InputSet",{attrs:{"aria-labelledby":n,vertical:!0}},[i("InputSet",{attrs:{"char-length":"full","label-id":null}},[i("FormNumber",{attrs:{name:"min","char-length":"4","aria-label":t.$str("restriction_minimum_label","performelement_multi_choice_multi"),validations:function(e){return t.minRequired?[e.min(1),e.max(t.numberOfOptions),e.max(t.maxOptions),e.required()]:[e.min(1),e.max(t.numberOfOptions),e.max(t.maxOptions)]}}}),t._v(" "),i("InputSizedText",[t._v("\n            "+t._s(t.$str("restriction_minimum_label","performelement_multi_choice_multi"))+"\n          ")])],1),t._v(" "),i("InputSet",{attrs:{"char-length":"full","label-id":null}},[i("FormNumber",{attrs:{name:"max","char-length":"4",validations:function(e){return[e.min(1),e.max(t.numberOfOptions)]},"aria-label":t.$str("restriction_maximum_label","performelement_multi_choice_multi")}}),t._v(" "),i("InputSizedText",[t._v("\n            "+t._s(t.$str("restriction_maximum_label","performelement_multi_choice_multi"))+"\n          ")])],1)],1)]}}],null,!1,1538917037)})],1):t._e()],1)}),[],!1,null,null,null);v(x),x.options.__hasBlocks={script:!0,template:!0};const b=x.exports},j5tZ:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>l});const n=tui.require("mod_perform/components/element/PerformAdminCustomElementSummary"),r={components:{PerformAdminCustomElementSummary:i.n(n)()},inheritAttrs:!1,props:{data:Object,identifier:String,isRequired:Boolean,settings:Object,title:String,type:Object},data:()=>({extraFields:[]}),mounted(){let t=[];this.data.options.forEach((e=>{t.push({value:e.value})})),this.extraFields=[{title:this.$str("multi_select_options","performelement_multi_choice_multi"),options:t}]}},o=function(t){t.options.__langStrings={performelement_multi_choice_multi:["multi_select_options"]}};var s=(0,i("wWJ2").Z)(r,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tui-multiChoiceMultiAdminSummary"},[i("PerformAdminCustomElementSummary",{attrs:{"extra-fields":t.extraFields,identifier:t.identifier,"is-required":t.isRequired,settings:t.settings,title:t.title},on:{display:function(e){return t.$emit("display")}}})],1)}),[],!1,null,null,null);o(s),s.options.__hasBlocks={script:!0,template:!0};const l=s.exports},"1jkl":(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>d});var n=i("hAGe"),r=i.n(n);const o=tui.require("tui/components/form/CheckboxGroup");var s=i.n(o);const l=tui.require("tui/components/form/Form");var a=i.n(l);const u=tui.require("tui/components/form/FormRow");var m=i.n(u);const c={components:{CheckboxGroup:s(),Checkbox:r(),Form:a(),FormRow:m()},inheritAttrs:!1,props:{data:Object}};var p=(0,i("wWJ2").Z)(c,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"tui-multiChoiceMultiAdminView"},[i("Form",{attrs:{"input-width":"full",vertical:!0}},[i("FormRow",[i("CheckboxGroup",t._l(t.data.options,(function(e){return i("Checkbox",{key:e.name,attrs:{name:e.name,value:"item.value"}},[t._v("\n          "+t._s(e.value)+"\n        ")])})),1)],1)],1)],1)}),[],!1,null,null,null);p.options.__hasBlocks={script:!0,template:!0};const d=p.exports},HQxA:(t,e,i)=>{"use strict";i.r(e),i.d(e,{default:()=>v});var n=i("hAGe"),r=i.n(n);const o=tui.require("mod_perform/components/element/ElementParticipantFormContent");var s=i.n(o);const l=tui.require("tui/components/uniform/FormCheckboxGroup");var a=i.n(l);const u=tui.require("tui/components/form/FormRowDetails");var m=i.n(u);const c=tui.require("tui/components/reform/FormScope");var p=i.n(c);const d=tui.require("tui/validation"),_={components:{Checkbox:r(),ElementParticipantFormContent:s(),FormCheckboxGroup:a(),FormRowDetails:m(),FormScope:p()},props:{element:Object,isDraft:Boolean,path:{type:[String,Array],default:""}},computed:{minSelectionRestriction(){const t=this.element.data.min;return t?parseInt(t,10):null},maxSelectionRestriction(){const t=this.element.data.max;return t?parseInt(t,10):null},settingStrings(){if(!this.element)return[];const t=[];return null!==this.minSelectionRestriction&&null!==this.maxSelectionRestriction&&this.minSelectionRestriction===this.maxSelectionRestriction?[this.$str("participant_restriction_min_max","performelement_multi_choice_multi",this.minSelectionRestriction)]:(null!==this.minSelectionRestriction&&t.push(this.$str("participant_restriction_min","performelement_multi_choice_multi",this.minSelectionRestriction)),null!==this.maxSelectionRestriction&&t.push(this.$str("participant_restriction_max","performelement_multi_choice_multi",this.maxSelectionRestriction)),t)},validations(){if(this.isDraft)return[];const t=[this.exactSelectionRestrictionRule,this.minSelectionRestrictionRule,this.maxSelectionRestrictionRule];return this.element&&this.element.is_required?[d.v.required(),...t]:t}},methods:{exactSelectionRestrictionRule(t){t||(t=[]);const e=this.minSelectionRestriction,i=this.maxSelectionRestriction;return null===e&&null===i||e!==i||0===t.length&&this.element&&!this.element.is_required?null:t.length<e||t.length>i?this.$str("participant_restriction_min_max","performelement_multi_choice_multi",e):null},minSelectionRestrictionRule(t){t||(t=[]);const e=this.minSelectionRestriction;return null===e||0===t.length&&this.element&&!this.element.is_required?null:t.length<e?this.$str("participant_restriction_min","performelement_multi_choice_multi",e):null},maxSelectionRestrictionRule(t){if(!t)return null;const e=this.maxSelectionRestriction;return null===e?null:t.length>e?this.$str("participant_restriction_max","performelement_multi_choice_multi",e):null},process:t=>t&&Array.isArray(t.response)?t.response:null}},h=function(t){t.options.__langStrings={performelement_multi_choice_multi:["participant_restriction_min_max","participant_restriction_min","participant_restriction_max"]}};var f=(0,i("wWJ2").Z)(_,(function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ElementParticipantFormContent",t._b({attrs:{element:t.element,"is-draft":t.isDraft,"from-print":!1},scopedSlots:t._u([{key:"content",fn:function(e){var n=e.labelId;return[i("FormScope",{attrs:{path:t.path,process:t.process}},[i("div",{staticClass:"tui-multiChoiceMultiParticipantForm"},[i("FormRowDetails",{attrs:{id:n}},t._l(t.settingStrings,(function(e,n){return i("span",{key:n},[t._v("\n            "+t._s(e)+" "),n<e.length?i("br"):t._e()])})),0),t._v(" "),i("FormCheckboxGroup",{attrs:{validations:t.validations,name:"response"}},t._l(t.element.data.options,(function(e){return i("Checkbox",{key:e.name,attrs:{value:e.name}},[t._v("\n            "+t._s(e.value)+"\n          ")])})),1)],1)])]}}])},"ElementParticipantFormContent",t.$attrs,!1))}),[],!1,null,null,null);h(f),f.options.__hasBlocks={script:!0,template:!0};const v=f.exports},wWJ2:(t,e,i)=>{"use strict";function n(t,e,i,n,r,o,s,l){var a,u="function"==typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=i,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),s?(a=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(s)},u._ssrRegister=a):r&&(a=l?function(){r.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:r),a)if(u.functional){u._injectStyles=a;var m=u.render;u.render=function(t,e){return a.call(e),m(t,e)}}else{var c=u.beforeCreate;u.beforeCreate=c?[].concat(c,a):[a]}return{exports:t,options:u}}i.d(e,{Z:()=>n})},hAGe:t=>{"use strict";t.exports=tui.require("tui/components/form/Checkbox")}},e={};function i(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n](o,o.exports,i),o.exports}i.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return i.d(e,{a:e}),e},i.d=(t,e)=>{for(var n in e)i.o(e,n)&&!i.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("performelement_multi_choice_multi")?console.warn('[tui bundle] The bundle "performelement_multi_choice_multi" is already loaded, skipping initialisation.'):(tui._bundle.register("performelement_multi_choice_multi"),tui._bundle.addModulesFromContext("performelement_multi_choice_multi/components",i("Bjtv")))}()})();