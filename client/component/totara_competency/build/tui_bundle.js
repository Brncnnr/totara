(()=>{var e={r8Y2:(e,t,n)=>{var i={"./AssignmentProgress":"yJgr","./AssignmentProgress.vue":"yJgr","./IndividualAssignmentProgress":"NDDX","./IndividualAssignmentProgress.vue":"NDDX","./ProgressAssignmentFilters":"fJuS","./ProgressAssignmentFilters.vue":"fJuS","./RatingScaleOverview":"moxn","./RatingScaleOverview.vue":"moxn","./achievements/AchievementLayout":"G2YW","./achievements/AchievementLayout.vue":"G2YW","./achievements/Achievements":"Cwzv","./achievements/Achievements.vue":"Cwzv","./achievements/Multivalue":"AaJ3","./achievements/Multivalue.vue":"AaJ3","./achievements/ProgressCircle":"Ch6r","./achievements/ProgressCircle.vue":"Ch6r","./achievements/Singlevalue":"kOC/","./achievements/Singlevalue.vue":"kOC/","./adder/AssignedCompetencyAdder":"hrsA","./adder/AssignedCompetencyAdder.vue":"hrsA","./competency_copy/CompetencyCopyBasket":"T7OH","./competency_copy/CompetencyCopyBasket.vue":"T7OH","./competency_copy/CompetencyCopyCrumbtrail":"K5Bg","./competency_copy/CompetencyCopyCrumbtrail.vue":"K5Bg","./competency_copy/CompetencyCopyReviewSelection":"At9Q","./competency_copy/CompetencyCopyReviewSelection.vue":"At9Q","./competency_copy/CompetencyCopySelectionTable":"Cyqx","./competency_copy/CompetencyCopySelectionTable.vue":"Cyqx","./competency_copy/CompetencySelection":"cg/m","./competency_copy/CompetencySelection.vue":"cg/m","./details/ActivityLog":"TiXw","./details/ActivityLog.vue":"TiXw","./details/ActivityLogTable":"tL1g","./details/ActivityLogTable.vue":"tL1g","./details/ArchivedAssignments":"O8Xe","./details/ArchivedAssignments.vue":"O8Xe","./details/ArchivedAssignmentsTable":"+SfS","./details/ArchivedAssignmentsTable.vue":"+SfS","./details/Assignment":"Q05d","./details/Assignment.vue":"Q05d","./details/ProficientStatus":"bQOG","./details/ProficientStatus.vue":"bQOG","./details/Progress":"HQLL","./details/Progress.vue":"HQLL","./performelement_linked_review/AdminEdit":"udV2","./performelement_linked_review/AdminEdit.vue":"udV2","./performelement_linked_review/AdminView":"I/Qu","./performelement_linked_review/AdminView.vue":"I/Qu","./performelement_linked_review/ParticipantContent":"Y/jl","./performelement_linked_review/ParticipantContent.vue":"Y/jl","./performelement_linked_review/ParticipantContentPicker":"g/mi","./performelement_linked_review/ParticipantContentPicker.vue":"g/mi","./profile/CompetencyCharts":"ViHs","./profile/CompetencyCharts.vue":"ViHs","./profile/CurrentProgress":"wiKI","./profile/CurrentProgress.vue":"wiKI","./profile/MyRatingCell":"RDu7","./profile/MyRatingCell.vue":"RDu7","./profile/NoCompetencyAssignments":"d9D0","./profile/NoCompetencyAssignments.vue":"d9D0","./profile/competency_list/ArchivedList":"7OyT","./profile/competency_list/ArchivedList.vue":"7OyT","./profile/competency_list/CurrentList":"Zqsy","./profile/competency_list/CurrentList.vue":"Zqsy","./profile/competency_list/Filters":"6vfc","./profile/competency_list/Filters.vue":"6vfc","./profile/competency_list/List":"0VwY","./profile/competency_list/List.vue":"0VwY","./profile/competency_list/ListBody":"v9nv","./profile/competency_list/ListBody.vue":"v9nv","./summary/AchievementConfiguration":"8QtI","./summary/AchievementConfiguration.vue":"8QtI","./summary/AchievementConfigurationCriteria":"T2X7","./summary/AchievementConfigurationCriteria.vue":"T2X7","./summary/CompetencySummaryGeneral":"LdhZ","./summary/CompetencySummaryGeneral.vue":"LdhZ","./summary/CompetencySummarySectionHeader":"hJ9r","./summary/CompetencySummarySectionHeader.vue":"hJ9r","./summary/LinkedCourses":"GFuV","./summary/LinkedCourses.vue":"GFuV","./user_assignment/SelectionTable":"+kH/","./user_assignment/SelectionTable.vue":"+kH/"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="r8Y2"},P63A:(e,t,n)=>{var i={"./constants":"ALlL","./constants.js":"ALlL"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="P63A"},Cpg2:(e,t,n)=>{var i={"./CompetencyCopyPathways":"qaMA","./CompetencyCopyPathways.vue":"qaMA","./CompetencyDetail":"nAMG","./CompetencyDetail.vue":"nAMG","./CompetencyProfile":"y95G","./CompetencyProfile.vue":"y95G","./CompetencySummary":"yR6k","./CompetencySummary.vue":"yR6k","./UserAssignment":"07rg","./UserAssignment.vue":"07rg"};function a(e){var t=s(e);return n(t)}function s(e){if(!n.o(i,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return i[e]}a.keys=function(){return Object.keys(i)},a.resolve=s,e.exports=a,a.id="Cpg2"},fgIz:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_profile_competency_details"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_profile_competency_details"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}},{kind:"Argument",name:{kind:"Name",value:"status"},value:{kind:"Variable",name:{kind:"Name",value:"status"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"archived_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"created_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"can_archive"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_assigned"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"unassigned_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"min_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}},r1hV:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]}]}}]}}]}}]}}]}},yJgr:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});const i=tui.require("tui_charts/components/PercentageDoughnut");var a=n.n(i),s=n("CblH"),r=n.n(s);const o={components:{PercentageDoughnut:a()},props:{progress:{required:!0,type:Object}},computed:{color:()=>r().getVar("--color-secondary"),backgroundColor:()=>r().getVar("--color-neutral-4"),labelColor:()=>r().getVar("--color-text")}},c=function(e){e.options.__langStrings={totara_competency:["chart_label_proficient"]}};var l=(0,n("wWJ2").Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-assignmentProgress"},[n("PercentageDoughnut",{staticClass:"tui-assignmentProgress__progress-card",attrs:{percentage:e.progress.overall_progress,label:e.$str("chart_label_proficient","totara_competency"),"label-font-size":13,"label-font-weight":"bold","percentage-font-size":24,square:!0,"label-color":e.labelColor,color:e.color,"background-color":e.backgroundColor}}),e._v(" "),n("div",{staticClass:"tui-assignmentProgress__header"},[e._v("\n    "+e._s(e.progress.name)+"\n  ")])],1)}),[],!1,null,null,null);c(l),l.options.__hasBlocks={script:!0,template:!0};const d=l.exports},NDDX:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});const i=tui.require("tui_charts/components/ChartJs");var a=n.n(i),s=n("CblH"),r=n.n(s),o=n("U0bO");let c=(e,t,n)=>({x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}),l=(e,t,n,i)=>{let a=e.offsetX,s=e.offsetY,r=n.helpers,o=t.ctx;if("bar"===t.config.type){let n=t.getElementsAtEvent(e);if(n.length>0){let e=n[0]._index;return void 0!==i.data.competencies[e]?i.data.competencies[e]:null}let r=t.scales["x-axis-0"],l=4,d=null;return r._computeLabelItems().forEach((e=>{let t=e.x,n=e.y,r=e.rotation,m=Math.abs(r)>=.001,{width:u,height:p}=function(e,t){let n=t.label,i=0;return e.font=t.font.fontString,void 0!==n&&""!==`${n}`.trim()&&(i=e.measureText(n).width),{width:i,height:t.font.lineHeight}}(o,e);if(0===u)return;u+=l,p+=l;let _=-u,v=_,y=p/-2,g=p/-2,h=p/2,k=p/2,f={x:u/-2,y:-l/2},b={x:u/2,y:-l/2},C={x:b.x,y:p-l/2},S={x:f.x,y:p-l/2};m&&(f=c(_,y,r),b=c(0,g,r),C=c(0,h,r),S=c(v,k,r));let N=((e,t,n,i,a,s,r,o,c,l)=>{let d=Math.sqrt(Math.pow(n-a,2)+Math.pow(i-s,2)),m=Math.sqrt(Math.pow(a-r,2)+Math.pow(s-o,2)),u=Math.sqrt(Math.pow(r-c,2)+Math.pow(o-l,2)),p=Math.sqrt(Math.pow(c-n,2)+Math.pow(l-i,2)),_=Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2)),v=Math.sqrt(Math.pow(a-e,2)+Math.pow(s-t,2)),y=Math.sqrt(Math.pow(r-e,2)+Math.pow(o-t,2)),g=Math.sqrt(Math.pow(c-e,2)+Math.pow(l-t,2)),h=(d+_+v)/2,k=(m+v+y)/2,f=(u+y+g)/2,b=(p+g+_)/2,C=Math.sqrt(h*(h-d)*(h-_)*(h-v)),S=Math.sqrt(k*(k-m)*(k-v)*(k-y)),N=Math.sqrt(f*(f-u)*(f-y)*(f-g)),w=Math.sqrt(b*(b-p)*(b-g)*(b-_));return Math.round(C+S+N+w)===Math.round(d*m)})(a,s,t+f.x,n+f.y,t+b.x,n+b.y,t+C.x,n+C.y,t+S.x,n+S.y);if(N){i.debug&&(o.save(),o.strokeStyle="red",o.lineWidth=1,o.beginPath(),o.moveTo(t+f.x,n+f.y),o.lineTo(t+b.x,n+b.y),o.lineTo(t+C.x,n+C.y),o.lineTo(t+S.x,n+S.y),o.lineTo(t+f.x,n+f.y),o.stroke(),o.restore(),console.log("SCIENCE, B!"));let a=i.assignmentProgress.items.find((t=>t.competency.fullname===e.label));a&&(d=a)}else i.debug&&console.log("OUTSIDE")})),d?d.competency.id:null}let l=t.scale,d=l.options,m=d.ticks,u=m.display&&d.display?r.valueOrDefault(m.fontSize,n.defaults.global.defaultFontSize)+5:0,p=l.getDistanceFromCenterForValue(d.ticks.reverse?l.min:l.max);for(let e=0;e<l.pointLabels.length;e++){let t=0===e?u/2:0,n=l.getPointPosition(e,p+t+5),c=l._pointLabelSizes[e],d=l.getIndexAngle(e),m=r.toDegrees(d),_="right";0===m||180===m?_="center":m<180&&(_="left");let v=0;90===m||270===m?v=c.h/2:(m>270||m<90)&&(v=c.h);let y,g=n.y-v-5,h=10+c.h,k=g+h,f=c.w+10;switch(_){case"center":y=n.x-f/2;break;case"left":y=n.x-5;break;case"right":y=n.x-f+5;break;default:console.log("ERROR: unknown textAlign "+_)}let b=y+f;if(i.debug&&(o.save(),o.strokeStyle="red",o.lineWidth=1,o.strokeRect(y,g,f,h),o.restore()),a>=y&&a<=b&&s<=k&&s>=g)return i.data.competencies[e]}return null};const d={components:{ChartJs:a()},props:{assignmentProgress:{required:!0,type:Object},userId:{type:Number,required:!0},isCurrentUser:{type:Boolean,required:!0},debug:{type:Boolean,default:!1}},data(){let e=this.assignmentProgress.items.map((e=>e.competency.fullname));return e.length<=2&&(e.unshift([""]),e.push([""])),{labels:e}},computed:{options:function(){let e=this,t={tooltips:{filter(e,t){let n=t.labels[e.index];return[""].indexOf(n.join(" ").trim())}},legend:{position:"bottom",display:!0,labels:{boxWidth:15,lineWidth:0,padding:25}}};if("radar"===this.type)t.scale={pointLabels:{fontSize:12,fontColor:r().getVar("color-state")},ticks:{beginAtZero:!0,display:!1,max:100}};else{let e=this.assignmentProgress.items.slice(0,1).pop(),n=this.assignmentProgress.items.slice(-1).pop();e&&(e=e.competency.fullname),n&&(n=n.competency.fullname,this.assignmentProgress.items.length<=2&&(n="   ")),t.scales={yAxes:[{ticks:{beginAtZero:!0,display:!1,fontSize:12,max:110}}],xAxes:[{ticks:{min:e,max:n,fontSize:12,fontColor:r().getVar("color-state")}}]}}return t.tooltips.callbacks={title:t=>(0,o.unique)(t.map((e=>e.index))).map((t=>e.shorten(e.labels[t],60))).reduce(((e,t)=>(t.map((t=>e.push(t))),e)),[]),label:e.getToolTipText},t},data:function(){let e={labels:[],competencies:[],datasets:[{label:this.$str("achievement_level","totara_competency"),backgroundColor:r().getVar("color-chart-transparent-1"),borderColor:r().getVar("color-chart-background-1"),borderWidth:2,data:[],values:[]},{label:this.$str("proficiency_level","totara_competency"),backgroundColor:"bar"===this.type?"transparent":r().getVar("color-chart-transparent-4"),borderColor:r().getVar("color-chart-background-4"),pointBorderColor:r().getVar("color-chart-background-4"),pointBackgroundColor:r().getVar("color-chart-background-4"),borderWidth:2,steppedLine:"middle",data:[],values:[]}]};if(this.assignmentProgress.items.forEach(function(t){e.competencies.push(t.competency.id),e.labels.push(this.shorten(t.competency.fullname,35)),e.datasets[0].data.push(t.my_value.percentage),e.datasets[1].data.push(t.min_value.percentage),e.datasets[0].values.push(t.my_value.name),e.datasets[1].values.push(t.min_value.name)}.bind(this)),"bar"===this.type&&(e.datasets[1].type="line",e.datasets[0].data.length)){const t=e.datasets[1].data.slice(0,1).pop(),n=e.datasets[1].data.slice(-1).pop();this.assignmentProgress.items.length<=2&&(e.datasets[0].data.unshift(null),e.datasets[1].data.unshift(t),e.datasets[0].data.push(null),e.datasets[1].data.push(n),e.labels.unshift([""]),e.labels.push([""]),e.competencies.unshift(null),e.competencies.push(null))}return e},type:function(){return this.assignmentProgress.items.length<=2||this.assignmentProgress.items.length>=12?"bar":"radar"}},methods:{competencyLink(e){const t={competency_id:e};return this.isMine||(t.user_id=this.userId),this.$url("/totara/competency/profile/details/index.php",t)},chartHovered(e,t,n,i){requestAnimationFrame((()=>{l(e,n,i,this)?e.target.style.cursor="pointer":e.target.style.cursor="auto"}))},chartClicked(e,t,n,i){let a=l(e,n,i,this);a&&(window.location.href=this.competencyLink(a))},getDataIndex(e){return this.assignmentProgress.items.length>2?e:e-1},getToolTipText(e,t){const n=this.getDataIndex(e.index),i=t.datasets[e.datasetIndex].label||"";let a="";switch(e.datasetIndex){case 0:a=this.assignmentProgress.items[n].my_value.name;break;case 1:a=this.assignmentProgress.items[n].min_value.name}return i+": "+a},shorten:function(e,t,n=" "){let i,a=[],s=0;if(!e)return[""];if(e.length<=t)return[e.trim()];for(let r=0;r<2;r++){if(s+t>=e.length){a.push(e.substr(s).trim());break}{i=e.lastIndexOf(n,s+t);let o=e.substr(s,i-s).trim();s=i+1,1===r&&(o+=String.fromCharCode(8230)),a.push(o)}}return a}}},m=function(e){e.options.__langStrings={totara_competency:["proficient","not_proficient","proficiency_level","achievement_level"]}};var u=(0,n("wWJ2").Z)(d,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("ChartJs",{attrs:{type:e.type,data:e.data,options:e.options,header:e.assignmentProgress.name},on:{click:e.chartClicked,hover:e.chartHovered}})}),[],!1,null,null,null);m(u),u.options.__hasBlocks={script:!0,template:!0};const p=u.exports},fJuS:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("RwCy");const a={components:{SelectFilter:n.n(i)()},props:{filters:{type:Array,required:!0},value:{type:Object,required:!0},disable:{type:Boolean,default:!1}},computed:{displayFilters(){return!(1===this.filters.length&&1===this.filters[0].status)},filterOptions(){const e=[];return this.filters.forEach((t=>{e.push({name:t.name,id:t.id,value:t.value}),t.filters.forEach((t=>e.push(Object.assign({},t,{name:"   "+t.name}))))})),e}},methods:{toggle(){this.open=!this.open},filterUpdated(e){const t=this.filterOptions.find((t=>t.id==e));this.$emit("input",t&&t.value)}}},s=function(e){e.options.__langStrings={totara_competency:["filter_viewing_by_assignment","viewing_by_assignment"]}};var r=(0,n("wWJ2").Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("p",{staticClass:"sr-only"},[e._v("\n    "+e._s(e.$str("filter_viewing_by_assignment","totara_competency"))+"\n  ")]),e._v(" "),e.displayFilters?n("SelectFilter",{attrs:{"show-label":!0,label:e.$str("viewing_by_assignment","totara_competency"),options:e.filterOptions.map((function(e){return{id:e.id,label:e.name}})),disabled:e.disable,value:e.value&&e.value.key},on:{input:e.filterUpdated}}):e._e()],1)}),[],!1,null,null,null);s(r),r.options.__hasBlocks={script:!0,template:!0};const o=r.exports},moxn:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("9Ont");const a={components:{CheckSuccess:n.n(i)()},props:{scale:{required:!0,type:Object},showDescriptions:{type:Boolean,default:!1},reverseValues:{type:Boolean,default:!1}},computed:{scaleValues(){return this.reverseValues?this.scale.values.slice(0).reverse():this.scale.values}},methods:{showDescription(e){return this.showDescriptions&&null!=e&&e.length>0}}},s=function(e){e.options.__langStrings={totara_competency:["is_not_proficient_value","is_proficient_value","rating_scale"]}};var r=(0,n("wWJ2").Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyRatingScaleOverview"},[n("p",{staticClass:"tui-competencyRatingScaleOverview__title",attrs:{id:e.$id("rating-scale-title")}},[e._v("\n    "+e._s(e.$str("rating_scale","totara_competency"))+"\n  ")]),e._v(" "),n("ol",{staticClass:"tui-competencyRatingScaleOverview__list",attrs:{"aria-labelledby":e.$id("rating-scale-title")}},e._l(e.scaleValues,(function(t){return n("li",{key:t.id,staticClass:"tui-competencyRatingScaleOverview__list-item"},[n("div",{staticClass:"tui-competencyRatingScaleOverview__proficientStatus"},[t.proficient?n("CheckSuccess",{attrs:{size:"200"}}):e._e()],1),e._v(" "),n("div",{staticClass:"tui-competencyRatingScaleOverview__scaleValue"},[n("p",{staticClass:"tui-competencyRatingScaleOverview__scaleValue-name"},[e._v("\n          "+e._s(t.name)+"\n        ")]),e._v(" "),e.showDescription(t.description)?n("p",{staticClass:"tui-competencyRatingScaleOverview__scaleValue-description",domProps:{innerHTML:e._s(t.description)}}):e._e(),e._v(" "),n("span",{staticClass:"sr-only"},[e._v("\n          "+e._s(t.proficient?e.$str("is_proficient_value","totara_competency"):e.$str("is_not_proficient_value","totara_competency"))+"\n        ")])])])})),0)])}),[],!1,null,null,null);s(r),r.options.__hasBlocks={script:!0,template:!0};const o=r.exports},G2YW:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>l});var i=n("z1IF"),a=n.n(i),s=n("5Nvt"),r=n.n(s);const o={components:{Grid:a(),GridItem:r()},props:{noBorders:{type:Boolean}}};var c=(0,n("wWJ2").Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Grid",{staticClass:"tui-achievementLayout",class:{"tui-achievementLayout--borderless":e.noBorders},attrs:{"stack-at":750}},[n("GridItem",{attrs:{units:2}},[n("div",{staticClass:"tui-achievementLayout__left"},[e._t("left")],2)]),e._v(" "),n("GridItem",{attrs:{units:10}},[e._t("right")],2)],1)}),[],!1,null,null,null);c.options.__hasBlocks={script:!0,template:!0};const l=c.exports},Cwzv:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("YQTe"),a=n.n(i);const s=tui.require("tui/components/tabs/Tab");var r=n.n(s);const o=tui.require("tui/components/tabs/Tabs");var c=n.n(o);const l={components:{Loader:a(),Tab:r(),Tabs:c()},props:{assignment:{required:!0,type:Object},competencyId:{type:Number},userId:{required:!0,type:Number}},data:function(){return{achievements:[],itemsLoaded:null,loading:!0}},apollo:{achievements:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_achievement_paths"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_achievement_paths"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"class"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]},context:{batch:!0},variables(){return{assignment_id:this.assignmentId,user_id:this.userId}},update({totara_competency_achievement_paths:e}){let t=[];return e.forEach((e=>{let n=`totara_competency/components/achievements/${this.capitalizeFirstLetter(e.class)}`;t.push({component:tui.asyncComponent(n),props:{userId:this.userId,assignmentId:this.assignmentId,competencyId:this.competencyId,type:e.type,name:e.name}})})),0===t.length&&(this.loading=!1),t}}},computed:{assignmentId(){return parseInt(this.assignment.id)},numberOfItems(){return this.achievements.length}},watch:{itemsLoaded:function(e){e===this.numberOfItems&&(this.loading=!1)},assignmentId:function(){this.loading=!1}},methods:{capitalizeFirstLetter:e=>e.charAt(0).toUpperCase()+e.toLowerCase().slice(1),itemLoaded(){this.itemsLoaded+=1}}},d=function(e){e.options.__langStrings={totara_competency:["no_achievement_criteria","ways_to_achieve_proficiency"]}};var m=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyAchievements"},[n("Loader",{attrs:{loading:e.loading}},[n("h3",{staticClass:"tui-competencyAchievements__title"},[e._v("\n      "+e._s(e.$str("ways_to_achieve_proficiency","totara_competency"))+"\n    ")]),e._v(" "),e.achievements.length?n("Tabs",{directives:[{name:"show",rawName:"v-show",value:!e.loading,expression:"!loading"}],key:e.assignmentId,staticClass:"tui-competencyAchievements__tabs",attrs:{"transparent-tabs":!0}},e._l(e.achievements,(function(t,i){return n("Tab",{key:i,attrs:{id:i,"always-render":!0,name:t.props.name}},[n(t.component,e._b({tag:"component",on:{loaded:e.itemLoaded}},"component",t.props,!1))],1)})),1):n("div",{staticClass:"tui-competencyAchievements__empty"},[e._v("\n      "+e._s(e.$str("no_achievement_criteria","totara_competency"))+"\n    ")])],1)],1)}),[],!1,null,null,null);d(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},AaJ3:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const i={inheritAttrs:!1,props:{assignmentId:{required:!0,type:Number},competencyId:{type:Number},type:{required:!0,type:String},userId:{required:!0,type:Number}},data:function(){return{component:null}},mounted:function(){let e=`pathway_${this.type}/components/achievements/AchievementDisplay`;this.component=tui.asyncComponent(e)},methods:{isLoaded(){this.$emit("loaded")}}};var a=(0,n("wWJ2").Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n(e.component,{tag:"component",attrs:{"assignment-id":e.assignmentId,"competency-id":e.competencyId,"user-id":e.userId},on:{loaded:e.isLoaded}})],1)}),[],!1,null,null,null);a.options.__hasBlocks={script:!0,template:!0};const s=a.exports},Ch6r:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>r});const i={props:{complete:{type:Boolean},completed:{type:Number},target:{type:Number}}},a=function(e){e.options.__langStrings={totara_competency:["achieved_n_out_of_n","completed"]}};var s=(0,n("wWJ2").Z)(i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-progressCircle",class:{"tui-progressCircle--complete":e.complete}},[n("div",{staticClass:"tui-progressCircle__circle"},[n("span",{staticClass:"tui-progressCircle__circle-text"},[e._v("\n      "+e._s(e.$str("achieved_n_out_of_n","totara_competency",{current:e.completed,target:e.target}))+"\n    ")])]),e._v(" "),n("div",{staticClass:"tui-progressCircle__label"},[e._v("\n    "+e._s(e.$str("completed","totara_competency"))+"\n  ")])])}),[],!1,null,null,null);a(s),s.options.__hasBlocks={script:!0,template:!0};const r=s.exports},"kOC/":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});const i=tui.require("totara_competency/components/achievements/AchievementLayout");var a=n.n(i);const s=tui.require("tui/components/collapsible/Collapsible");var r=n.n(s),o=n("6R6u"),c=n.n(o),l=n("E0wt"),d=n.n(l);const m={components:{AchievementLayout:a(),Collapsible:r(),Lozenge:c(),OrBox:d()},inheritAttrs:!1,props:{userId:{required:!0,type:Number},assignmentId:{required:!0,type:Number},type:String},data:function(){return{achievements:[],achievementComponents:[],itemsLoaded:0}},apollo:{achievements:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_scale_achievements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_scale_achievements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericscore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"achieved"},name:{kind:"Name",value:"has_scale_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"date_achieved"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathway"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathway_type"},arguments:[],directives:[]}]}}]}}]}}]}}]},context:{batch:!0},variables(){return{assignment_id:this.assignmentId,user_id:this.userId}},update({totara_competency_scale_achievements:e}){let t=[],n=0;return e.forEach((e=>{let i={achieved:!1,items:[],scale_value:e.scale_value};e.items.forEach((e=>{let t=`pathway_${e.pathway.pathway_type}/components/achievements/AchievementDisplay`;n+=1,i.items.push({component:tui.asyncComponent(t),props:{assignmentId:this.assignmentId,instanceId:parseInt(e.pathway.instance_id),userId:this.userId,dateAchieved:e.date_achieved}}),e.achieved&&(i.achieved=!0)})),0===n&&this.$emit("loaded"),t.push(i)})),t}}},computed:{numberOfItems(){return this.achievements?this.achievements.reduce((function(e,t){return e+t.items.length}),0):0}},watch:{itemsLoaded:function(e){e===this.numberOfItems&&this.$emit("loaded")}},methods:{isLastItem:(e,t)=>e===t.length-1,itemLoaded(){this.itemsLoaded+=1}}},u=function(e){e.options.__langStrings={totara_competency:["criteria_fulfilled","work_towards_level"]}};var p=(0,n("wWJ2").Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyAchievementsScale"},e._l(e.achievements,(function(t,i){return n("div",{key:i},[n("Collapsible",{attrs:{"always-render":!0,"initial-state":!t.achieved,label:e.$str("work_towards_level","totara_competency")},scopedSlots:e._u([{key:"label-extra",fn:function(){return[n("span",{staticClass:"tui-competencyAchievementsScale__title"},[e._v("\n          "+e._s(t.scale_value.name)+"\n        ")])]},proxy:!0},t.achieved?{key:"collapsible-side-content",fn:function(){return[n("span",[n("Lozenge",{attrs:{text:e.$str("criteria_fulfilled","totara_competency"),type:"success"}})],1)]},proxy:!0}:null,{key:"default",fn:function(i){var a=i.expanded;return[e._l(t.items,(function(i,s){return[n("div",{key:s,class:"tui-competencyAchievementsScale__item"},[n(i.component,e._b({tag:"component",attrs:{displayed:a},on:{loaded:e.itemLoaded}},"component",i.props,!1))],1),e._v(" "),e.isLastItem(s,t.items)?e._e():n("div",{key:s+"orseparator",staticClass:"tui-competencyAchievementsScale__separator"},[n("AchievementLayout",{attrs:{"no-borders":!0},scopedSlots:e._u([{key:"left",fn:function(){return[n("OrBox")]},proxy:!0}],null,!0)})],1)]}))]}}],null,!0)})],1)})),0)}),[],!1,null,null,null);u(p),p.options.__hasBlocks={script:!0,template:!0};const _=p.exports},hrsA:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});const i=tui.require("tui/components/adder/Adder");var a=n.n(i),s=n("RJ4J"),r=n.n(s),o=n("9Ont"),c=n.n(o),l=n("ebfP"),d=n.n(l),m=n("Lo/q"),u=n.n(m),p=n("FR0q"),_=n.n(p),v=n("RwCy"),y=n.n(v),g=n("hkSA"),h=n.n(g);const k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_user_assignments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_user_assignments_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_user_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"scale"},name:{kind:"Name",value:"assignment_specific_scale"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"filters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]};var f=n("U0bO");const b={components:{Adder:a(),Cell:r(),CheckIcon:c(),FilterBar:d(),HeaderCell:u(),SearchFilter:_(),SelectFilter:y(),SelectTable:h()},props:{existingItems:{type:Array,default:()=>[]},open:Boolean,customQuery:Object,customQueryKey:String,contextId:Number,showLoadingBtn:Boolean,userId:Number},data(){return{competencies:null,competencySelectedItems:[],filters:{search:""},nextPage:!1,skipQueries:!0,searchDebounce:"",reasonAssignedFilter:null,reasonAssignedFilterOptions:[{id:null,label:this.$str("all","totara_competency")}],proficiencyFilter:null,proficientOptions:[{id:null,label:this.$str("all","totara_competency")},{id:!0,label:this.$str("proficient","totara_competency")},{id:!1,label:this.$str("not_proficient","totara_competency")}],typeValue:null,userGroupIdValue:null,userGroupNameValue:null}},watch:{open(){this.open?(this.searchDebounce="",this.skipQueries=!1):this.skipQueries=!0},searchDebounce(e){this.updateFilterDebounced(e)}},created(){this.$apollo.addSmartQuery("competencies",{query:this.customQuery?this.customQuery:k,skip(){return this.skipQueries},variables(){return{input:{filters:{search:this.filters.search,type:this.typeValue,user_group_id:this.userGroupIdValue,user_group_type:this.userGroupNameValue,proficient:this.proficiencyFilter},user_id:this.userId}}},update({[this.customQueryKey?this.customQueryKey:"totara_competency_user_assignments"]:e}){this.nextPage=!!e.next_cursor&&e.next_cursor;let t=e.filters.map((e=>({id:e,label:e.name}))),n=[{id:null,label:this.$str("all","totara_competency")}];return this.reasonAssignedFilterOptions=[...n,...t],e}}),this.$apollo.addSmartQuery("selectedCompetencies",{query:this.customQuery?this.customQuery:k,skip(){return this.skipQueries},variables(){return{input:{filters:{ids:[]},user_id:this.userId}}},update({[this.customQueryKey?this.customQueryKey:"totara_competency_user_assignments"]:e}){return this.competencySelectedItems=e.items,e}})},methods:{async loadMoreItems(){this.nextPage&&this.$apollo.queries.competencies.fetchMore({variables:{input:{cursor:this.nextPage,filters:{search:this.filters.search,type:this.typeValue,user_group_id:this.userGroupIdValue,user_group_type:this.userGroupNameValue,proficient:this.proficiencyFilter},user_id:this.userId}},updateQuery:(e,{fetchMoreResult:t})=>{const n=e.totara_competency_user_assignments,i=t.totara_competency_user_assignments,a=n.items.concat(i.items);return{[this.customQueryKey?this.customQueryKey:"totara_competency_user_assignments"]:{items:a,next_cursor:i.next_cursor}}}})},async closeWithData(e){let t;this.$emit("add-button-clicked");try{t=await this.updateSelectedItems(e)}catch(e){return void console.error(e)}this.$emit("added",{ids:e,data:t})},closeModal(){this.reasonAssignedFilter=null,this.setReasonAssignedValues(null),this.proficiencyFilter=null,this.$emit("cancel")},setReasonAssignedValues(e){e?(this.typeValue=e.type,this.userGroupIdValue=e.user_group_id,this.userGroupNameValue=e.user_group_type):(this.typeValue=null,this.userGroupIdValue=null,this.userGroupNameValue=null)},async updateSelectedItems(e){const t=e.length;try{await this.$apollo.queries.selectedCompetencies.refetch({input:{filters:{ids:e},result_size:t,user_id:this.userId}})}catch(e){console.error(e)}return this.competencySelectedItems},updateFilterDebounced:(0,f.debounce)((function(e){this.filters.search=e}),500)}},C=function(e){e.options.__langStrings={core:["no","yes"],totara_core:["search"],totara_competency:["achievement_level","all","filter_competencies","filter_competencies_search_label","header_assignment_reasons","header_competency","not_proficient","proficiency_status","proficient","reason_assigned","select_competencies"]}};var S=(0,n("wWJ2").Z)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Adder",{attrs:{open:e.open,title:e.$str("select_competencies","totara_competency"),"existing-items":e.existingItems,loading:e.$apollo.loading,"show-load-more":e.nextPage,"show-loading-btn":e.showLoadingBtn},on:{added:function(t){return e.closeWithData(t)},cancel:function(t){return e.closeModal()},"load-more":function(t){return e.loadMoreItems()},"selected-tab-active":function(t){return e.updateSelectedItems(t)}},scopedSlots:e._u([{key:"browse-filters",fn:function(){return[n("FilterBar",{attrs:{"has-top-bar":!1,title:e.$str("filter_competencies","totara_competency")},scopedSlots:e._u([{key:"filters-left",fn:function(t){var i=t.stacked;return[n("SelectFilter",{attrs:{label:e.$str("header_assignment_reasons","totara_competency"),"show-label":!0,options:e.reasonAssignedFilterOptions,stacked:i},on:{input:e.setReasonAssignedValues},model:{value:e.reasonAssignedFilter,callback:function(t){e.reasonAssignedFilter=t},expression:"reasonAssignedFilter"}}),e._v(" "),n("SelectFilter",{attrs:{label:e.$str("proficiency_status","totara_competency"),"show-label":!0,options:e.proficientOptions,stacked:i},model:{value:e.proficiencyFilter,callback:function(t){e.proficiencyFilter=t},expression:"proficiencyFilter"}})]}},{key:"filters-right",fn:function(t){var i=t.stacked;return[n("SearchFilter",{attrs:{label:e.$str("filter_competencies_search_label","totara_competency"),"show-label":!1,placeholder:e.$str("search","totara_core"),stacked:i},model:{value:e.searchDebounce,callback:function(t){e.searchDebounce=t},expression:"searchDebounce"}})]}}])})]},proxy:!0},{key:"browse-list",fn:function(t){var i=t.disabledItems,a=t.selectedItems,s=t.update;return[n("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:a,data:e.competencies&&e.competencies.items?e.competencies.items:[],"disabled-ids":i,"checkbox-v-align":"center","select-all-enabled":!0,"border-bottom-hidden":!0},on:{input:function(e){return s(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("header_competency","totara_competency"))+"\n        ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3",valign:"center"}},[e._v("\n          "+e._s(e.$str("reason_assigned","totara_competency"))+"\n        ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center",valign:"center"}},[e._v("\n          "+e._s(e.$str("proficient","totara_competency"))+"\n        ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3",valign:"center"}},[e._v("\n          "+e._s(e.$str("achievement_level","totara_competency"))+"\n        ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"4","column-header":e.$str("header_competency","totara_competency"),valign:"center"}},[e._v("\n          "+e._s(i.competency.display_name)+"\n        ")]),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("reason_assigned","totara_competency"),valign:"center"}},[e._v("\n          "+e._s(i.reason_assigned)+"\n        ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("proficient","totara_competency"),align:"center",valign:"center"}},[i.my_value.proficient?n("CheckIcon",{attrs:{alt:e.$str("yes","core")}}):n("span",[n("span",{attrs:{"aria-hidden":!0}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no","core")))])])],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("achievement_level","totara_competency"),valign:"center"}},[e._v("\n          "+e._s(i.my_value.name)+"\n        ")])]}}],null,!0)})]}},{key:"basket-list",fn:function(t){var i=t.disabledItems,a=t.selectedItems,s=t.update;return[n("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:a,data:e.competencySelectedItems,"disabled-ids":i,"checkbox-v-align":"center","border-bottom-hidden":!0,"select-all-enabled":!0},on:{input:function(e){return s(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("header_competency","totara_competency"))+"\n        ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3",valign:"center"}},[e._v("\n          "+e._s(e.$str("reason_assigned","totara_competency"))+"\n        ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center",valign:"center"}},[e._v("\n          "+e._s(e.$str("proficient","totara_competency"))+"\n        ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3",valign:"center"}},[e._v("\n          "+e._s(e.$str("achievement_level","totara_competency"))+"\n        ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"4","column-header":e.$str("header_competency","totara_competency"),valign:"center"}},[e._v("\n          "+e._s(i.competency.display_name)+"\n        ")]),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("reason_assigned","totara_competency"),valign:"center"}},[e._v("\n          "+e._s(i.reason_assigned)+"\n        ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("proficient","totara_competency"),align:"center",valign:"center"}},[i.my_value.proficient?n("CheckIcon",{attrs:{alt:e.$str("yes","core")}}):n("span",[n("span",{attrs:{"aria-hidden":!0}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no","core")))])])],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("achievement_level","totara_competency"),valign:"center"}},[e._v("\n          "+e._s(i.my_value.name)+"\n        ")])]}}],null,!0)})]}}])})}),[],!1,null,null,null);C(S),S.options.__hasBlocks={script:!0,template:!0};const N=S.exports},T7OH:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n("gmgr"),a=n.n(i),s=n("IpiT"),r=n.n(s),o=n("z1IF"),c=n.n(o),l=n("5Nvt"),d=n.n(l),m=n("H4QJ"),u=n.n(m);const p={components:{Basket:a(),Button:r(),Grid:c(),GridItem:d(),Responsive:u()},props:{loadingConfirmation:{type:Boolean},reviewingSelection:{type:Boolean},selectedCompetencies:{type:Array}},data:()=>({boundaryDefaults:{xSmall:{gridUnitsLeft:0,gridUnitsRight:12},small:{gridUnitsLeft:3,gridUnitsRight:9},medium:{gridUnitsLeft:4,gridUnitsRight:8},large:{gridUnitsLeft:5,gridUnitsRight:7},xLarge:{gridUnitsLeft:6,gridUnitsRight:6}},currentBoundaryName:null}),computed:{gridUnitsLeft(){if(this.currentBoundaryName)return this.boundaryDefaults[this.currentBoundaryName].gridUnitsLeft},gridUnitsRight(){if(this.currentBoundaryName)return this.boundaryDefaults[this.currentBoundaryName].gridUnitsRight}},methods:{resize(e){this.currentBoundaryName=e}}},_=function(e){e.options.__langStrings={totara_competency:["apply_copy_pathways","back_to_all_competencies","basket_clear_selection","basket_view_selected"]}};var v=(0,n("wWJ2").Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Responsive",{attrs:{breakpoints:[{name:"xSmall",boundaries:[0,750]},{name:"small",boundaries:[750,850]},{name:"medium",boundaries:[850,1e3]},{name:"large",boundaries:[1e3,1150]},{name:"xLarge",boundaries:[1150,1250]}]},on:{"responsive-resize":e.resize}},[n("Grid",[n("GridItem",{attrs:{units:e.gridUnitsLeft}}),e._v(" "),n("GridItem",{attrs:{units:e.gridUnitsRight}},[n("Basket",{staticClass:"tui-competencyCopyPathwayBasket",attrs:{items:e.selectedCompetencies,"wide-gap":!0},scopedSlots:e._u([{key:"status",fn:function(t){return[t.empty?e._e():n("Button",{attrs:{styleclass:{transparent:!0},text:e.$str("basket_clear_selection","totara_competency")},on:{click:function(t){return e.$emit("clear-selection")}}})]}},{key:"actions",fn:function(t){var i=t.empty;return[e.reviewingSelection?n("Button",{attrs:{styleclass:{transparent:!0},text:e.$str("back_to_all_competencies","totara_competency")},on:{click:function(t){return e.$emit("reviewing-selection",!1)}}}):[i?e._e():n("Button",{attrs:{styleclass:{transparent:!0},text:e.$str("basket_view_selected","totara_competency")},on:{click:function(t){return e.$emit("reviewing-selection",!0)}}})],e._v(" "),n("Button",{attrs:{disabled:i,loading:e.loadingConfirmation,styleclass:{primary:!0},text:e.$str("apply_copy_pathways","totara_competency")},on:{click:function(t){return e.$emit("apply")}}})]}}])})],1)],1)],1)}),[],!1,null,null,null);_(v),v.options.__hasBlocks={script:!0,template:!0};const y=v.exports},K5Bg:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("IpiT"),a=n.n(i),s=n("g6zY"),r=n.n(s);const o={components:{Button:a(),SkeletonContent:r()},props:{crumbtrailData:{type:Array},currentLevel:{type:String},loading:{type:Boolean},searching:{type:Boolean}}},c=function(e){e.options.__langStrings={totara_competency:["a11y_competency_crumbtrail","crumbtrail_separator","framework","search_results"]}};var l=(0,n("wWJ2").Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("nav",{staticClass:"tui-competencyCopyPathwayCrumbtrail",attrs:{"aria-label":e.$str("a11y_competency_crumbtrail","totara_competency")}},[n("ol",{staticClass:"tui-competencyCopyPathwayCrumbtrail__list"},[e._l(e.crumbtrailData,(function(t,i){return n("li",{key:i,staticClass:"tui-competencyCopyPathwayCrumbtrail__list-item"},[n("Button",{attrs:{styleclass:{transparent:!0},text:t.name},on:{click:function(n){return e.$emit("change-competency-level",t.id)}}}),n("span",{attrs:{"aria-hidden":"true"}},[e._v(e._s(e.$str("crumbtrail_separator","totara_competency")))])],1)})),e._v(" "),n("li",{class:{"tui-competencyCopyPathwayCrumbtrail__list-multipleItems":e.currentLevel},attrs:{"aria-current":"location"}},[n("h5",{staticClass:"tui-competencyCopyPathwayCrumbtrail__list-current"},[e.loading?n("SkeletonContent",{attrs:{"char-length":15,"has-overlay":!0}}):e.searching?n("span",[e._v("\n          "+e._s(e.$str("search_results","totara_competency"))+"\n        ")]):e.currentLevel?n("span",[e._v("\n          "+e._s(e.currentLevel)+"\n        ")]):n("span",[e._v("\n          "+e._s(e.$str("framework","totara_competency"))+"\n        ")])],1)])],2)])}),[],!1,null,null,null);c(l),l.options.__hasBlocks={script:!0,template:!0};const d=l.exports},At9Q:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("IpiT"),a=n.n(i),s=n("LFbr"),r=n.n(s),o=n("YQTe"),c=n.n(o);const l={components:{Button:a(),CompetencySelectionTable:r(),Loader:c()},props:{competencies:{type:Object},lastPage:{type:Boolean},loading:{type:Boolean},selectedCompetencies:{type:Array,required:!0}},computed:{totalCompetencies(){return this.selectedCompetencies.length}}},d=function(e){e.options.__langStrings={totara_competency:["competencies","load_more","selected_competencies"]}};var m=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyCopyReviewingSelection"},[n("Loader",{staticClass:"tui-competencyCopyReviewingSelection__loading",attrs:{loading:e.loading}},[n("h4",{staticClass:"tui-competencyCopyReviewingSelection__heading"},[e._v("\n      "+e._s(e.$str("selected_competencies","totara_competency"))+"\n    ")]),e._v(" "),n("div",{staticClass:"tui-competencyCopyReviewingSelection__count"},[e._v("\n      "+e._s(e.$str("competencies","totara_competency",e.totalCompetencies))+"\n    ")]),e._v(" "),n("CompetencySelectionTable",{staticClass:"tui-competencyCopyReviewingSelection__list",attrs:{competencies:e.competencies.items,loading:!1,"reviewing-selection":!0,"selected-competencies":e.selectedCompetencies},on:{update:function(t){return e.$emit("update",t)}}})],1),e._v(" "),n("div",{staticClass:"tui-competencyCopyReviewingSelection__paging"},[e.lastPage?e._e():n("Button",{attrs:{loading:e.loading,text:e.$str("load_more","totara_competency")},on:{click:function(t){return e.$emit("next-page")}}})],1)],1)}),[],!1,null,null,null);d(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},Cyqx:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>h});var i=n("1+j7"),a=n.n(i),s=n("RJ4J"),r=n.n(s);const o=tui.require("tui/components/icons/ForwardArrow");var c=n.n(o),l=n("Lo/q"),d=n.n(l),m=n("hkSA"),u=n.n(m),p=n("g6zY"),_=n.n(p);const v={components:{ButtonIcon:a(),Cell:r(),ForwardArrow:c(),HeaderCell:d(),SelectTable:u(),SkeletonContent:_()},props:{competencies:{type:Array},loading:{type:Boolean},reviewingSelection:{type:Boolean},selectedCompetencies:{type:Array,required:!0},sourceCompetencyId:{type:Number}},computed:{disabledIds(){return this.sourceCompetencyId?[this.sourceCompetencyId.toString()]:[]}},methods:{concatAchievementPathsString(e){let t=[];return e.filter((e=>{const n=e.type,i=t.includes(n);return t.push(n),!i})).map((e=>e.name)).join(this.$str("competency_achievement_path_list_separator","totara_competency"))},concatParentsString(e){return e.map((e=>e.name)).join(this.$str("competency_parent_list_separator","totara_competency"))}}},y=function(e){e.options.__langStrings={totara_competency:["a11y_competency_parents","achievement_paths_label","competency_achievement_path_list_separator","competency_parent_list_separator","no_competencies_found","view_child_competencies","view_child_competencies_of_x"]}};var g=(0,n("wWJ2").Z)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SelectTable",{attrs:{data:e.competencies,"disabled-ids":e.disabledIds,"hover-off":!0,"loading-overlay-active":!0,"loading-preview":e.loading,"loading-preview-rows":10,"no-items-text":e.$str("no_competencies_found","totara_competency"),"no-label-offset":!0,"select-all-enabled":!0,"stack-at":0,value:e.selectedCompetencies},on:{input:function(t){return e.$emit("update",t)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"12",valign:"center"}})]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"11"},scopedSlots:e._u([{key:"custom-loader",fn:function(){return[n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__contentLoader"},[n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-parents"},[n("SkeletonContent",{attrs:{"char-length":25,"has-overlay":!0}})],1),e._v(" "),n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-title"},[n("SkeletonContent",{attrs:{"char-length":30,"has-overlay":!0}})],1),e._v(" "),n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-paths"},[n("SkeletonContent",{attrs:{"char-length":25,"has-overlay":!0}})],1)])]},proxy:!0},{key:"default",fn:function(){return[n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__content"},[i.parents&&i.parents.length?n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-parents"},[n("span",{staticClass:"sr-only"},[e._v("\n              "+e._s(e.$str("a11y_competency_parents","totara_competency"))+"\n            ")]),e._v("\n            "+e._s(e.concatParentsString(i.parents))+"\n          ")]):e._e(),e._v(" "),n("h6",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-title"},[e._v("\n            "+e._s(i.name)+"\n          ")]),e._v(" "),i.achievement_path&&i.achievement_path.length?n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-paths"},[n("span",{staticClass:"tui-competencyCopyPathwaySelectionTable__content-pathsLabel"},[e._v("\n              "+e._s(e.$str("achievement_paths_label","totara_competency"))+"\n            ")]),e._v("\n\n            "+e._s(e.concatAchievementPathsString(i.achievement_path))+"\n          ")]):e._e()])]},proxy:!0}],null,!0)}),e._v(" "),n("Cell",{attrs:{align:"end",size:"1",valign:"center"},scopedSlots:e._u([{key:"custom-loader",fn:function(){},proxy:!0},{key:"default",fn:function(){return[!e.reviewingSelection&&i.has_children?n("div",{staticClass:"tui-competencyCopyPathwaySelectionTable__actions"},[n("ButtonIcon",{attrs:{"aria-label":e.$str("view_child_competencies_of_x","totara_competency",i.name),styleclass:{transparent:!0},title:e.$str("view_child_competencies","totara_competency")},on:{click:function(t){return e.$emit("change-competency-level",i.id)}}},[n("ForwardArrow")],1)],1):e._e()]},proxy:!0}],null,!0)})]}}])})}),[],!1,null,null,null);y(g),g.options.__hasBlocks={script:!0,template:!0};const h=g.exports},"cg/m":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>C});const i=tui.require("totara_competency/components/competency_copy/CompetencyCopyCrumbtrail");var a=n.n(i),s=n("LFbr"),r=n.n(s),o=n("ebfP"),c=n.n(o),l=n("YQTe"),d=n.n(l);const m=tui.require("tui/components/paging/Paging");var u=n.n(m),p=n("FR0q"),_=n.n(p),v=n("g6zY"),y=n.n(v);const g=tui.require("tui/components/toggle/ToggleSwitch");var h=n.n(g);const k={components:{CompetencyCrumbtrail:a(),CompetencySelectionTable:r(),FilterBar:c(),Loader:d(),Paging:u(),SearchFilter:_(),SkeletonContent:y(),ToggleSwitch:h()},props:{competencies:{type:Object},currentPage:{type:Number,required:!0},filterValues:{type:Object,required:!0},frameworkName:{type:String,required:!0},loading:{type:Boolean},pageLimit:{type:Number,required:!0},selectedCompetencies:{type:Array,required:!0},sourceCompetencyId:{type:Number}},computed:{crumbtrailData(){if(!this.currentLevel||!this.competencies.parents)return null;let e=this.competencies.parents.slice();return e.unshift({id:null,name:this.$str("framework","totara_competency")}),e},currentLevel(){return this.competencies.current_level?this.competencies.current_level.name:null},totalCompetencies(){return this.competencies&&this.competencies.total?this.competencies.total:0}},methods:{setItemsPerPage(e){this.$refs["selection-count"]&&this.$refs["selection-count"].scrollIntoView(),this.$emit("items-per-page-change",e)},setPaginationPage(e){this.$refs["selection-count"]&&this.$refs["selection-count"].scrollIntoView(),this.$emit("page-change",e)}}},f=function(e){e.options.__langStrings={totara_competency:["a11y_filter_competencies","competencies","competency","framework","search_competencies_by_name","without_achievement_paths"]}};var b=(0,n("wWJ2").Z)(k,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyCopyPathwaySelection"},[n("h4",{staticClass:"tui-competencyCopyPathwaySelection__heading"},[e._v("\n    "+e._s(e.frameworkName)+"\n  ")]),e._v(" "),n("FilterBar",{attrs:{"has-top-bar":!0,"has-bottom-bar":!0,title:e.$str("a11y_filter_competencies","totara_competency")},scopedSlots:e._u([{key:"filters-left",fn:function(){return[n("ToggleSwitch",{attrs:{text:e.$str("without_achievement_paths","totara_competency"),"toggle-first":!0},model:{value:e.filterValues.withoutPaths,callback:function(t){e.$set(e.filterValues,"withoutPaths",t)},expression:"filterValues.withoutPaths"}})]},proxy:!0},{key:"filters-right",fn:function(t){var i=t.stacked;return[n("SearchFilter",{attrs:{label:e.$str("search_competencies_by_name","totara_competency"),placeholder:e.$str("competency","totara_competency"),stacked:i},model:{value:e.filterValues.search,callback:function(t){e.$set(e.filterValues,"search",t)},expression:"filterValues.search"}})]}}]),model:{value:e.filterValues,callback:function(t){e.filterValues=t},expression:"filterValues"}}),e._v(" "),n("Loader",{attrs:{loading:e.loading}},[n("div",{staticClass:"tui-competencyCopyPathwaySelection__body"},[n("CompetencyCrumbtrail",{attrs:{"crumbtrail-data":e.crumbtrailData,"current-level":e.currentLevel,loading:e.loading,searching:e.filterValues.search.length>0},on:{"change-competency-level":function(t){return e.$emit("change-competency-level",t)}}}),e._v(" "),n("div",{ref:"selection-count",staticClass:"tui-competencyCopyPathwaySelection__count",attrs:{tabindex:"-1"}},[e.loading?n("SkeletonContent",{attrs:{"char-length":15,"has-overlay":!0}}):n("span",[e._v("\n          "+e._s(e.$str("competencies","totara_competency",e.totalCompetencies))+"\n        ")])],1),e._v(" "),n("CompetencySelectionTable",{staticClass:"tui-competencyCopyPathwaySelection__list",attrs:{competencies:e.competencies.items,loading:e.loading,"selected-competencies":e.selectedCompetencies,"source-competency-id":e.sourceCompetencyId},on:{"change-competency-level":function(t){return e.$emit("change-competency-level",t)},update:function(t){return e.$emit("update",t)}}}),e._v(" "),n("div",{staticClass:"tui-competencyCopyPathwaySelection__paging"},[e.totalCompetencies>=e.pageLimit?n("Paging",{attrs:{"has-loading-overlay":!0,"items-per-page":e.pageLimit,loading:e.loading,page:e.currentPage,"total-items":e.totalCompetencies},on:{"count-change":e.setItemsPerPage,"page-change":e.setPaginationPage}}):e._e()],1)],1)])],1)}),[],!1,null,null,null);f(b),b.options.__hasBlocks={script:!0,template:!0};const C=b.exports},TiXw:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});const i=tui.require("totara_competency/components/details/ActivityLogTable");var a=n.n(i),s=n("ebfP"),r=n.n(s),o=n("YQTe"),c=n.n(o),l=n("RwCy"),d=n.n(l);const m={components:{ActivityLogTable:a(),FilterBar:r(),Loader:c(),SelectFilter:d()},props:{userId:{required:!0,type:Number},competencyId:{required:!0,type:Number}},data:function(){return{log:[],assignments:[],assignmentFilter:0}},apollo:{log:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_activity_log"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_activity_log_filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_activity_log"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"date"},name:{kind:"Name",value:"timestamp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATELONG"}}],directives:[]},{kind:"Field",alias:{kind:"Name",value:"datetime"},name:{kind:"Name",value:"timestamp"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATETIMELONG"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient_status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignment_action"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]},variables(){return{user_id:this.userId,competency_id:this.competencyId,filters:this.selectedFilter}},update({totara_competency_activity_log:e}){return this.assignments=this.refreshAssignmentList(e),e}}},computed:{selectedFilter(){return this.assignmentFilter?{assignment_id:this.assignmentFilter}:{}}},methods:{refreshAssignmentList(e){let t={};return e.forEach((e=>{null!=e.assignment&&(t[e.assignment.id]={id:e.assignment.id,label:this.getFilterLabel(e)})})),t=Object.values(t),t.length>=this.assignments.length?(t.unshift({label:this.$str("all","core"),id:0}),t):this.assignments},getFilterLabel(e){let t=e.assignment.progress_name;if(this.isDirectlyAssigned(e.assignment)){let n={progress_name:e.assignment.progress_name,user_fullname_role:e.assignment.reason_assigned};t=this.$str("progress_name_by_user","totara_competency",n)}return t},isDirectlyAssigned:e=>"user"===e.user_group_type&&("admin"===e.type||"other"===e.type)}},u=function(e){e.options.__langStrings={core:["all"],totara_competency:["activity_log","activity_log_filter","assignment","progress_name_by_user"]}};var p=(0,n("wWJ2").Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailActivityLog"},[n("h4",{staticClass:"tui-competencyDetailActivityLog__title"},[e._v("\n    "+e._s(e.$str("activity_log","totara_competency"))+"\n  ")]),e._v(" "),e.assignments.length>1?n("FilterBar",{attrs:{title:e.$str("activity_log_filter","totara_competency")},scopedSlots:e._u([{key:"filters-left",fn:function(){return[n("SelectFilter",{attrs:{label:e.$str("assignment","totara_competency"),name:"activity_log_select",options:e.assignments,"show-label":!0,stacked:!1},model:{value:e.assignmentFilter,callback:function(t){e.assignmentFilter=t},expression:"assignmentFilter"}})]},proxy:!0}],null,!1,3296399798)}):e._e(),e._v(" "),n("Loader",{attrs:{loading:e.$apollo.loading}},[n("ActivityLogTable",{attrs:{log:e.log}})],1)],1)}),[],!1,null,null,null);u(p),p.options.__hasBlocks={script:!0,template:!0};const _=p.exports},tL1g:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>f});const i=tui.require("tui/components/icons/AddUser");var a=n.n(i),s=n("RJ4J"),r=n.n(s),o=n("Lo/q"),c=n.n(o),l=n("EHV6"),d=n.n(l),m=n("K1P0"),u=n.n(m);const p=tui.require("tui/components/icons/RemoveUser");var _=n.n(p),v=n("BDBh"),y=n.n(v);const g={components:{AddUserIcon:a(),Cell:r(),HeaderCell:c(),Popover:d(),ProficientStatus:u(),RemoveUserIcon:_(),Table:y()},props:{log:{type:Array}},methods:{showProgressName:e=>null!=e.assignment&&!["tracking_started","tracking_ended"].includes(e.assignment_action)}},h=function(e){e.options.__langStrings={core:["date","description"],totara_competency:["activity_log_comment","assignment","proficiency_status","progress_name_by_user"]}};var k=(0,n("wWJ2").Z)(g,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{staticClass:"tui-competencyDetailActivityLogTable",attrs:{data:e.log},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("date","core"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"8"}},[e._v("\n      "+e._s(e.$str("description","core"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("proficiency_status","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("assignment","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return t.expand,[n("Cell",{attrs:{size:"2","column-header":e.$str("date","core")}},[n("Popover",{attrs:{triggers:["hover"]},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("span",{staticClass:"tui-competencyDetailActivityLogTable__date"},[e._v("\n            "+e._s(i.date)+"\n          ")])]},proxy:!0}],null,!0)},[e._v(" "),n("div",[e._v(e._s(i.datetime))])])],1),e._v(" "),n("Cell",{staticClass:"tui-competencyDetailActivityLogTable__description",attrs:{size:"8","column-header":e.$str("description","core")}},["assigned"===i.assignment_action?n("AddUserIcon",{attrs:{size:"200"}}):e._e(),e._v(" "),"unassigned_archived"===i.assignment_action||"unassigned_usergroup"===i.assignment_action?n("RemoveUserIcon",{attrs:{size:"200"}}):e._e(),e._v(" "),n("span",{class:{"tui-competencyDetailActivityLogTable__description-rating":null!=i.proficient_status,"tui-competencyDetailActivityLogTable__description-system":i.assignment&&"system"===i.assignment.type,"tui-competencyDetailActivityLogTable__description-tracking":i.assignment_action&&("tracking_started"===i.assignment_action||"tracking_ended"===i.assignment_action)}},[e._v("\n        "+e._s(i.description)+"\n      ")]),e._v(" "),i.comment?n("div",[n("span",[e._v(e._s(e.$str("activity_log_comment","totara_competency")))]),e._v("\n        "+e._s(i.comment)+"\n      ")]):e._e()],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("proficiency_status","totara_competency")}},[null!=i.proficient_status?n("ProficientStatus",{attrs:{"proficient-status":i.proficient_status}}):e._e()],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("assignment","totara_competency")}},[e.showProgressName(i)?n("span",[e._v("\n        "+e._s(i.assignment.progress_name)+"\n      ")]):e._e()])]}}])})}),[],!1,null,null,null);h(k),k.options.__hasBlocks={script:!0,template:!0};const f=k.exports},O8Xe:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});const i=tui.require("totara_competency/components/details/ArchivedAssignmentsTable");var a=n.n(i),s=n("YQTe"),r=n.n(s),o=n("wh/s"),c=n("fgIz");const l={components:{ArchivedAssignmentsTable:a(),Loader:r()},props:{userId:{required:!0,type:Number},competencyId:{required:!0,type:Number}},data:function(){return{data:{competency:{},items:[]}}},apollo:{data:{query:c.Z,fetchPolicy:"network-only",variables(){return{user_id:this.userId,competency_id:this.competencyId,status:o.ASSIGNMENT_ARCHIVED}},update:({totara_competency_profile_competency_details:{competency:e,items:t}})=>({competency:e,items:t})}},computed:{archivedAssignmentList(){let e=[];return e=this.data.items.map((function(e){let t=null;return t=e.assignment.archived_at?e.assignment.archived_at:e.assignment.unassigned_at,{name:e.assignment.progress_name,archivedAt:t,legacy:"legacy"===e.assignment.type,proficient:e.my_value.proficient}})),e}}},d=function(e){e.options.__langStrings={totara_competency:["archived_assignments"]}};var m=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailArchivedAssignments"},[n("h4",{staticClass:"tui-competencyDetailArchivedAssignments__title"},[e._v("\n    "+e._s(e.$str("archived_assignments","totara_competency"))+"\n  ")]),e._v(" "),n("Loader",{attrs:{loading:e.$apollo.loading}},[n("ArchivedAssignmentsTable",{attrs:{assignments:e.archivedAssignmentList}})],1)],1)}),[],!1,null,null,null);d(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},"+SfS":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n("RJ4J"),a=n.n(i),s=n("Lo/q"),r=n.n(s),o=n("gu2O"),c=n.n(o),l=n("K1P0"),d=n.n(l),m=n("BDBh"),u=n.n(m);const p={components:{Cell:a(),HeaderCell:r(),InfoIconButton:c(),ProficientStatus:d(),Table:u()},props:{assignments:{type:Array}}},_=function(e){e.options.__langStrings={totara_competency:["assignment","assignment_date_archived","legacy_assignment_rating_description","legacy_assignment_rating_discontinued","proficiency_status"]}};var v=(0,n("wWJ2").Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{staticClass:"tui-competencyDetailArchivedAssignmentsTable",attrs:{data:e.assignments},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"6"}},[e._v("\n      "+e._s(e.$str("assignment","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("assignment_date_archived","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("proficiency_status","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return t.expand,[n("Cell",{attrs:{size:"6","column-header":e.$str("assignment","totara_competency")}},[e._v("\n      "+e._s(i.name)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("assignment_date_archived","totara_competency")}},[e._v("\n      "+e._s(i.archivedAt)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("proficiency_status","totara_competency")}},[n("div",{staticClass:"tui-competencyDetailArchivedAssignmentsTable__achievement"},[n("ProficientStatus",{attrs:{"proficient-status":i.proficient}}),e._v(" "),i.legacy?n("InfoIconButton",{attrs:{"is-help-for":e.$str("proficiency_status","totara_competency")}},[n("h4",{staticClass:"tui-competencyDetailArchivedAssignmentsTable__discontinued"},[e._v("\n            "+e._s(e.$str("legacy_assignment_rating_discontinued","totara_competency"))+"\n          ")]),e._v("\n          "+e._s(e.$str("legacy_assignment_rating_description","totara_competency"))+"\n        ")]):e._e()],1)])]}}])})}),[],!1,null,null,null);_(v),v.options.__hasBlocks={script:!0,template:!0};const y=v.exports},Q05d:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});const i=tui.require("tui/components/icons/Archive");var a=n.n(i),s=n("1+j7"),r=n.n(s),o=n("3Uz/"),c=n.n(o),l=n("z1IF"),d=n.n(l),m=n("5Nvt"),u=n.n(m),p=n("3rFe"),_=n.n(p),v=n("RwCy"),y=n.n(v),g=n("x7Rm");const h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_competency_archive_user_assignment"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_archive_user_assignment"},arguments:[{kind:"Argument",name:{kind:"Name",value:"assignment_id"},value:{kind:"Variable",name:{kind:"Name",value:"assignment_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archived_assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};var k=n("fgIz"),f=n("ALlL");const b={components:{ArchiveIcon:a(),ButtonIcon:r(),ConfirmationModal:c(),Grid:d(),GridItem:u(),SelectFilter:y(),ProgressTrackerNavCircleAchievement:_()},props:{activeAssignmentList:{required:!0,type:Array},selectedAssignmentProficiency:{type:Object},value:{type:Number},competencyId:{required:!0,type:Number},userId:{required:!0,type:Number}},data(){return{selectedAssignment:this.value,showArchiveConfirmation:!1}},computed:{progressStates(){let e=[this.selectedAssignmentProficiencyState];return"complete"!==this.selectedAssignmentProficiencyState&&e.push("target"),e},selectedAssignmentProficiencyState(){return this.selectedAssignmentProficiency.id&&this.selectedAssignmentProficiency.proficient?"achieved":this.selectedAssignmentProficiency.id?"complete":"pending"},showCanArchiveButton(){let e=this.activeAssignmentList.find((e=>e.id===this.selectedAssignment));return e&&e.can_archive}},methods:{selectedAssignmentChange(e){this.$emit("input",e)},showArchiveConfirmDialog(){this.showArchiveConfirmation=!0},async makeArchiveAssignmentMutation(){let{assignment_id:e}=this.activeAssignmentList.find((e=>e.id===this.value));try{await this.$apollo.mutate({mutation:h,variables:{assignment_id:e},refetchQueries:[{query:k.Z,variables:{user_id:this.userId,competency_id:this.competencyId,status:f.ASSIGNMENT_ACTIVE}}],refetchAll:!1}),(0,g.notify)({type:"success",message:this.$str("event_assignment_archived","totara_competency")}),this.selectedAssignment=0}finally{this.showArchiveConfirmation=!1}}}},C=function(e){e.options.__langStrings={totara_competency:["achievement_level","action_archive_this","action_archive_user_modal_header","action_archive_user_assignment_modal","assignment","confirm_generic","error_generic_mutation","event_assignment_archived","more_information","not_proficient","proficient"]}};var S=(0,n("wWJ2").Z)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailAssignment"},[n("div",{staticClass:"tui-competencyDetailAssignment__bar"},[n("Grid",{attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:4}},[n("SelectFilter",{staticClass:"tui-competencyDetailAssignment__bar-filter",attrs:{label:e.$str("assignment","totara_competency"),name:"select_assignment",large:!0,options:e.activeAssignmentList},on:{input:e.selectedAssignmentChange},model:{value:e.selectedAssignment,callback:function(t){e.selectedAssignment=t},expression:"selectedAssignment"}})],1),e._v(" "),n("GridItem",{class:"tui-competencyDetailAssignment__level",attrs:{units:4}},[n("div",{staticClass:"tui-competencyDetailAssignment__level-wrap",class:"tui-competencyDetailAssignment__level-wrap-"+e.selectedAssignmentProficiencyState},[n("p",{staticClass:"tui-competencyDetailAssignment__level-header"},[e._v("\n            "+e._s(e.$str("achievement_level","totara_competency"))+"\n          ")]),e._v(" "),n("div",{staticClass:"tui-competencyDetailAssignment__level-text"},[e._v("\n            "+e._s(e.selectedAssignmentProficiency.name)+"\n          ")])])]),e._v(" "),n("GridItem",{class:"tui-competencyDetailAssignment__status",attrs:{units:4}},[n("ProgressTrackerNavCircleAchievement",{attrs:{states:e.progressStates,"is-interactable":!1,"aria-role":"none"}}),e._v(" "),n("span",{staticClass:"tui-competencyDetailAssignment__status-text",class:{"tui-competencyDetailAssignment__status-text-complete":"complete"===e.selectedAssignmentProficiencyState}},[e._v("\n          "+e._s(e.$str(e.selectedAssignmentProficiency.proficient?"proficient":"not_proficient","totara_competency"))+"\n        ")])],1)],1),e._v(" "),n("ConfirmationModal",{attrs:{title:e.$str("action_archive_user_modal_header","totara_competency"),open:e.showArchiveConfirmation},on:{confirm:e.makeArchiveAssignmentMutation,cancel:function(t){e.showArchiveConfirmation=!1}}},[n("p",[e._v("\n        "+e._s(e.$str("action_archive_user_assignment_modal","totara_competency"))+"\n      ")]),e._v(" "),n("p",[e._v("\n        "+e._s(e.$str("confirm_generic","totara_competency"))+"\n      ")])])],1),e._v(" "),n("div",{staticClass:"tui-competencyDetailAssignment__actions"},[e.showCanArchiveButton?n("ButtonIcon",{attrs:{"aria-label":"",styleclass:{small:!0},text:e.$str("action_archive_this","totara_competency")},on:{click:e.showArchiveConfirmDialog}},[n("ArchiveIcon")],1):e._e()],1)])}),[],!1,null,null,null);C(S),S.options.__hasBlocks={script:!0,template:!0};const N=S.exports},bQOG:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});var i=n("9Ont");const a={components:{ProficientIcon:n.n(i)()},props:{proficientStatus:{type:Boolean,required:!0}}},s=function(e){e.options.__langStrings={totara_competency:["not_proficient","proficient"]}};var r=(0,n("wWJ2").Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("span",{staticClass:"tui-competencyDetailProficientStatus",class:{"tui-competencyDetailProficientStatus-srOnly":!e.proficientStatus}},[e.proficientStatus?n("ProficientIcon",{attrs:{size:"200"}}):e._e(),e._v(" "),n("span",[e._v("\n    "+e._s(e.$str(e.proficientStatus?"proficient":"not_proficient","totara_competency"))+"\n  ")])],1)}),[],!1,null,null,null);s(r),r.options.__hasBlocks={script:!0,template:!0};const o=r.exports},HQLL:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("6R6u"),a=n.n(i);const s=tui.require("tui/components/progresstracker/ProgressTrackerNav");var r=n.n(s);const o={components:{Lozenge:a(),ProgressTracker:r()},props:{myValue:{type:[Number,String]},minValue:{type:[Number,String]},competencyId:{required:!0,type:Number}},data:function(){return{scale:{}}},apollo:{scale:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_scale"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"framework_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_scale"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}},{kind:"Argument",name:{kind:"Name",value:"framework_id"},value:{kind:"Variable",name:{kind:"Name",value:"framework_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaleid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericscore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortorder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}}]},context:{batch:!0},variables(){return{competency_id:this.competencyId}},update({totara_competency_scale:e}){return this.$emit("loaded"),e}}},computed:{minProficientValueId(){return this.minValue?this.minValue:this.scale.values?this.scale.values.find((({proficient:e})=>e)).id:null},formattedForTracker(){return this.scale.values?this.scale.values.map((e=>{let t=this.getItemStates(e),n=this.getItemStateString(t);return{description:e.description,id:e.id,label:e.name,states:t,stateString:n}})):[]}},methods:{getItemStates(e){let t=[],n=parseInt(e.id),i=parseInt(this.minProficientValueId),a=parseInt(this.myValue),s=a<=i;return i&&n<=i&&t.push("target"),n===a&&t.push("current"),a&&n>=a?s?t.push("achieved"):t.push("complete"):t.push("pending"),t},getItemStateString(e){let t;return t=e.includes("pending")?this.$str("completion-n","completion"):e.includes("complete")?this.$str("completion-y","completion"):this.$str("a11y_achievedrequiredgoal","totara_core"),e.includes("target")?this.$str("a11y_achievement_target_with_status","totara_core",t):this.$str("ally_status_with_value","totara_core",t)}}},c=function(e){e.options.__langStrings={totara_competency:["no_description","proficient_level"],completion:["completion-n","completion-y"],totara_core:["a11y_achievedrequiredgoal","ally_status_with_value","a11y_achievement_target_with_status"]}};var l=(0,n("wWJ2").Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyDetailProgress"},[n("ProgressTracker",{attrs:{items:e.formattedForTracker,"popover-trigger-type":["click"],"label-opens-popover":!0},scopedSlots:e._u([{key:"label",fn:function(t){var n=t.entry;return[e._v("\n      "+e._s(n.label)+"\n    ")]}},{key:"custom-popover-content",fn:function(t){var i=t.description,a=t.label,s=t.target;return[n("div",{staticClass:"tui-competencyDetailProgress__popover"},[s?n("div",{staticClass:"tui-competencyDetailProgress__popover-target"},[n("Lozenge",{attrs:{text:e.$str("proficient_level","totara_competency"),type:"success"}})],1):e._e(),e._v(" "),n("h5",{staticClass:"tui-competencyDetailProgress__popover-header"},[e._v("\n          "+e._s(a)+"\n        ")]),e._v(" "),i?n("div",{staticClass:"tui-competencyDetailProgress__popover-body",domProps:{innerHTML:e._s(i)}}):n("div",{staticClass:"tui-competencyDetailProgress__popover-body"},[e._v("\n          "+e._s(e.$str("no_description","totara_competency"))+"\n        ")])])]}}])})],1)}),[],!1,null,null,null);c(l),l.options.__hasBlocks={script:!0,template:!0};const d=l.exports},udV2:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>v});const i=tui.require("tui/components/reform/Field");var a=n.n(i);const s=tui.require("tui/components/uniform"),r=tui.require("tui/components/form/FormRowStack");var o=n.n(r);const c=tui.require("tui/components/form/HelpIcon");var l=n.n(c);const d=tui.require("performelement_linked_review/components/SelectParticipant");var m=n.n(d);const u={components:{Field:a(),FormRowStack:o(),FormCheckbox:s.FormCheckbox,FormRow:s.FormRow,HelpIcon:l(),SelectParticipant:m()},inheritAttrs:!1,props:{relationships:Array}},p=function(e){e.options.__langStrings={totara_competency:["enable_performance_rating","enable_performance_rating_help","enable_performance_rating_participant","enable_performance_rating_participant_help"]}};var _=(0,n("wWJ2").Z)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FormRowStack",{attrs:{spacing:"large"}},[n("FormRow",[n("FormCheckbox",{attrs:{name:"enable_rating"}},[e._v("\n      "+e._s(e.$str("enable_performance_rating","totara_competency"))+"\n      "),n("HelpIcon",{staticClass:"tui-linkedReviewAdminEditCompetency__help",attrs:{"desc-id":e.$id("rating-help"),helpmsg:e.$str("enable_performance_rating_help","totara_competency"),size:"md"}})],1)],1),e._v(" "),n("Field",{attrs:{name:"enable_rating"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.value?n("SelectParticipant",{attrs:{"field-name":"rating_relationship","help-msg":e.$str("enable_performance_rating_participant_help","totara_competency"),label:e.$str("enable_performance_rating_participant","totara_competency"),relationships:e.relationships}}):e._e()]}}])})],1)}),[],!1,null,null,null);p(_),_.options.__hasBlocks={script:!0,template:!0};const v=_.exports},"I/Qu":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const i=tui.require("totara_competency/components/performelement_linked_review/ParticipantContent"),a={components:{ParticipantContent:n.n(i)()},methods:{getPreviewData(){return{competency:{display_name:this.$str("example_competency_title","totara_competency"),description:this.$str("example_competency_description","totara_competency")},assignment:{reason_assigned:this.$str("assignment_reason_self","totara_competency")},achievement:{id:"1",name:this.$str("rating_value","totara_competency",1),proficient:!0},scale_values:[{id:"1",name:this.$str("rating_value","totara_competency",1),proficient:!0},{id:"2",name:this.$str("rating_value","totara_competency",2),proficient:!1},{id:"3",name:this.$str("rating_value","totara_competency",3),proficient:!1}]}}}},s=function(e){e.options.__langStrings={totara_competency:["assignment_reason_self","example_competency_description","example_competency_title","rating_value"]}};var r=(0,n("wWJ2").Z)(a,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("ParticipantContent",{attrs:{content:e.getPreviewData(),preview:!0}})}),[],!1,null,null,null);s(r),r.options.__hasBlocks={script:!0,template:!0};const o=r.exports},"Y/jl":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n("z1IF"),a=n.n(i),s=n("5Nvt"),r=n.n(s),o=n("gu2O"),c=n.n(o),l=n("3rFe"),d=n.n(l),m=n("A+LS"),u=n.n(m);const p={components:{Grid:a(),GridItem:r(),InfoIconButton:c(),ProgressTrackerNavCircleAchievement:d(),RatingScaleOverview:u()},props:{content:{type:Object},createdAt:String,fromPrint:Boolean,isExternalParticipant:Boolean,preview:Boolean,subjectUser:Object},computed:{competencyUrl(){return this.$url("/totara/competency/profile/details/index.php",{competency_id:this.content.competency.id,user_id:this.subjectUser.id})},scale(){return{values:this.content.scale_values}},competencyContentExists(){return this.content&&this.content.competency&&this.content.scale_values&&this.content.achievement&&this.content.assignment},state(){return this.content.achievement.id&&this.content.achievement.proficient?"achieved":this.content.achievement.id?"complete":"pending"},progressStates(){let e=[this.state];return"complete"!==this.state&&e.push("target"),e}}},_=function(e){e.options.__langStrings={totara_competency:["achievement_level","not_proficient","perform_review_competency_missing","proficient","rating_scale","reason_assigned","selected_competency"]}};var v=(0,n("wWJ2").Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.competencyContentExists?n("div",{staticClass:"tui-linkedReviewViewCompetency"},[n("h4",{staticClass:"tui-linkedReviewViewCompetency__title"},[e.fromPrint||e.preview||e.isExternalParticipant?[e._v("\n      "+e._s(e.content.competency.display_name)+"\n    ")]:n("a",{attrs:{href:e.competencyUrl,"aria-label":e.$str("selected_competency","totara_competency",e.content.competency.display_name)}},[e._v("\n      "+e._s(e.content.competency.display_name)+"\n    ")])],2),e._v(" "),n("div",{staticClass:"tui-linkedReviewViewCompetency__description",domProps:{innerHTML:e._s(e.content.competency.description)}}),e._v(" "),n("div",{staticClass:"tui-linkedReviewViewCompetency__overview"},[e.preview?e._e():n("div",{staticClass:"tui-linkedReviewViewCompetency__timestamp"},[e._v("\n      "+e._s(e.createdAt)+"\n    ")]),e._v(" "),n("div",{staticClass:"tui-linkedReviewViewCompetency__bar"},[n("Grid",{attrs:{"stack-at":600}},[n("GridItem",{attrs:{units:3}},[n("p",{staticClass:"tui-linkedReviewViewCompetency__bar-header"},[e._v("\n            "+e._s(e.$str("reason_assigned","totara_competency"))+"\n          ")]),e._v(" "),n("div",{staticClass:"tui-linkedReviewViewCompetency__bar-value"},[e._v("\n            "+e._s(e.content.assignment.reason_assigned)+"\n          ")])]),e._v(" "),n("GridItem",{attrs:{units:5}},[n("div",{staticClass:"tui-linkedReviewViewCompetency__bar-wrap",class:"tui-linkedReviewViewCompetency__bar-wrap-"+e.state},[n("p",{staticClass:"tui-linkedReviewViewCompetency__bar-header"},[e._v("\n              "+e._s(e.$str("achievement_level","totara_competency"))+"\n              "),e.fromPrint?e._e():n("InfoIconButton",{staticClass:"tui-linkedReviewViewCompetency__bar-headerHelp",attrs:{"is-help-for":e.$str("rating_scale","totara_competency")}},[n("RatingScaleOverview",{attrs:{scale:e.scale}})],1)],1),e._v(" "),n("div",{staticClass:"tui-linkedReviewViewCompetency__bar-value"},[e._v("\n              "+e._s(e.content.achievement.name)+"\n            ")])])]),e._v(" "),n("GridItem",{staticClass:"tui-linkedReviewViewCompetency__bar-status",attrs:{units:4}},[n("ProgressTrackerNavCircleAchievement",{attrs:{states:e.progressStates}}),e._v(" "),n("span",{staticClass:"tui-linkedReviewViewCompetency__bar-statusText",class:{"tui-linkedReviewViewCompetency__bar-statusTextComplete":"complete"===e.state}},[e._v("\n            "+e._s(e.content.achievement.proficient?e.$str("proficient","totara_competency"):e.$str("not_proficient","totara_competency"))+"\n          ")])],1)],1)],1)])]):n("div",{staticClass:"tui-linkedReviewViewCompetencyMissing"},[e._v("\n  "+e._s(e.$str("perform_review_competency_missing","totara_competency"))+"\n")])}),[],!1,null,null,null);_(v),v.options.__hasBlocks={script:!0,template:!0};const y=v.exports},"g/mi":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});const i=tui.require("totara_competency/components/adder/AssignedCompetencyAdder");var a=n.n(i);const s=tui.require("performelement_linked_review/components/SelectContent");var r=n.n(s);const o={components:{AssignedCompetencyAdder:a(),SelectContent:r()},props:{canShowAdder:{type:Boolean,required:!0},coreRelationship:Array,isDraft:Boolean,participantInstanceId:{type:[String,Number],required:!0},previewComponent:[Function,Object],required:Boolean,sectionElementId:String,subjectUser:Object,userId:Number},methods:{getAdder:()=>a(),getItemData:e=>({competency:{display_name:e.competency.display_name,description:e.competency.description,id:e.competency.id},assignment:{reason_assigned:e.reason_assigned},achievement:{id:e.my_value.id,name:e.my_value.name,proficient:e.my_value.proficient},scale_values:e.assignment.scale.values})}},c=function(e){e.options.__langStrings={totara_competency:["add_competencies","awaiting_selection_text","remove_competency"]}};var l=(0,n("wWJ2").Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("SelectContent",{attrs:{adder:e.getAdder(),"add-btn-text":e.$str("add_competencies","totara_competency"),"can-show-adder":e.canShowAdder,"cant-add-text":e.$str("awaiting_selection_text","totara_competency",e.coreRelationship[0].name),"is-draft":e.isDraft,"participant-instance-id":e.participantInstanceId,"remove-text":e.$str("remove_competency","totara_competency"),required:e.required,"section-element-id":e.sectionElementId,"user-id":e.userId},on:{"unsaved-plugin-change":function(t){return e.$emit("unsaved-plugin-change",t)},update:function(t){return e.$emit("update",t)}},scopedSlots:e._u([{key:"content-preview",fn:function(t){var i=t.content;return[n(e.previewComponent,{tag:"component",attrs:{content:e.getItemData(i),"subject-user":e.subjectUser}})]}}])})}),[],!1,null,null,null);c(l),l.options.__hasBlocks={script:!0,template:!0};const d=l.exports},ViHs:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});var i=n("z1IF"),a=n.n(i),s=n("5Nvt"),r=n.n(s),o=n("H4QJ"),c=n.n(o);const l=tui.require("totara_competency/components/IndividualAssignmentProgress");var d=n.n(l);const m={components:{Grid:a(),GridItem:r(),Responsive:c(),IndividualAssignmentProgress:d()},props:{data:{required:!0,type:Object},userId:{type:Number,required:!0},isCurrentUser:{type:Boolean,required:!0}}};var u=(0,n("wWJ2").Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Responsive",{attrs:{breakpoints:[{name:"small",boundaries:[0,1330]},{name:null,boundaries:[1331,1331]}]},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.currentBoundaryName;return[e.data.items&&e.data.items.length>0?n("Grid",{attrs:{"stack-at":1329}},e._l(e.data.items,(function(t,a){return n("GridItem",{key:a+t.name+t.overall_progress,attrs:{units:6}},[n("div",{staticClass:"tui-competencyCharts__chart",class:{"tui-competencyCharts__chart--center":"small"==i}},[n("IndividualAssignmentProgress",{attrs:{"assignment-progress":t,"user-id":e.userId,"is-current-user":e.isCurrentUser}})],1)])})),1):e._e()]}}])})}),[],!1,null,null,null);u.options.__hasBlocks={script:!0,template:!0};const p=u.exports},wiKI:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const i=tui.require("totara_competency/components/AssignmentProgress"),a={components:{AssignmentProgress:n.n(i)()},props:{data:{required:!0,type:Array},isCurrentUser:{type:Boolean,required:!0}}},s=function(e){e.options.__langStrings={totara_competency:["no_current_assignments_other","no_current_assignments_self"]}};var r=(0,n("wWJ2").Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyProfileCurrentProgress"},[e.data.length?n("ul",{staticClass:"tui-competencyProfileCurrentProgress__progress"},e._l(e.data,(function(e,t){return n("li",{key:t},[n("AssignmentProgress",{attrs:{progress:e}})],1)})),0):n("div",{staticClass:"tui-competencyProfileCurrentProgress__empty"},[e._v("\n    "+e._s(e.$str(e.isCurrentUser?"no_current_assignments_self":"no_current_assignments_other","totara_competency"))+"\n  ")])])}),[],!1,null,null,null);s(r),r.options.__hasBlocks={script:!0,template:!0};const o=r.exports},RDu7:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>m});var i=n("IpiT"),a=n.n(i),s=n("EHV6"),r=n.n(s),o=n("A+LS"),c=n.n(o);const l={components:{Button:a(),Popover:r(),RatingScaleOverview:c()},props:{value:{required:!0,type:Object},ratingScale:Object,scales:{type:Array,validator:()=>(console.warn('The "scales" prop has been deprecated, please use the "rating-scale" prop instead.'),!0)}},computed:{scale(){return this.scales?this.scales.find((({id:e})=>e===this.value.scale_id)):this.ratingScale}},created(){this.scales||this.ratingScale||console.warn("Either scale or scales prop must be supplied.")}};var d=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.scale?n("Popover",{attrs:{triggers:["click"]},scopedSlots:e._u([{key:"trigger",fn:function(){return[n("Button",{attrs:{styleclass:{reveal:!0},text:e.value.name}})]},proxy:!0}],null,!1,504032633)},[e._v(" "),n("RatingScaleOverview",{attrs:{scale:e.scale,"reverse-values":!0}})],1):e._e()}),[],!1,null,null,null);d.options.__hasBlocks={script:!0,template:!0};const m=d.exports},d9D0:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var i=n("YLyP"),a=n.n(i),s=n("uuy6"),r=n.n(s);const o={components:{ActionLink:a(),NotificationBanner:r()},props:{display:{type:Boolean,default:!0},selfAssignmentUrl:{required:!0,type:String},isMine:Boolean,isAssignEnabled:Boolean}},c=function(e){e.options.__langStrings={totara_competency:["assign_competencies","self_assign_competencies","no_competencies_assigned"]}};var l=(0,n("wWJ2").Z)(o,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.display?n("div",{staticClass:"tui-noCompetencyAssignments"},[n("NotificationBanner",{attrs:{type:"warning",message:e.$str("no_competencies_assigned","totara_competency")}}),e._v(" "),e.isAssignEnabled?n("div",{staticClass:"tui-noCompetencyAssignments__search-competencies"},[n("ActionLink",{attrs:{href:e.selfAssignmentUrl,text:e.isMine?e.$str("self_assign_competencies","totara_competency"):e.$str("assign_competencies","totara_competency"),styleclass:{primary:!0}}})],1):e._e()],1):e._e()}),[],!1,null,null,null);c(l),l.options.__hasBlocks={script:!0,template:!0};const d=l.exports},"7OyT":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n("BDBh"),a=n.n(i),s=n("Lo/q"),r=n.n(s),o=n("RJ4J"),c=n.n(o),l=n("sS5U"),d=n.n(l);const m={components:{Table:a(),HeaderCell:r(),Cell:c(),MyRatingCell:d()},props:{competencies:{required:!0,type:Array},baseUrl:{required:!0,type:String},userId:{required:!0,type:Number},scales:{required:!0,type:Array}},computed:{groupedCompetencyData(){return this.competencies.map((e=>({id:e.competency.id,rows:e.items.map((t=>Object.assign({competency:e.competency},t)))})))}},methods:{competencyDetailsLink(e){const t={competency_id:e.competency.id};return this.isMine||(t.user_id=this.userId),this.$url(`${this.baseUrl}/details/index.php`,t)}}},u=function(e){e.options.__langStrings={core:["no","yes"],totara_competency:["header_competency","header_assignment_reasons","header_archived_date","proficient","achievement_level"]}};var p=(0,n("wWJ2").Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.groupedCompetencyData,"group-mode":!0,archived:!0},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("header_competency","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("header_assignment_reasons","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("header_archived_date","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center"}},[e._v("\n      "+e._s(e.$str("proficient","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("achievement_level","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row,a=t.firstInGroup;return[n("Cell",{attrs:{size:"3","column-header":e.$str("header_competency","totara_competency"),"repeated-header":!a}},[n("a",{attrs:{href:e.competencyDetailsLink(i)}},[e._v(e._s(i.competency.fullname))])]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("header_assignment_reasons","totara_competency")}},[e._v("\n      "+e._s(i.assignment&&i.assignment.progress_name)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("header_archived_date","totara_competency")}},[e._v("\n      "+e._s(i.assignment&&(i.assignment.archived_at||i.assignment.unassigned_at))+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"2",align:"center","column-header":e.$str("proficient","totara_competency")}},[i.proficient?n("CheckIcon",{attrs:{size:"200",alt:e.$str("yes","core")}}):n("span",[n("span",{attrs:{"aria-hidden":!0}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no","core")))])])],1),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("achievement_level","totara_competency")}},[i.my_value?n("MyRatingCell",{attrs:{value:i.my_value,scales:e.scales}}):e._e()],1)]}}])})}),[],!1,null,null,null);u(p),p.options.__hasBlocks={script:!0,template:!0};const _=p.exports},Zqsy:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n("BDBh"),a=n.n(i),s=n("Lo/q"),r=n.n(s),o=n("RJ4J"),c=n.n(o),l=n("9Ont"),d=n.n(l),m=n("sS5U"),u=n.n(m);const p={components:{Table:a(),HeaderCell:r(),Cell:c(),CheckIcon:d(),MyRatingCell:u()},props:{competencies:{required:!0,type:Array},baseUrl:{required:!0,type:String},userId:{required:!0,type:Number},scales:{required:!0,type:Array}},methods:{competencyDetailsLink(e){const t={competency_id:e.competency.id};return this.isMine||(t.user_id=this.userId),this.$url(`${this.baseUrl}/details/index.php`,t)}}},_=function(e){e.options.__langStrings={core:["no","yes"],totara_competency:["achievement_level","header_competency","proficient"]}};var v=(0,n("wWJ2").Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.competencies},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:"10"}},[e._v("\n      "+e._s(e.$str("header_competency","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center"}},[e._v("\n      "+e._s(e.$str("proficient","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"3"}},[e._v("\n      "+e._s(e.$str("achievement_level","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"10","column-header":e.$str("header_competency","totara_competency")}},[n("a",{attrs:{href:e.competencyDetailsLink(i)}},[e._v(e._s(i.competency.fullname))])]),e._v(" "),n("Cell",{attrs:{size:"2",align:"center","column-header":e.$str("proficient","totara_competency")}},[i.items[0].my_value&&i.items[0].my_value.proficient?n("CheckIcon",{attrs:{size:"200",alt:e.$str("yes","core")}}):n("span",[n("span",{attrs:{"aria-hidden":!0}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no","core")))])])],1),e._v(" "),n("Cell",{attrs:{size:"3","column-header":e.$str("achievement_level","totara_competency")}},[i.items[0].my_value?n("MyRatingCell",{attrs:{value:i.items[0].my_value,scales:e.scales}}):e._e()],1)]}}])})}),[],!1,null,null,null);_(v),v.options.__hasBlocks={script:!0,template:!0};const y=v.exports},"6vfc":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("ebfP"),a=n.n(i),s=n("RwCy"),r=n.n(s),o=n("FR0q"),c=n.n(o);const l={components:{FilterBar:a(),SelectFilter:r(),SearchFilter:c()},props:{isForArchived:{required:!0,type:Boolean},defaultFilterValues:{type:Object,default:()=>({search:"",proficient:null})},defaultOrder:{required:!1,type:String,default:"alphabetical"}},data(){return{filters:{search:this.defaultFilterValues.search,proficient:this.defaultFilterValues.proficient},order:this.defaultOrder}},computed:{proficientOptions(){return[{id:null,label:this.$str("all","totara_competency")},{id:!0,label:this.$str("proficient","totara_competency")},{id:!1,label:this.$str("not_proficient","totara_competency")}]},orderOptions(){return[{id:"alphabetical",label:this.$str("sort_alphabetical","totara_competency")},!this.isForArchived&&{id:"recently-assigned",label:this.$str("sort_recently_assigned","totara_competency")},this.isForArchived&&{id:"recently-archived",label:this.$str("sort_recently_archived","totara_competency")}].filter(Boolean)}},methods:{filtersUpdated(){this.$emit("filters-updated",this.filters)},orderUpdated(){this.$emit("order-updated",this.order)}}},d=function(e){e.options.__langStrings={admin:["filters"],core:["search","sortby"],totara_competency:["proficient","not_proficient","all","sort_alphabetical","sort_recently_archived","sort_recently_assigned","proficiency_status","filter_competencies"]}};var m=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("FilterBar",{staticClass:"tui-competencyProfileListFilters",attrs:{title:e.$str("filter_competencies","totara_competency")},scopedSlots:e._u([{key:"filters-left",fn:function(t){var i=t.stacked;return[e.isForArchived?e._e():n("SelectFilter",{attrs:{label:e.$str("proficiency_status","totara_competency"),"show-label":"",options:e.proficientOptions,stacked:i},on:{input:e.filtersUpdated},model:{value:e.filters.proficient,callback:function(t){e.$set(e.filters,"proficient",t)},expression:"filters.proficient"}}),e._v(" "),n("SearchFilter",{attrs:{label:e.$str("search","core"),stacked:i},on:{input:e.filtersUpdated},model:{value:e.filters.search,callback:function(t){e.$set(e.filters,"search",t)},expression:"filters.search"}})]}},{key:"filters-right",fn:function(t){var i=t.stacked;return[n("SelectFilter",{attrs:{label:e.$str("sortby","core"),"show-label":"",stacked:i,options:e.orderOptions},on:{input:e.orderUpdated},model:{value:e.order,callback:function(t){e.order=t},expression:"order"}})]}}]),model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}})}),[],!1,null,null,null);d(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},"0VwY":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("YQTe"),a=n.n(i);const s=tui.require("totara_competency/components/profile/competency_list/Filters");var r=n.n(s);const o=tui.require("totara_competency/components/profile/competency_list/ListBody");var c=n.n(o),l=n("U0bO");const d={components:{Loader:a(),ListBody:c(),Filters:r()},props:{filters:{required:!1,type:Object,default:()=>({})},userId:{required:!0,type:Number},baseUrl:{required:!0,type:String},isMine:{required:!0,type:Boolean}},data:()=>({competencies:[],order:"alphabetical",proficientFilter:null,searchFilter:""}),computed:{selectedFilters(){const e={search:this.searchFilter,proficient:this.filteringToArchived?null:this.proficientFilter};return Object.assign(e,(0,l.pick)(this.filters,["status","type","user_group_id","user_group_type"]))},filteringToArchived(){return this.filters&&2===this.filters.status},groupedCompetencyData(){return this.competencies.map((e=>({id:e.competency.id,rows:e.items.map((t=>Object.assign({competency:e.competency,link:this.competencyDetailsLink(e)},t)))})))}},apollo:{competencies:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_competency_progress_for_user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_profile_assignment_filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_profile_competency_progress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"assignment"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"archived_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_assigned"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"unassigned_at"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"DATE"}},{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignment_specific_scale"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"defaultid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"values"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaleid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"numericscore"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortorder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scale_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}}]}}]}}]}}]},variables(){return this.filteringToArchived?"recently-assigned"===this.order&&(this.order="alphabetical"):"recently-archived"===this.order&&(this.order="alphabetical"),{user_id:this.userId,order:this.order,filters:this.selectedFilters}},update:({totara_competency_profile_competency_progress:e})=>e}},methods:{filtersUpdated({search:e,proficient:t}){this.searchFilter=e,this.proficientFilter=t},orderUpdated(e){this.order=e}}};var m=(0,n("wWJ2").Z)(d,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Loader",{attrs:{loading:e.$apollo.loading}},[n("Filters",{attrs:{"is-for-archived":e.filteringToArchived,"default-order":e.order,"default-filter-values":{proficient:e.proficientFilter,search:e.searchFilter}},on:{"filters-updated":e.filtersUpdated,"order-updated":e.orderUpdated}}),e._v(" "),n("ListBody",{attrs:{archived:e.filteringToArchived,competencies:e.competencies,"base-url":e.baseUrl,"user-id":e.userId,"is-mine":e.isMine}})],1)],1)}),[],!1,null,null,null);m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},v9nv:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});var i=n("RJ4J"),a=n.n(i),s=n("Lo/q"),r=n.n(s),o=n("sS5U"),c=n.n(o),l=n("9Ont"),d=n.n(l),m=n("BDBh"),u=n.n(m);const p={components:{Cell:a(),HeaderCell:r(),MyRatingCell:c(),CheckSuccess:d(),Table:u()},props:{competencies:{required:!0,type:Array},isMine:{required:!0,type:Boolean},archived:{required:!0,type:Boolean},baseUrl:{required:!0,type:String},userId:{required:!0,type:Number}},computed:{groupedCompetencyData(){return this.competencies.map((e=>({id:e.competency.id,rows:e.items.map((t=>Object.assign({competency:e.competency},t)))})))},nameCellSize(){return this.archived?"3":"5"}},methods:{competencyDetailsLink(e){const t={competency_id:e.competency.id};return this.isMine||(t.user_id=this.userId),this.$url(`${this.baseUrl}/details/index.php`,t)}}},_=function(e){e.options.__langStrings={core:["no","yes"],totara_competency:["header_competency","header_reason_assigned","header_archived_date","proficient","achievement_level"]}};var v=(0,n("wWJ2").Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Table",{attrs:{data:e.groupedCompetencyData,"group-mode":"",archived:e.archived},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("HeaderCell",{attrs:{size:e.nameCellSize}},[e._v("\n      "+e._s(e.$str("header_competency","totara_competency"))+"\n    ")]),e._v(" "),e.archived?n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("header_archived_date","totara_competency"))+"\n    ")]):e._e(),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("header_reason_assigned","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2",align:"center"}},[e._v("\n      "+e._s(e.$str("proficient","totara_competency"))+"\n    ")]),e._v(" "),n("HeaderCell",{attrs:{size:"2"}},[e._v("\n      "+e._s(e.$str("achievement_level","totara_competency"))+"\n    ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row,a=t.firstInGroup;return[n("Cell",{attrs:{size:e.nameCellSize,"column-header":e.$str("header_competency","totara_competency"),"repeated-header":!a}},[n("a",{attrs:{href:e.competencyDetailsLink(i)}},[e._v(e._s(i.competency.fullname))])]),e._v(" "),e.archived?n("Cell",{attrs:{size:"2","column-header":e.$str("header_archived_date","totara_competency")}},[e._v("\n      "+e._s(i.assignment&&i.assignment.archived_at)+"\n    ")]):e._e(),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("header_reason_assigned","totara_competency")}},[e._v("\n      "+e._s(i.assignment&&i.assignment.progress_name)+"\n    ")]),e._v(" "),n("Cell",{attrs:{size:"2",align:"center","column-header":e.$str("proficient","totara_competency")}},[i.my_value&&i.my_value.proficient?n("CheckSuccess",{attrs:{size:"200",alt:e.$str("yes","core")}}):n("span",[n("span",{attrs:{"aria-hidden":"true"}},[e._v("-")]),e._v(" "),n("span",{staticClass:"sr-only"},[e._v(e._s(e.$str("no","core")))])])],1),e._v(" "),n("Cell",{attrs:{size:"2","column-header":e.$str("achievement_level","totara_competency")}},[i.my_value?n("MyRatingCell",{attrs:{value:i.my_value,"rating-scale":i.assignment.assignment_specific_scale}}):e._e()],1)]}}])})}),[],!1,null,null,null);_(v),v.options.__hasBlocks={script:!0,template:!0};const y=v.exports},"8QtI":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>$});var i=n("1+j7"),a=n.n(i),s=n("ifSE"),r=n.n(s);const o=tui.require("tui/components/icons/Copy");var c=n.n(o);const l=tui.require("totara_competency/components/summary/AchievementConfigurationCriteria");var d=n.n(l),m=n("z1IF"),u=n.n(m),p=n("5Nvt"),_=n.n(p);const v=tui.require("tui/components/modal/InformationModal");var y=n.n(v),g=n("E0wt"),h=n.n(g),k=n("Y3ei"),f=n.n(k),b=n("/apQ"),C=n.n(b),S=n("Lt59"),N=n.n(S);const w={components:{ButtonIcon:a(),Card:r(),CopyIcon:c(),Criteria:d(),Grid:u(),GridItem:_(),InformationModal:y(),OrBox:h(),SectionHeader:f(),Separator:C(),WarningIcon:N()},props:{competencyId:{type:Number},copyUrl:{type:String}},data:()=>({editUrl:"",noAchievementPathsModalOpen:!1,paths:[]}),computed:{hasPathways(){return!this.$apollo.loading&&this.achievementConfiguration.paths&&this.achievementConfiguration.paths.length>0},pathGroups(){let e=[],t=null,n=this.paths,i=[];for(let a in n){let s=Object.assign({},n[a]);if(s.multiCriteria=s.criteria_summary.length>1,"MULTIVALUE"===s.classification)t?e.push({key:"group-"+a,scaleValues:[{value:this.$str("any_scale_value","totara_competency"),paths:[s]}]}):i.push({key:"group-"+a,scaleValues:[{value:this.$str("any_scale_value","totara_competency"),paths:[s]}]});else{t||(t={key:"group-"+a,scaleValues:[]});let e=t.scaleValues.findIndex((e=>e.value===s.scale_value));-1===e&&(e=t.scaleValues.length,t.scaleValues.push({value:s.scale_value,paths:[]})),t.scaleValues[e].paths.push(s)}}return t?[].concat(i,t,e):i}},apollo:{achievementConfiguration:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_achievement_criteria"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"summarized"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_achievement_criteria"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"competency_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overall_aggregation"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"aggregation_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"paths"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pathway_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sortorder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"classification"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"criteria_summary"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"summarized"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"item_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item_aggregation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]},variables(){return{competency_id:this.competencyId,summarized:!0}},update({totara_competency_achievement_criteria:e}){return this.editUrl=this.$url("/totara/competency/competency_edit.php",{s:"achievement_paths",id:this.competencyId}),this.paths=e.paths,e}}},methods:{copyPath(){this.hasPathways?this.redirectToCopyPath():this.noAchievementPathsModalOpen=!0},redirectToCopyPath(){const e=this.$url(this.copyUrl,{id:this.competencyId});window.location=e}}},A=function(e){e.options.__langStrings={totara_competency:["achievement_paths","cannot_copy_achievement_path","cannot_copy_achievement_path_details","copy_to_other_competency","overall_rating_calc","any_scale_value","no_paths"]}};var F=(0,n("wWJ2").Z)(w,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySummaryAchievementConfiguration"},[n("SectionHeader",{attrs:{"edit-url":e.editUrl,title:e.$str("achievement_paths","totara_competency")},scopedSlots:e._u([{key:"custom-actions",fn:function(){return[n("ButtonIcon",{attrs:{"aria-label":e.$str("copy_to_other_competency","totara_competency"),styleclass:{transparentNoPadding:!0}},on:{click:e.copyPath}},[n("CopyIcon")],1)]},proxy:!0}])}),e._v(" "),e.hasPathways?[n("div",{staticClass:"tui-competencySummaryAchievementConfiguration__aggregation"},[n("span",{staticClass:"tui-competencySummaryAchievementConfiguration__aggregation-label"},[e._v("\n        "+e._s(e.$str("overall_rating_calc","totara_competency"))+"\n      ")]),e._v("\n\n      "+e._s(e.achievementConfiguration.overall_aggregation.title)+"\n    ")]),e._v(" "),e._l(e.pathGroups,(function(t,i){return n("Card",{key:"pathGroup"+i},[n("div",{staticClass:"tui-competencySummaryAchievementConfiguration__pathGroup"},e._l(t.scaleValues,(function(t,i){return n("Grid",{key:"scaleValue"+i,staticClass:"tui-competencySummaryAchievementConfiguration__scaleValue",attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:2}},[n("h4",{staticClass:"tui-competencySummaryAchievementConfiguration__scaleValue-header"},[e._v("\n              "+e._s(t.value)+"\n            ")])]),e._v(" "),n("GridItem",{attrs:{units:10}},e._l(t.paths,(function(t,i){return n("div",{key:t.id},[i?n("Separator",{staticClass:"tui-competencySummaryAchievementConfiguration__scaleValue-or"},[n("OrBox")],1):e._e(),e._v(" "),n("Criteria",{attrs:{path:t}})],1)})),0)],1)})),1)])}))]:e.$apollo.loading?e._e():n("div",{staticClass:"tui-competencySummaryAchievementConfiguration__noPaths"},[n("WarningIcon"),e._v(" "+e._s(e.$str("no_paths","totara_competency"))+"\n  ")],1),e._v(" "),n("InformationModal",{attrs:{open:e.noAchievementPathsModalOpen,title:e.$str("cannot_copy_achievement_path","totara_competency")},on:{close:function(t){e.noAchievementPathsModalOpen=!1}}},[e._v("\n    "+e._s(e.$str("cannot_copy_achievement_path_details","totara_competency"))+"\n  ")])],2)}),[],!1,null,null,null);A(F),F.options.__hasBlocks={script:!0,template:!0};const $=F.exports},T2X7:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>p});const i=tui.require("tui/components/decor/AndBox");var a=n.n(i),s=n("ifSE"),r=n.n(s),o=n("/apQ"),c=n.n(o),l=n("Lt59"),d=n.n(l);const m={components:{AndBox:a(),Card:r(),Separator:c(),WarningIcon:d()},props:{path:{type:Object}}};var u=(0,n("wWJ2").Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Card",{attrs:{"no-border":!e.path.multiCriteria}},[n("div",{staticClass:"tui-competencySummaryAchievementCriteria",class:{"tui-competencySummaryAchievementCriteria--multi":e.path.multiCriteria}},[e._l(e.path.criteria_summary,(function(t,i){return[i?n("Separator",{key:i+"and",staticClass:"tui-competencySummaryAchievementCriteria__and"},[n("AndBox")],1):e._e(),e._v(" "),n("div",{key:i,staticClass:"tui-competencySummaryAchievementCriteria__criterion"},[n("div",[n("h5",{staticClass:"tui-competencySummaryAchievementCriteria__criterion-header"},[e._v("\n            "+e._s(t.item_type)+"\n          ")]),e._v(" "),t.item_aggregation?n("span",{staticClass:"tui-competencySummaryAchievementCriteria__criterion-aggregation"},[e._v("\n            ("+e._s(t.item_aggregation)+")\n          ")]):e._e()]),e._v(" "),n("div",{staticClass:"tui-competencySummaryAchievementCriteria__criterion-items"},e._l(t.items,(function(t,i){return n("div",{key:i},[e._v("\n            "+e._s(t.description)+"\n            "),t.error?n("span",{staticClass:"tui-competencySummaryAchievementCriteria__warning"},[n("WarningIcon",{attrs:{size:200}}),e._v("\n              "+e._s(t.error)+"\n            ")],1):e._e()])})),0)])]}))],2)])}),[],!1,null,null,null);u.options.__hasBlocks={script:!0,template:!0};const p=u.exports},LdhZ:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("RJ4J"),a=n.n(i),s=n("Y3ei"),r=n.n(s),o=n("BDBh"),c=n.n(o);const l={components:{Cell:a(),SectionHeader:r(),Table:c()},props:{competencyId:{type:Number,required:!0}},data:()=>({competency:{},editUrl:""}),computed:{rows(){let e=[{label:this.$str("fullname","totara_competency"),value:this.competency.display_name},{label:this.$str("idnumber","totara_competency"),value:this.competency.idnumber},{label:this.$str("description","totara_competency"),value:this.competency.description},{label:this.$str("type","totara_competency"),value:!!this.competency.type&&this.competency.type.display_name},{label:this.$str("aggregationmethod","totara_hierarchy"),value:this.aggregationMethodName},{label:this.$str("assignment_creation_availability","totara_competency"),values:this.assignAvailabilityNames,value:!1}];return this.competency.display_custom_fields&&this.competency.display_custom_fields.forEach((t=>{e.push({label:t.title,value:t.value})})),e=e.filter((function(e){return e.value||e.values})),e},assignAvailabilityNames(){if(!this.competency.assign_availability||!this.competency.assign_availability.length>0)return!1;let e=[];return this.competency.assign_availability.forEach((t=>{e.push(this.$str(1===t?"competency_assign_availability_self_simple":"competency_assign_availability_other_simple","totara_competency"))})),e},aggregationMethodName(){if(!this.competency.aggregation_method)return!1;let e=1===this.competency.aggregation_method?"all":2===this.competency.aggregation_method?"any":"off";return this.$str(e,"totara_competency")}},apollo:{competency:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_competency"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_competency"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idnumber"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"framework"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assign_availability"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"aggregation_method"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_custom_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}}]},variables(){return{competency_id:this.competencyId}},update({totara_competency_competency:e}){return this.editUrl=this.$url("/totara/hierarchy/item/edit.php",{prefix:"competency",id:e.id}),e}}}},d=function(e){e.options.__langStrings={core:["general"],totara_competency:["all","any","assignment_creation_availability","competency_assign_availability_self_simple","competency_assign_availability_other_simple","description","fullname","idnumber","off","type"],totara_hierarchy:["aggregationmethod"]}};var m=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.$apollo.loading?e._e():n("div",{staticClass:"tui-competencySummaryGeneral"},[n("SectionHeader",{attrs:{"edit-url":e.editUrl,title:e.$str("general","core")}}),e._v(" "),n("Table",{attrs:{data:e.rows,"border-bottom-hidden":!0,"border-top-hidden":!0,"border-separator-hidden":!0,"hover-off":!0},scopedSlots:e._u([{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"6",heavy:!0}},[n("div",{staticClass:"tui-competencySummaryGeneral__list-label",attrs:{role:"rowheader"}},[e._v("\n          "+e._s(i.label)+"\n        ")])]),e._v(" "),n("Cell",{attrs:{size:"10"}},[n("div",{staticClass:"tui-competencySummaryGeneral__list-value",attrs:{role:"cell"}},[i.values?e._l(i.values,(function(t,i){return n("div",{key:"general"+i},[e._v("\n              "+e._s(t)+"\n            ")])})):n("div",{domProps:{innerHTML:e._s(i.value)}})],2)])]}}],null,!1,3145416524)})],1)}),[],!1,null,null,null);d(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},hJ9r:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>o});const i=tui.require("tui/components/icons/Edit"),a={components:{EditIcon:n.n(i)()},props:{editUrl:{type:String,required:!0},title:{type:String,required:!0}}},s=function(e){e.options.__langStrings={core:["edit"]}};var r=(0,n("wWJ2").Z)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySummarySectionHeader"},[n("h3",{staticClass:"tui-competencySummarySectionHeader__title"},[e._v("\n    "+e._s(e.title)+"\n  ")]),e._v(" "),n("div",{staticClass:"tui-competencySummarySectionHeader__actions"},[e._t("custom-actions"),e._v(" "),n("a",{attrs:{href:e.editUrl,title:e.$str("edit","core")}},[n("EditIcon",{attrs:{size:200,alt:e.$str("edit","core")}})],1)],2)])}),[],!1,null,null,null);s(r),r.options.__hasBlocks={script:!0,template:!0};const o=r.exports},GFuV:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>u});var i=n("RJ4J"),a=n.n(i),s=n("Y3ei"),r=n.n(s),o=n("BDBh"),c=n.n(o);const l={components:{Cell:a(),SectionHeader:r(),Table:c()},props:{competencyId:{required:!0,type:Number}},data:function(){return{data:[],editUrl:""}},apollo:{data:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_linked_courses"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_linked_courses"},arguments:[{kind:"Argument",name:{kind:"Name",value:"competency_id"},value:{kind:"Variable",name:{kind:"Name",value:"competency_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"course_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_mandatory"},arguments:[],directives:[]}]}}]}}]},variables(){return{competency_id:this.competencyId}},update({totara_competency_linked_courses:e}){return this.editUrl=this.$url("/totara/competency/competency_edit.php",{s:"linkedcourses",id:this.competencyId}),e}}},methods:{courseUrl(e){return this.$url("/course/view.php",{id:e})}}},d=function(e){e.options.__langStrings={totara_competency:["linked_courses","mandatory","no_courses_linked_yet","optional"]}};var m=(0,n("wWJ2").Z)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyOverviewLinkedCourses"},[n("SectionHeader",{attrs:{"edit-url":e.editUrl,title:e.$str("linked_courses","totara_competency")}}),e._v(" "),n("Table",{attrs:{data:e.data,"border-bottom-hidden":!0,"border-top-hidden":!0,"border-separator-hidden":!0,"hover-off":!0,"no-items-text":e.$str("no_courses_linked_yet","totara_competency")},scopedSlots:e._u([{key:"row",fn:function(t){var i=t.row;return[n("Cell",{attrs:{size:"6",valign:"center"}},[n("a",{attrs:{href:e.courseUrl(i.course_id)}},[e._v("\n          "+e._s(i.fullname)+"\n        ")])]),e._v(" "),n("Cell",{attrs:{size:"10",valign:"center"}},[n("span",[e._v("\n          "+e._s(e.$str(i.is_mandatory?"mandatory":"optional","totara_competency"))+"\n        ")])])]}}])})],1)}),[],!1,null,null,null);d(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},"+kH/":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>_});var i=n("RJ4J"),a=n.n(i);const s=tui.require("tui/components/datatable/ExpandCell");var r=n.n(s),o=n("Lo/q"),c=n.n(o),l=n("hkSA"),d=n.n(l);const m={components:{Cell:a(),ExpandCell:r(),HeaderCell:c(),SelectTable:d()},props:{value:{type:Array,required:!0},competencies:{type:Array,required:!0},totalCompetencyCount:{type:Number,required:!0}},data:()=>({page:0}),methods:{getAssignmentStatus(e){return this.isAssigned(e)?this.$str("currently_assigned","totara_competency"):this.$str("not_assigned","totara_competency")},isAssigned:e=>Boolean(e.user_assignments)&&e.user_assignments.length>0}},u=function(e){e.options.__langStrings={totara_competency:["all","competencies","currently_assigned","description","competencies","header_competency","header_assignment_status","header_assignment_reasons","not_assigned"]}};var p=(0,n("wWJ2").Z)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySelfAssignmentTable"},[n("h3",{staticClass:"tui-competencySelfAssignmentTable__header"},[e._v("\n    "+e._s(e.$str("competencies","totara_competency",e.totalCompetencyCount))+"\n  ")]),e._v(" "),n("SelectTable",{attrs:{value:e.value,data:e.competencies,"expandable-rows":!0,"select-all-enabled":!0,"checkbox-v-align":"center"},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[n("ExpandCell",{attrs:{header:!0}}),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("header_competency","totara_competency"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("header_assignment_status","totara_competency"))+"\n      ")]),e._v(" "),n("HeaderCell",{attrs:{size:"4"}},[e._v("\n        "+e._s(e.$str("header_assignment_reasons","totara_competency"))+"\n      ")])]},proxy:!0},{key:"row",fn:function(t){var i=t.row,a=t.expand,s=t.expandState;return[n("ExpandCell",{attrs:{"aria-label":i.display_name,empty:!i.description,"expand-state":s},on:{click:function(e){return a()}}}),e._v(" "),n("Cell",{attrs:{size:"4","column-header":e.$str("header_competency","totara_competency"),valign:"center"}},[e._v("\n        "+e._s(i.display_name)+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"4","column-header":e.$str("header_assignment_status","totara_competency"),valign:"center"}},[e._v("\n        "+e._s(e.getAssignmentStatus(i))+"\n      ")]),e._v(" "),n("Cell",{attrs:{size:"4","column-header":i.user_assignments.length>0?e.$str("header_assignment_reasons","totara_competency"):"",valign:"center"}},[n("ul",{staticClass:"tui-competencySelfAssignmentTable__reasons"},e._l(i.user_assignments,(function(t){return n("li",{key:t.id},[e._v("\n            "+e._s(t.reason_assigned)+"\n          ")])})),0)])]}},{key:"expand-content",fn:function(t){var i=t.row;return[n("div",{staticClass:"tui-competencySelfAssignmentTable__expand"},[n("h4",{staticClass:"tui-competencySelfAssignmentTable__expand-header"},[e._v("\n          "+e._s(i.display_name)+"\n        ")]),e._v(" "),n("h5",{staticClass:"tui-competencySelfAssignmentTable__expand-subHeader"},[e._v("\n          "+e._s(e.$str("description","totara_competency"))+"\n        ")]),e._v(" "),n("div",{domProps:{innerHTML:e._s(i.description)}})])]}}])})],1)}),[],!1,null,null,null);u(p),p.options.__hasBlocks={script:!0,template:!0};const _=p.exports},qaMA:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});const i=tui.require("totara_competency/components/competency_copy/CompetencyCopyBasket");var a=n.n(i);const s=tui.require("totara_competency/components/competency_copy/CompetencySelection");var r=n.n(s),o=n("3Uz/"),c=n.n(o),l=n("ijCJ"),d=n.n(l),m=n("uuy6"),u=n.n(m),p=n("awut"),_=n.n(p);const v=tui.require("totara_competency/components/competency_copy/CompetencyCopyReviewSelection");var y=n.n(v),g=n("x7Rm");const h=tui.require("tui/dom/form"),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_hierarchy_competencies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_hierarchy_competency_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_hierarchy_competencies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"achievement_path"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"instance_id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"has_children"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"parents"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"current_level"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]},f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_competency_copy_pathway"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_copy_pathway_input"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_copy_pathway"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"copied_count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"need_review_count"},arguments:[],directives:[]}]}}]}}]},b={components:{CompetencyBasket:a(),CompetencySelection:r(),ConfirmationModal:c(),Layout:d(),NotificationBanner:u(),PageBackLink:_(),ReviewSelection:y()},props:{backUrl:{required:!0,type:String},competencyId:{type:Number,required:!0},competencyName:{type:String,required:!0},frameworkId:{type:Number,required:!0},frameworkName:{type:String,required:!0},noPathwaysWarning:{type:Boolean},hasCriteriaPathway:{type:Boolean},copiedCount:{type:Number},needReviewCount:{type:Number}},data:()=>({competencies:{},confirmCopyModalOpen:!1,confirmingCompetencyNoPathTotal:0,confirmingCompetencyTotal:0,copyingPathways:!1,filterValues:{search:"",withoutPaths:!1},noHierarchy:!1,parentCompetencyId:null,refetchingSelectedCompetencies:!1,reviewingCurrentPage:1,reviewingPageLimit:50,reviewingSelectedCompetencies:{items:[],next_cursor:"",total:0},reviewingSelection:!1,selectedCompetencies:[],selectedCompetenciesReview:[],selectingCurrentPage:1,selectingPageLimit:10}),computed:{allSelectedCompetenciesHavePaths(){return 0===this.confirmingCompetencyNoPathTotal},backLinkUrl(){return this.$url(this.backUrl,{id:this.competencyId})},confirmationButtonMessaging(){return this.confirmingCompetencyNoPathTotal===this.confirmingCompetencyTotal?this.$str("continue_copying_paths","totara_competency"):this.$str("replace_all_competency_paths","totara_competency")},someSelectedCompetenciesHavePaths(){return 0!==this.confirmingCompetencyNoPathTotal&&this.confirmingCompetencyNoPathTotal!==this.confirmingCompetencyTotal},lastReviewingCompetenciesPage(){return!this.reviewingSelectedCompetencies.next_cursor.length}},watch:{filterValues:{deep:!0,handler(e){e.search?(this.disableCompetencyHierarchy(),this.parentCompetencyId&&this.resetCompetencyLevel()):this.enableCompetencyHierarchy(),this.setPaginationPage(1)}}},apollo:{competencies:{query:k,skip(){return this.reviewingSelection},variables(){return{input:{filters:{excluded_ids:[],framework_id:this.frameworkId,ids:[],name:this.filterValues.search,no_hierarchy:this.noHierarchy,no_path:this.filterValues.withoutPaths,parent_id:this.parentCompetencyId},pagination:{limit:this.selectingPageLimit,page:this.selectingCurrentPage}}}},update:({totara_hierarchy_competencies:e})=>e},reviewingSelectedCompetencies:{query:k,skip(){return!this.reviewingSelection},variables(){return{input:{filters:{excluded_ids:[this.competencyId],framework_id:this.frameworkId,ids:this.selectedCompetenciesReview,name:"",no_path:!1},pagination:{limit:this.reviewingPageLimit,page:1},order_by:"ACHIEVEMENT_PATH"}}},update:({totara_hierarchy_competencies:e})=>e}},methods:{clearSelectedCompetencies(){this.selectedCompetencies=[]},disableCompetencyHierarchy(){this.noHierarchy=!0},enableCompetencyHierarchy(){this.noHierarchy=!1},async confirmCopyPaths(){this.refetchingSelectedCompetencies=!0;const{data:{totara_hierarchy_competencies:e}}=await this.$apollo.query({query:k,variables:{input:{filters:{excluded_ids:[this.competencyId],framework_id:this.frameworkId,ids:this.selectedCompetencies,name:"",no_path:!0},pagination:{limit:50,page:1}}},fetchPolicy:"no-cache"});this.refetchingSelectedCompetencies=!1,this.confirmingCompetencyNoPathTotal=e.total,this.confirmingCompetencyTotal=this.selectedCompetencies.length,this.confirmCopyModalOpen=!0},async copyPaths(){try{this.copyingPathways=!0;const{data:e}=await this.$apollo.mutate({mutation:f,variables:{input:{allowed_competency_frameworks:[this.frameworkId],source_competency_id:this.competencyId,target_competency_ids:this.selectedCompetencies}},refetchAll:!1}),t=e.totara_competency_copy_pathway;this.copiedCount=t.copied_count,this.needReviewCount=t.need_review_count,t.success?this.redirectToSummaryPage():(this.copyingPathways=!1,t.error&&t.error.message?(0,g.notify)({message:t.error.message,type:"error"}):this.showErrorNotification())}catch(e){this.copyingPathways=!1,this.showErrorNotification()}},redirectToSummaryPage(){(0,h.redirectWithPost)(this.backUrl,{copied_count:this.copiedCount,need_review_count:this.needReviewCount,id:this.competencyId})},resetCompetencyLevel(){this.parentCompetencyId=null},resetFilters(){this.filterValues={search:"",withoutPaths:!1}},resetSearchFilter(){this.filterValues.search=""},resetReviewingSelectedCompetencies(){this.reviewingSelectedCompetencies={items:[],next_cursor:"",total:0}},reviewingLoadMore(){this.setLoadMorePage(this.reviewingCurrentPage+1),this.$apollo.queries.reviewingSelectedCompetencies.fetchMore({variables:{input:{filters:{excluded_ids:[this.competencyId],framework_id:this.frameworkId,ids:this.selectedCompetenciesReview,name:"",no_path:!1},pagination:{limit:this.reviewingPageLimit,page:this.reviewingCurrentPage},order_by:"ACHIEVEMENT_PATH"}},updateQuery:(e,{fetchMoreResult:t})=>(t.totara_hierarchy_competencies.items.unshift(...e.totara_hierarchy_competencies.items),t)})},setCompetencyLevel(e){this.parentCompetencyId=e,this.resetSearchFilter()},setItemsPerPage(e){this.setPaginationPage(1),this.selectingPageLimit=e},setLoadMorePage(e){this.reviewingCurrentPage=e},setPaginationPage(e){this.selectingCurrentPage=e},setSelectedItems(e){this.selectedCompetencies=e},showErrorNotification(){(0,g.notify)({message:this.$str("toast_error_generic_update","totara_competency"),type:"error"})},switchContentView(e){this.reviewingSelection=e,e?(this.selectedCompetenciesReview=this.selectedCompetencies,this.setLoadMorePage(1),this.resetFilters(),this.setPaginationPage(1),this.resetCompetencyLevel()):this.resetReviewingSelectedCompetencies()}}},C=function(e){e.options.__langStrings={totara_competency:["apply_copy_pathways","apply_copy_pathways_confirmation_title","back_to_competency","confirm_copy_path_continue","confirm_copy_path_overwrite_all_middle","confirm_copy_path_overwrite_bottom","confirm_copy_path_overwrite_some_middle","confirm_copy_path_top","continue_copying_paths","copy_achievement_paths_title","criteria_based_content_wont_be_copied","no_pathways_for_copying","replace_all_competency_paths","select_target_competencies","toast_error_generic_update"]}};var S=(0,n("wWJ2").Z)(b,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",{staticClass:"tui-competencyCopyPathway",attrs:{title:e.$str("copy_achievement_paths_title","totara_competency",e.competencyName)},scopedSlots:e._u([{key:"content-nav",fn:function(){return[n("PageBackLink",{attrs:{link:e.backLinkUrl,text:e.$str("back_to_competency","totara_competency",e.competencyName)}})]},proxy:!0},{key:"feedback-banner",fn:function(){return[e.noPathwaysWarning?n("NotificationBanner",{attrs:{"inline-message":!0,message:e.$str("no_pathways_for_copying","totara_competency",{competency:e.backLinkUrl}),type:"error"}}):e.hasCriteriaPathway?n("NotificationBanner",{attrs:{message:e.$str("criteria_based_content_wont_be_copied","totara_competency"),type:"info"}}):e._e()]},proxy:!0},e.noPathwaysWarning?null:{key:"content",fn:function(){return[n("div",{staticClass:"tui-competencyCopyPathway__content"},[n("h3",{staticClass:"tui-competencyCopyPathway__content-heading"},[e._v("\n        "+e._s(e.$str("select_target_competencies","totara_competency"))+"\n      ")]),e._v(" "),n("CompetencyBasket",{attrs:{"loading-confirmation":e.refetchingSelectedCompetencies,"reviewing-selection":e.reviewingSelection,"selected-competencies":e.selectedCompetencies},on:{apply:e.confirmCopyPaths,"clear-selection":e.clearSelectedCompetencies,"reviewing-selection":e.switchContentView}}),e._v(" "),n("div",{staticClass:"tui-competencyCopyPathway__content-body"},[e.reviewingSelection?n("ReviewSelection",{attrs:{competencies:e.reviewingSelectedCompetencies,"last-page":e.lastReviewingCompetenciesPage,loading:e.$apollo.queries.reviewingSelectedCompetencies.loading,"selected-competencies":e.selectedCompetencies},on:{"next-page":e.reviewingLoadMore,update:e.setSelectedItems}}):n("CompetencySelection",{attrs:{competencies:e.competencies,"current-page":e.selectingCurrentPage,"filter-values":e.filterValues,"framework-name":e.frameworkName,loading:e.$apollo.queries.competencies.loading,"page-limit":e.selectingPageLimit,"selected-competencies":e.selectedCompetencies,"source-competency-id":e.competencyId},on:{"change-competency-level":e.setCompetencyLevel,"items-per-page-change":e.setItemsPerPage,"page-change":e.setPaginationPage,update:e.setSelectedItems}})],1)],1)]},proxy:!0},{key:"modals",fn:function(){return[n("ConfirmationModal",{attrs:{"confirm-button-text":e.confirmationButtonMessaging,loading:e.copyingPathways,open:e.confirmCopyModalOpen,title:e.$str("apply_copy_pathways_confirmation_title","totara_competency")},on:{confirm:e.copyPaths,cancel:function(t){e.confirmCopyModalOpen=!1}}},[n("div",{staticClass:"tui-competencyCopyPathway__confirmModal"},[e.someSelectedCompetenciesHavePaths?[n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_top","totara_competency",e.confirmingCompetencyTotal))+"\n          ")]),e._v(" "),n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_overwrite_some_middle","totara_competency",e.confirmingCompetencyTotal-e.confirmingCompetencyNoPathTotal))+"\n          ")]),e._v(" "),n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_overwrite_bottom","totara_competency"))+"\n          ")])]:e.allSelectedCompetenciesHavePaths?[n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_top","totara_competency",e.confirmingCompetencyTotal))+"\n          ")]),e._v(" "),n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_overwrite_all_middle","totara_competency"))+"\n          ")]),e._v(" "),n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_overwrite_bottom","totara_competency"))+"\n          ")])]:[n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_top","totara_competency",e.confirmingCompetencyTotal))+"\n          ")]),e._v(" "),n("div",[e._v("\n            "+e._s(e.$str("confirm_copy_path_continue","totara_competency"))+"\n          ")])]],2)])]},proxy:!0}],null,!0)})}),[],!1,null,null,null);C(S),S.options.__hasBlocks={script:!0,template:!0};const N=S.exports},nAMG:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>M});const i=tui.require("totara_competency/components/achievements/Achievements");var a=n.n(i);const s=tui.require("totara_competency/components/details/ActivityLog");var r=n.n(s);const o=tui.require("totara_competency/components/details/ArchivedAssignments");var c=n.n(o);const l=tui.require("totara_competency/components/details/Assignment");var d=n.n(l),m=n("IpiT"),u=n.n(m),p=n("z1IF"),_=n.n(p),v=n("5Nvt"),y=n.n(v),g=n("ijCJ"),h=n.n(g),k=n("QD8Q"),f=n.n(k);const b=tui.require("tui/components/modal/Modal");var C=n.n(b);const S=tui.require("tui/components/modal/ModalPresenter");var N=n.n(S),w=n("uuy6"),A=n.n(w),F=n("awut"),$=n.n(F);const P=tui.require("totara_competency/components/details/Progress");var x=n.n(P),I=n("x7Rm"),q=n("wh/s"),T=n("fgIz"),V=n("r1hV");const L={components:{Achievements:a(),ActivityLog:r(),ArchivedAssignments:c(),Assignment:d(),Button:u(),Grid:_(),GridItem:y(),Layout:h(),MiniProfileCard:f(),Modal:C(),ModalPresenter:N(),NotificationBanner:A(),PageBackLink:$(),Progress:x()},props:{competencyId:{required:!0,type:Number},goBackLink:{required:!0,type:String},goBackText:{required:!0,type:String},userId:{required:!0,type:Number},isMine:{required:!0,type:Boolean},showActivityLogByDefault:{default:!1,type:Boolean},toastMessage:{type:String},hasPendingAggregation:{type:Boolean}},data:()=>({activityLogModalOpen:!1,archivedAssignmentModalOpen:!1,assignmentFilter:0,data:{competency:null,items:[]},user:null}),apollo:{data:{query:T.Z,variables(){return{user_id:this.userId,competency_id:this.competencyId,status:q.ASSIGNMENT_ACTIVE}},update({totara_competency_profile_competency_details:e}){const t=e;return null===t?{competency:null,items:[]}:{competency:t.competency,items:t.items}}},user:{query:V.Z,variables(){return{user_id:this.userId}},update:e=>e.totara_competency_user,skip(){return this.isMine}}},computed:{selectedAssignment(){return this.data.items.length&&this.data.items[this.assignmentFilter]?this.data.items[this.assignmentFilter]:null},selectedAssignmentData(){return this.selectedAssignment?this.selectedAssignment.assignment:{}},selectedAssignmentProficiency(){return this.selectedAssignment&&this.selectedAssignment.my_value?this.selectedAssignment.my_value:{}},selectedAssignmentMinProficiency(){return this.selectedAssignment&&this.selectedAssignment.min_value?this.selectedAssignment.min_value:{}},selectedAssignmentProficiencyValue(){return this.selectedAssignmentProficiency&&this.selectedAssignmentProficiency.id?this.selectedAssignmentProficiency.id:NaN},selectedAssignmentMinProficiencyValue(){return this.selectedAssignmentMinProficiency&&this.selectedAssignmentMinProficiency.id?this.selectedAssignmentMinProficiency.id:NaN},activeAssignmentList(){let e=[];return e=this.data.items.map(((e,t)=>({archived:e.assignment.archived_at||"legacy"===e.assignment.type,id:t,assignment_id:e.assignment.id,can_archive:e.assignment.can_archive,label:this.getFilterLabel(e)}))).filter((function(e){return!e.archived})),e.length&&this.updateAssignmentFilterValue(e[0].id),e}},mounted(){this.toastMessage&&(0,I.notify)({message:this.toastMessage}),this.activityLogModalOpen=this.showActivityLogByDefault},methods:{openActivityLogModal(){this.activityLogModalOpen=!0},openArchivedAssignmentModal(){this.archivedAssignmentModalOpen=!0},closeActivityLogModal(){this.activityLogModalOpen=!1},closeArchivedAssignmentModal(){this.archivedAssignmentModalOpen=!1},updateAssignmentFilterValue(e){this.assignmentFilter=e},getFilterLabel(e){let t=e.assignment.progress_name;if(this.isDirectlyAssigned(e.assignment)){let n={progress_name:e.assignment.progress_name,user_fullname_role:e.assignment.reason_assigned};t=this.$str("progress_name_by_user","totara_competency",n)}return t},isDirectlyAssigned:e=>"user"===e.user_group_type&&("admin"===e.type||"other"===e.type)}},B=function(e){e.options.__langStrings={totara_competency:["activity_log","archived_assignments","current_assignment_details","competency_does_not_exist","no_active_assignments","warning_pending_aggregation_detail"]}};var D=(0,n("wWJ2").Z)(L,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Layout",{staticClass:"tui-competencyDetail",attrs:{loading:e.$apollo.loading,title:e.data.competency?e.data.competency.fullname:""},scopedSlots:e._u([e.hasPendingAggregation?{key:"feedback-banner",fn:function(){return[n("NotificationBanner",{attrs:{type:"warning",message:e.$str("warning_pending_aggregation_detail","totara_competency")}})]},proxy:!0}:null,e.user&&!e.isMine?{key:"user-overview",fn:function(){return[n("MiniProfileCard",{attrs:{display:e.user.card_display}})]},proxy:!0}:null,{key:"content-nav",fn:function(){return[n("PageBackLink",{attrs:{link:e.goBackLink,text:e.goBackText}})]},proxy:!0},e.data.competency?{key:"content",fn:function(){return[n("div",{staticClass:"tui-competencyDetail__content"},[n("Grid",{attrs:{"stack-at":700}},[n("GridItem",{attrs:{units:7}},[n("div",{staticClass:"tui-competencyDetail__description",domProps:{innerHTML:e._s(e.data.competency.description)}})]),e._v(" "),n("GridItem",{class:"tui-competencyDetail__buttons",attrs:{units:5}},[n("Button",{attrs:{styleclass:{small:!0},text:e.$str("archived_assignments","totara_competency")},on:{click:e.openArchivedAssignmentModal}}),e._v(" "),n("Button",{attrs:{styleclass:{small:!0},text:e.$str("activity_log","totara_competency")},on:{click:e.openActivityLogModal}})],1)],1),e._v(" "),n("div",{staticClass:"tui-competencyDetail__body"},[n("h3",{staticClass:"tui-competencyDetail__body-title"},[e._v("\n          "+e._s(e.$str("current_assignment_details","totara_competency"))+"\n        ")]),e._v(" "),e.activeAssignmentList.length?n("div",[n("Assignment",{attrs:{"active-assignment-list":e.activeAssignmentList,"selected-assignment-proficiency":e.selectedAssignmentProficiency,"competency-id":e.competencyId,"user-id":e.userId},model:{value:e.assignmentFilter,callback:function(t){e.assignmentFilter=t},expression:"assignmentFilter"}}),e._v(" "),n("Progress",{attrs:{"competency-id":e.competencyId,"my-value":e.selectedAssignmentProficiencyValue,"min-value":e.selectedAssignmentMinProficiencyValue}}),e._v(" "),n("Achievements",{attrs:{assignment:e.selectedAssignmentData,"competency-id":e.competencyId,"user-id":e.userId}})],1):n("div",{staticClass:"tui-competencyDetail__body-empty"},[e._v("\n          "+e._s(e.$str("no_active_assignments","totara_competency"))+"\n        ")])])],1)]},proxy:!0}:null,{key:"modals",fn:function(){return[n("ModalPresenter",{attrs:{open:e.activityLogModalOpen},on:{"request-close":e.closeActivityLogModal}},[n("Modal",{attrs:{size:"sheet"}},[n("ActivityLog",{attrs:{"competency-id":e.competencyId,"user-id":e.userId}})],1)],1),e._v(" "),n("ModalPresenter",{attrs:{open:e.archivedAssignmentModalOpen},on:{"request-close":e.closeArchivedAssignmentModal}},[n("Modal",{attrs:{size:"sheet"}},[n("ArchivedAssignments",{attrs:{"competency-id":e.competencyId,"user-id":e.userId}})],1)],1)]},proxy:!0}],null,!0)})}),[],!1,null,null,null);B(D),D.options.__hasBlocks={script:!0,template:!0};const M=D.exports},y95G:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>O});var i=n("YLyP"),a=n.n(i);const s=tui.require("tui/components/icons/BarChart");var r=n.n(s);const o=tui.require("totara_competency/components/profile/CompetencyCharts");var c=n.n(o);const l=tui.require("totara_competency/components/profile/competency_list/List");var d=n.n(l);const m=tui.require("totara_competency/components/profile/CurrentProgress");var u=n.n(m);const p=tui.require("tui/components/icons/List");var _=n.n(p),v=n("YQTe"),y=n.n(v),g=n("QD8Q"),h=n.n(g);const k=tui.require("totara_competency/components/profile/NoCompetencyAssignments");var f=n.n(k),b=n("uuy6"),C=n.n(b),S=n("dyC4"),N=n.n(S);const w=tui.require("totara_competency/components/ProgressAssignmentFilters");var A=n.n(w),F=n("H4QJ"),$=n.n(F);const P=tui.require("tui/components/toggle/ToggleButton");var x=n.n(P);const I=tui.require("tui/components/toggle/ToggleSet");var q=n.n(I),T=n("x7Rm"),V=n("U0bO");var L=n("r1hV");const B={components:{ActionLink:a(),BarChartIcon:r(),CompetencyCharts:c(),CompetencyList:d(),CurrentProgress:u(),ListIcon:_(),Loader:y(),MiniProfileCard:h(),NoCompetencyAssignments:f(),NotificationBanner:C(),PageHeading:N(),ProgressAssignmentFilters:A(),Responsive:$(),ToggleButton:x(),ToggleSet:q()},props:{selfAssignmentUrl:{required:!0,type:String},userId:{required:!0,type:Number},baseUrl:{required:!0,type:String},isMine:{required:!0,type:Boolean},canRateCompetencies:{required:!0,type:Boolean},toastMessage:{type:String},hasPendingAggregation:{type:Boolean},canAssign:Boolean},data(){return{data:{},user:null,activeTab:"charts",selectedFilters:this.$_addFilterKey({status:1,type:null,user_group_id:null,user_group_type:null}),currentProgressData:[]}},apollo:{data:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_progress_for_user"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_profile_assignment_filters"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_profile_progress"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"overall_progress"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"my_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"percentage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"proficient"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"competency"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"filters"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]}]}}]}}]}}]},variables(){return{user_id:this.userId,filters:(0,V.pick)(this.selectedFilters,["status","type","user_group_id","user_group_type"])}},update:e=>e.totara_competency_profile_progress,result({data:{totara_competency_profile_progress:e}}){if(1!=this.selectedFilters.status||this.currentProgressData.length||(this.currentProgressData=e.items.slice(0)),e.filters&&e.filters.length){const t=this.selectedFilters,n=null===t.type&&null===t.user_group_id&&null===t.user_group_type;(n?e.filters.some((e=>e.status==this.selectedFilters.status)):e.filters.some((e=>this.$_filterKey(e)==this.selectedFilters.key)))||(this.selectedFilters=this.$_addFilterKey(n?{status:e.filters[0].status,type:null,user_group_id:null,user_group_type:null}:e.filters[0]))}}},user:{query:L.Z,variables(){return{user_id:this.userId}},update:e=>e.totara_competency_user,skip(){return this.isMine}}},computed:{filterOptions(){return this.data&&this.data.filters?Object.entries((0,V.groupBy)(this.data.filters,(e=>e.status))).map((([e,t])=>{const n=this.$_addFilterKey({status:t[0].status,type:null,user_group_id:null,user_group_type:null});return{id:n.key,name:t[0].status_name,value:n,filters:t.map((e=>{const t=this.$_addFilterKey(this.$_filterValue(e));return{id:t.key,name:e.name,value:t}}))}})):[]},noAssignments(){return!this.$apollo.loading&&!this.filterOptions.length},rateCompetenciesUrl(){return this.canRateCompetencies?this.$url("/totara/competency/rate_competencies.php",{user_id:this.userId}):null}},mounted(){this.toastMessage&&(0,T.notify)({message:this.toastMessage})},methods:{$_filterValue:e=>(0,V.pick)(e,["status","type","user_group_id","user_group_type"]),$_addFilterKey(e){return Object.assign({key:this.$_filterKey(e)},e)},$_filterKey:e=>JSON.stringify([e.status,e.type,e.user_group_id,e.user_group_type])}},D=function(e){e.options.__langStrings={totara_competency:["assign_competencies","competency_profile","current_assignment_progress","header_competencies","self_assign_competencies","toggle_charts","toggle_competency_view_format","toggle_table","warning_pending_aggregation_profile"],pathway_manual:["rate_competencies"]}};var M=(0,n("wWJ2").Z)(B,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencyProfile"},[n("Loader",{attrs:{loading:e.$apollo.loading}},[e.hasPendingAggregation?n("NotificationBanner",{attrs:{type:"warning",message:e.$str("warning_pending_aggregation_profile","totara_competency")}}):e._e(),e._v(" "),n("div",{staticClass:"tui-competencyProfile__header"},[e.user&&!e.isMine?n("MiniProfileCard",{attrs:{display:e.user.card_display}}):e._e(),e._v(" "),n("PageHeading",{attrs:{title:e.$str("competency_profile","totara_competency")}})],1),e._v(" "),e.noAssignments?n("NoCompetencyAssignments",{attrs:{"is-mine":e.isMine,"is-assign-enabled":e.canAssign,"self-assignment-url":e.selfAssignmentUrl}}):n("div",[n("div",{staticClass:"tui-competencyProfile__currentHeading"},[n("h3",{staticClass:"tui-competencyProfile__currentHeading-title"},[e._v("\n          "+e._s(e.$str("current_assignment_progress","totara_competency"))+"\n        ")]),e._v(" "),e.noAssignments?e._e():n("div",{staticClass:"tui-competencyProfile__currentHeading-buttons"},[e.rateCompetenciesUrl?n("ActionLink",{attrs:{href:e.rateCompetenciesUrl,text:e.$str("rate_competencies","pathway_manual")}}):e._e(),e._v(" "),e.canAssign?n("ActionLink",{attrs:{href:e.selfAssignmentUrl,text:e.$str(e.isMine?"self_assign_competencies":"assign_competencies","totara_competency")}}):e._e()],1)]),e._v(" "),n("CurrentProgress",{attrs:{data:e.currentProgressData,"is-current-user":e.isMine}}),e._v(" "),n("Responsive",{staticClass:"tui-competencyProfile__competencies",attrs:{breakpoints:[{name:"small",boundaries:[0,700]},{name:null,boundaries:[701,701]}]},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.currentBoundaryName;return[n("div",{staticClass:"tui-competencyProfile__competencies-content"},[n("h3",{staticClass:"tui-competencyProfile__sectionTitle"},[e._v("\n            "+e._s(e.$str("header_competencies","totara_competency"))+"\n          ")]),e._v(" "),n("div",{staticClass:"tui-competencyProfile__filtersBar"},[n("ProgressAssignmentFilters",{attrs:{filters:e.filterOptions},model:{value:e.selectedFilters,callback:function(t){e.selectedFilters=t},expression:"selectedFilters"}}),e._v(" "),"small"!=i?n("div",{staticClass:"tui-competencyProfile__tabs"},[n("ToggleSet",{attrs:{"aria-label":e.$str("toggle_competency_view_format","totara_competency")},model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[n("ToggleButton",{attrs:{value:"charts","aria-label":e.$str("toggle_charts","totara_competency")}},[n("BarChartIcon")],1),e._v(" "),n("ToggleButton",{attrs:{value:"table","aria-label":e.$str("toggle_table","totara_competency")}},[n("ListIcon")],1)],1)],1):e._e()],1),e._v(" "),"small"!=i&&"charts"===e.activeTab?n("div",[n("CompetencyCharts",{attrs:{data:e.data,"user-id":e.userId,"is-current-user":e.isMine}})],1):e._e(),e._v(" "),"small"==i||"table"===e.activeTab?n("div",[n("CompetencyList",{attrs:{filters:e.selectedFilters,"user-id":e.userId,"is-mine":e.isMine,"base-url":e.baseUrl}})],1):e._e()])]}}])})],1)],1)],1)}),[],!1,null,null,null);D(M),M.options.__hasBlocks={script:!0,template:!0};const O=M.exports},yR6k:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>y});const i=tui.require("totara_competency/components/summary/AchievementConfiguration");var a=n.n(i);const s=tui.require("totara_competency/components/summary/CompetencySummaryGeneral");var r=n.n(s);const o=tui.require("totara_competency/components/summary/LinkedCourses");var c=n.n(o),l=n("uuy6"),d=n.n(l),m=n("dyC4"),u=n.n(m);const p={components:{AchievementConfiguration:a(),General:r(),LinkedCourses:c(),NotificationBanner:d(),PageHeading:u()},props:{competencyId:{type:Number,required:!0},competencyName:{type:String,required:!0},copiedPathsSuccessMessage:{type:String},copyPendingWarningMessage:{type:String},copyAchievementPathUrl:{type:String,required:!0},frameworkId:{type:Number,required:!0},frameworkName:{type:String,required:!0},performEnabled:{type:Boolean,required:!0}},computed:{backLinkUrl(){return this.$url("/totara/hierarchy/index.php",{prefix:"competency",frameworkid:this.frameworkId})}}},_=function(e){e.options.__langStrings={totara_competency:["back_to"],totara_hierarchy:["competency_title"]}};var v=(0,n("wWJ2").Z)(p,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySummary"},[n("div",{staticClass:"tui-competencySummary__header"},[e.copyPendingWarningMessage?n("NotificationBanner",{attrs:{type:"warning",message:e.copyPendingWarningMessage}}):e._e(),e._v(" "),e.copiedPathsSuccessMessage?n("NotificationBanner",{attrs:{type:"success",message:e.copiedPathsSuccessMessage}}):e._e(),e._v(" "),n("a",{staticClass:"tui-competencySummary__header-backLink",attrs:{href:e.backLinkUrl}},[e._v("\n      "+e._s(e.$str("back_to","totara_competency",e.frameworkName))+"\n    ")])],1),e._v(" "),n("div",{staticClass:"tui-competencySummary__content"},[n("PageHeading",{attrs:{title:e.$str("competency_title","totara_hierarchy",{framework:e.frameworkName,fullname:e.competencyName})}}),e._v(" "),n("General",{attrs:{"competency-id":e.competencyId}}),e._v(" "),n("LinkedCourses",{attrs:{"competency-id":e.competencyId}}),e._v(" "),e.performEnabled?n("AchievementConfiguration",{attrs:{"competency-id":e.competencyId,"copy-url":e.copyAchievementPathUrl}}):e._e()],1)])}),[],!1,null,null,null);_(v),v.options.__hasBlocks={script:!0,template:!0};const y=v.exports},"07rg":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>R});var i=n("gmgr"),a=n.n(i),s=n("IpiT"),r=n.n(s),o=n("1+j7"),c=n.n(o);const l=tui.require("tui/components/icons/Clear");var d=n.n(l),m=n("3Uz/"),u=n.n(m);const p={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_competency_create_user_assignments"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"competency_ids"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_create_user_assignments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"competency_ids"},value:{kind:"Variable",name:{kind:"Name",value:"competency_ids"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]},_=tui.require("tui/components/filters/FilterSidePanel");var v=n.n(_),y=n("z1IF"),g=n.n(y),h=n("5Nvt"),k=n.n(h),f=n("YQTe"),b=n.n(f),C=n("QD8Q"),S=n.n(C);const N=tui.require("tui/components/filters/MultiSelectFilter");var w=n.n(N),A=n("dyC4"),F=n.n(A),$=n("FR0q"),P=n.n($),x=n("RwCy"),I=n.n(x);const q=tui.require("totara_competency/components/user_assignment/SelectionTable");var T=n.n(q),V=n("x7Rm");const L={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_competency_user_assignable_competencies"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"user_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"filters"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_self_assigned_competencies_filter"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order_by"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order_dir"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_competency_order_dir"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_competency_user_assignable_competencies"},arguments:[{kind:"Argument",name:{kind:"Name",value:"user_id"},value:{kind:"Variable",name:{kind:"Name",value:"user_id"}}},{kind:"Argument",name:{kind:"Name",value:"filters"},value:{kind:"Variable",name:{kind:"Name",value:"filters"}}},{kind:"Argument",name:{kind:"Name",value:"order_by"},value:{kind:"Variable",name:{kind:"Name",value:"order_by"}}},{kind:"Argument",name:{kind:"Name",value:"order_dir"},value:{kind:"Variable",name:{kind:"Name",value:"order_dir"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_assignments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_group_type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reason_assigned"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]};var B=n("r1hV");const D={components:{Basket:a(),Button:r(),ButtonIcon:c(),ClearIcon:d(),ConfirmationModal:u(),FilterSidePanel:v(),Grid:g(),GridItem:k(),Loader:b(),MiniProfileCard:S(),MultiSelectFilter:w(),PageHeading:F(),SearchFilter:P(),SelectFilter:I(),SelectionTable:T()},props:{basePageHeading:{required:!0,type:String},goBackLink:{required:!0,type:String},goBackText:{required:!0,type:String},frameworks:{required:!0,type:Array},types:{required:!0,type:Array},userId:{required:!0,type:Number},isMine:{required:!0,type:Boolean}},data(){return{allSelected:!1,selectedItems:[],isViewingSelections:!1,isShowingConfirmationModal:!1,isSaving:!1,data:{items:[],total:null,next_cursor:null},frameworkSelection:null,filters:{assignment_status:"",text:"",type:[]},activeFilterCount:0,assignmentStatusesOptions:[{id:"",label:this.$str("any","totara_competency")},{id:1,label:this.$str("currently_assigned","totara_competency")},{id:0,label:this.$str("not_assigned","totara_competency")}],basketActions:[{label:this.$str("assign_competencies","totara_competency"),action:this.showConfirmationModal}],user:null}},computed:{pageHeading(){return this.isViewingSelections?this.$str("view_selected_competencies","totara_competency"):this.basePageHeading},hasLoadedCompetencies(){return this.data&&null!==this.data.total},firstPageQueryVariables(){return{user_id:this.userId,filters:this.filtersForQuery,cursor:null}},subsequentPageQueryVariables(){return{user_id:this.userId,filters:this.filtersForQuery,cursor:this.data.next_cursor}},filtersForQuery(){return Object.assign({},this.filters,{framework:this.frameworkSelection})},hasEmptyResult(){return this.data&&0===this.data.total},isViewingDefaultOptions(){return null===this.frameworkSelection&&0===this.activeFilterCount},competencyTypeOptions(){return this.types.map((e=>({id:e.id,label:e.name})))},frameworkOptions(){return[{id:null,label:this.$str("filter_framework_all_frameworks","totara_competency")},...this.frameworks.map((e=>({id:e.id,label:e.name})))]},shouldShowLoadMoreButton(){return this.data.items.length>0&&""!==this.data.next_cursor},selectionDescription(){return 1===this.selectedItems.length?this.$str("one_competency_selected","totara_competency",this.selectedItems.length):this.$str("n_competencies_selected","totara_competency",this.selectedItems.length)},buttonText(){return this.isViewingSelections?this.$str("back_to_all_competencies","totara_competency"):this.$str("viewselected","totara_core")}},watch:{frameworkSelection:"applyFilter",filters:{deep:!0,handler:"applyFilter"}},methods:{async viewSelections(){await this.$apollo.queries.data.refetch({user_id:this.userId,filters:{ids:this.selectedItems}}),this.isViewingSelections=!0},async clearSelections(){this.resetFilters(),this.selectedItems=[]},resetFilters(){this.filters=this.$options.data.call(this).filters},showConfirmationModal(){this.isShowingConfirmationModal=!0},async confirmAssignment(){await this.tryAssign(),this.isShowingConfirmationModal=!1},async tryAssign(){this.isSaving=!0;try{const{data:e}=await this.assign();this.isSaving=!1;const t=e.totara_competency_create_user_assignments.length;0===t?this.showErrorNotification():window.location.href=this.$url(this.goBackLink,{assign_success:t})}catch(e){this.showErrorNotification(),this.isSaving=!1}},assign(){return this.$apollo.mutate({mutation:p,variables:{user_id:this.userId,competency_ids:this.selectedItems},refetchAll:!1})},async applyFilter(){const e=await this.$apollo.queries.data.refetch(this.firstPageQueryVariables);return this.isViewingSelections=!1,e},loadMore(){this.$apollo.queries.data.fetchMore({variables:this.subsequentPageQueryVariables,updateQuery:(e,{fetchMoreResult:t})=>{e=e.totara_competency_user_assignable_competencies;const n=t.totara_competency_user_assignable_competencies;return{totara_competency_user_assignable_competencies:{__typename:e.__typename,items:[...e.items,...n.items],total:n.total,next_cursor:n.next_cursor}}}})},showErrorNotification(){(0,V.notify)({message:this.$str("error_generic_mutation","totara_competency"),type:"error"})},selectOrFilter(){this.isViewingSelections?this.applyFilter():this.viewSelections()}},apollo:{data(){return{query:L,variables:this.firstPageQueryVariables,update:({totara_competency_user_assignable_competencies:e})=>e}},user:{query:B.Z,variables(){return{user_id:this.userId}},update:e=>e.totara_competency_user,skip(){return this.isMine}}}},M=function(e){e.options.__langStrings={totara_core:["loadmore","search","viewselected"],totara_hierarchy:["assign","competencyframeworks","competencytypes"],totara_competency:["all","any","assign_competencies","back_to_all_competencies","competencies","confirm_generic","currently_assigned","error_generic_mutation","filter_framework_all_frameworks","filter_competencies","header_assignment_status","n_competencies_selected","no_competency_to_assign","not_assigned","one_competency_selected","view_selected_competencies"]}};var O=(0,n("wWJ2").Z)(D,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tui-competencySelfAssignment"},[n("div",{staticClass:"tui-competencySelfAssignment__header"},[!e.isMine&&e.user?n("MiniProfileCard",{attrs:{display:e.user.card_display}}):e._e(),e._v(" "),n("div",[n("a",{attrs:{href:e.goBackLink}},[e._v("\n        "+e._s(e.goBackText)+"\n      ")])]),e._v(" "),n("PageHeading",{attrs:{title:e.pageHeading}})],1),e._v(" "),n("Grid",{staticClass:"tui-competencySelfAssignment__actions",attrs:{"stack-at":900}},[n("GridItem",{attrs:{units:3}},[e.frameworks.length>1&&!e.isViewingSelections?n("SelectFilter",{attrs:{label:e.$str("competencyframeworks","totara_hierarchy"),"show-label":!1,options:e.frameworkOptions},model:{value:e.frameworkSelection,callback:function(t){e.frameworkSelection=t},expression:"frameworkSelection"}}):e._e()],1),e._v(" "),n("GridItem",{attrs:{units:6}},[n("Basket",{attrs:{items:e.selectedItems,"bulk-actions":e.basketActions},scopedSlots:e._u([{key:"status",fn:function(t){var i=t.empty;return[e.isViewingSelections&&!i?n("ButtonIcon",{attrs:{styleclass:{small:!0},text:e.$str("clearall","totara_core"),"aria-label":e.$str("clearall","totara_core")},on:{click:e.clearSelections}},[n("ClearIcon")],1):e._e()]}},{key:"actions",fn:function(t){return[t.empty?e._e():n("Button",{attrs:{styleclass:{transparent:!0},text:e.buttonText},on:{click:e.selectOrFilter}})]}}])})],1)],1),e._v(" "),n("Grid",{attrs:{"stack-at":900}},[e.isViewingSelections?e._e():n("GridItem",{attrs:{units:3}},[n("FilterSidePanel",{staticClass:"tui-competencySelfAssignment__filters",attrs:{title:e.$str("filter_competencies","totara_competency")},on:{"active-count-change":function(t){e.activeFilterCount=t}},model:{value:e.filters,callback:function(t){e.filters=t},expression:"filters"}},[n("SearchFilter",{attrs:{label:e.$str("search","totara_core"),placeholder:e.$str("search","totara_core"),"show-label":!1,stacked:!0},model:{value:e.filters.text,callback:function(t){e.$set(e.filters,"text",t)},expression:"filters.text"}}),e._v(" "),e.types.length>1?n("MultiSelectFilter",{attrs:{title:e.$str("competencytypes","totara_hierarchy"),"show-label":!0,options:e.competencyTypeOptions},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}}):e._e(),e._v(" "),n("SelectFilter",{attrs:{label:e.$str("header_assignment_status","totara_competency"),"show-label":!0,stacked:!0,options:e.assignmentStatusesOptions},model:{value:e.filters.assignment_status,callback:function(t){e.$set(e.filters,"assignment_status",t)},expression:"filters.assignment_status"}})],1)],1),e._v(" "),n("GridItem",{attrs:{units:9,grows:""}},[n("Loader",{attrs:{loading:e.$apollo.loading}},[e.hasLoadedCompetencies?n("SelectionTable",{attrs:{competencies:e.data.items,"total-competency-count":e.data.total},model:{value:e.selectedItems,callback:function(t){e.selectedItems=t},expression:"selectedItems"}}):n("p"),e._v(" "),e.shouldShowLoadMoreButton?n("Button",{staticClass:"tui-competencySelfAssignment__loadMore",attrs:{text:e.$str("loadmore","totara_core")},on:{click:e.loadMore}}):e._e()],1)],1)],1),e._v(" "),n("ConfirmationModal",{attrs:{title:e.$str("assign_competencies","totara_competency"),open:e.isShowingConfirmationModal,loading:e.isSaving},on:{confirm:e.confirmAssignment,cancel:function(t){e.isShowingConfirmationModal=!1}}},[n("p",[e._v("\n      "+e._s(e.selectionDescription)+"\n    ")]),e._v(" "),n("p",[e._v("\n      "+e._s(e.$str("confirm_generic","totara_competency"))+"\n    ")])])],1)}),[],!1,null,null,null);M(O),O.options.__hasBlocks={script:!0,template:!0};const R=O.exports},ALlL:(e,t,n)=>{"use strict";n.r(t),n.d(t,{ASSIGNMENT_ACTIVE:()=>i,ASSIGNMENT_ARCHIVED:()=>a});const i=1,a=2},wWJ2:(e,t,n)=>{"use strict";function i(e,t,n,i,a,s,r,o){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=n,l._compiled=!0),i&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),r?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(r)},l._ssrRegister=c):a&&(c=o?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var d=l.render;l.render=function(e,t){return c.call(t),d(e,t)}}else{var m=l.beforeCreate;l.beforeCreate=m?[].concat(m,c):[c]}return{exports:e,options:l}}n.d(t,{Z:()=>i})},"A+LS":e=>{"use strict";e.exports=tui.require("totara_competency/components/RatingScaleOverview")},LFbr:e=>{"use strict";e.exports=tui.require("totara_competency/components/competency_copy/CompetencyCopySelectionTable")},K1P0:e=>{"use strict";e.exports=tui.require("totara_competency/components/details/ProficientStatus")},sS5U:e=>{"use strict";e.exports=tui.require("totara_competency/components/profile/MyRatingCell")},Y3ei:e=>{"use strict";e.exports=tui.require("totara_competency/components/summary/CompetencySummarySectionHeader")},"wh/s":e=>{"use strict";e.exports=tui.require("totara_competency/constants")},gmgr:e=>{"use strict";e.exports=tui.require("tui/components/basket/Basket")},"1+j7":e=>{"use strict";e.exports=tui.require("tui/components/buttons/ButtonIcon")},IpiT:e=>{"use strict";e.exports=tui.require("tui/components/buttons/Button")},gu2O:e=>{"use strict";e.exports=tui.require("tui/components/buttons/InfoIconButton")},ifSE:e=>{"use strict";e.exports=tui.require("tui/components/card/Card")},RJ4J:e=>{"use strict";e.exports=tui.require("tui/components/datatable/Cell")},"Lo/q":e=>{"use strict";e.exports=tui.require("tui/components/datatable/HeaderCell")},hkSA:e=>{"use strict";e.exports=tui.require("tui/components/datatable/SelectTable")},BDBh:e=>{"use strict";e.exports=tui.require("tui/components/datatable/Table")},E0wt:e=>{"use strict";e.exports=tui.require("tui/components/decor/OrBox")},"/apQ":e=>{"use strict";e.exports=tui.require("tui/components/decor/Separator")},ebfP:e=>{"use strict";e.exports=tui.require("tui/components/filters/FilterBar")},FR0q:e=>{"use strict";e.exports=tui.require("tui/components/filters/SearchFilter")},RwCy:e=>{"use strict";e.exports=tui.require("tui/components/filters/SelectFilter")},"5Nvt":e=>{"use strict";e.exports=tui.require("tui/components/grid/GridItem")},z1IF:e=>{"use strict";e.exports=tui.require("tui/components/grid/Grid")},"9Ont":e=>{"use strict";e.exports=tui.require("tui/components/icons/CheckSuccess")},Lt59:e=>{"use strict";e.exports=tui.require("tui/components/icons/Warning")},ijCJ:e=>{"use strict";e.exports=tui.require("tui/components/layouts/LayoutOneColumn")},awut:e=>{"use strict";e.exports=tui.require("tui/components/layouts/PageBackLink")},dyC4:e=>{"use strict";e.exports=tui.require("tui/components/layouts/PageHeading")},YLyP:e=>{"use strict";e.exports=tui.require("tui/components/links/ActionLink")},YQTe:e=>{"use strict";e.exports=tui.require("tui/components/loading/Loader")},g6zY:e=>{"use strict";e.exports=tui.require("tui/components/loading/SkeletonContent")},"6R6u":e=>{"use strict";e.exports=tui.require("tui/components/lozenge/Lozenge")},"3Uz/":e=>{"use strict";e.exports=tui.require("tui/components/modal/ConfirmationModal")},uuy6:e=>{"use strict";e.exports=tui.require("tui/components/notifications/NotificationBanner")},EHV6:e=>{"use strict";e.exports=tui.require("tui/components/popover/Popover")},QD8Q:e=>{"use strict";e.exports=tui.require("tui/components/profile/MiniProfileCard")},"3rFe":e=>{"use strict";e.exports=tui.require("tui/components/progresstracker/ProgressTrackerNavCircleAchievement")},H4QJ:e=>{"use strict";e.exports=tui.require("tui/components/responsive/Responsive")},x7Rm:e=>{"use strict";e.exports=tui.require("tui/notifications")},CblH:e=>{"use strict";e.exports=tui.require("tui/theme")},U0bO:e=>{"use strict";e.exports=tui.require("tui/util")}},t={};function n(i){var a=t[i];if(void 0!==a)return a.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_competency")?console.warn('[tui bundle] The bundle "totara_competency" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_competency"),tui._bundle.addModulesFromContext("totara_competency",n("P63A")),tui._bundle.addModulesFromContext("totara_competency/components",n("r8Y2")),tui._bundle.addModulesFromContext("totara_competency/pages",n("Cpg2")))}()})();