(()=>{var e={iH1o:(e,t,a)=>{var r={"./adder/AssignedCompanyGoalAdder":"hI4r","./adder/AssignedCompanyGoalAdder.vue":"hI4r","./adder/PersonalGoalAdder":"TEeR","./adder/PersonalGoalAdder.vue":"TEeR"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=n,e.exports=i,i.id="iH1o"},oGxm:(e,t,a)=>{"use strict";a.d(t,{Z:()=>r});const r={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_hierarchy_goal_filters"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_hierarchy_goal_filter_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"company_goal_frameworks"},name:{kind:"Name",value:"totara_hierarchy_company_goal_frameworks"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"company_goal_types"},name:{kind:"Name",value:"totara_hierarchy_company_goal_types"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}},{kind:"Field",alias:{kind:"Name",value:"personal_goal_types"},name:{kind:"Name",value:"totara_hierarchy_personal_goal_types"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]}]}}]}}]}}]}},hI4r:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var r=a("me+b"),i=a.n(r),n=a("RJ4J"),s=a.n(n),l=a("ebfP"),o=a.n(l),d=a("Lo/q"),c=a.n(d),u=a("FR0q"),_=a.n(u),m=a("RwCy"),h=a.n(m),p=a("hkSA"),g=a.n(p),y=a("U0bO");const v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_hierarchy_assigned_company_goals"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_hierarchy_company_goal_assignment_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_hierarchy_assigned_company_goals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"full_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"target_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal_scope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type_name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"assignment_types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]};var k=a("oGxm");const f={components:{Adder:i(),Cell:s(),FilterBar:o(),HeaderCell:c(),SearchFilter:_(),SelectFilter:h(),SelectTable:g()},props:{excludeFilterOptionsWithoutAssociatedGoals:{type:Boolean,default:!0},existingItems:{type:Array,default:()=>[]},open:Boolean,customQuery:Object,customQueryKey:String,showLoadingBtn:Boolean,userId:Number},data:()=>({companyGoalFrameworksFilterOptions:[],companyGoalTypesFilterOptions:[],filters:{framework:null,search:"",type:null},goals:null,goalSelectedItems:[],nextPage:!1,searchDebounce:"",skipQueries:!0,stacked:!1}),computed:{hasFrameworkFilterOptions(){return this.companyGoalFrameworksFilterOptions.length>1},hasTypeFilterOptions(){return this.companyGoalTypesFilterOptions.length>1}},watch:{open(){this.open?(this.searchDebounce="",this.skipQueries=!1):this.skipQueries=!0},searchDebounce(e){this.updateFilterDebounced(e)}},created(){this.$apollo.addSmartQuery("goals",{query:this.customQuery?this.customQuery:v,skip(){return this.skipQueries},variables(){return{input:{filters:{framework_id:this.filters.framework,goal_name:this.filters.search,type_id:this.filters.type,user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC"}}},update({[this.customQueryKey?this.customQueryKey:"totara_hierarchy_assigned_company_goals"]:e}){return this.nextPage=!!e.next_cursor&&e.next_cursor,e}}),this.$apollo.addSmartQuery("selectedGoals",{query:this.customQuery?this.customQuery:v,skip(){return this.skipQueries},variables(){return{input:{filters:{ids:[],user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC"}}},update({[this.customQueryKey?this.customQueryKey:"totara_hierarchy_assigned_company_goals"]:e}){return this.goalSelectedItems=e.items,e}}),this.$apollo.addSmartQuery("companyGoalFrameworks",{query:this.customQuery?this.customQuery:k.Z,skip(){return this.skipQueries},variables:{input:{check_goal_exist:this.excludeFilterOptionsWithoutAssociatedGoals}},update({[this.customQueryKey?this.customQueryKey:"company_goal_frameworks"]:e}){return this.companyGoalFrameworksFilterOptions=this.formatFilterItems(e),e}}),this.$apollo.addSmartQuery("companyGoalTypes",{query:this.customQuery?this.customQuery:k.Z,skip(){return this.skipQueries},variables:{input:{check_goal_exist:this.excludeFilterOptionsWithoutAssociatedGoals}},update({[this.customQueryKey?this.customQueryKey:"company_goal_types"]:e}){return this.companyGoalTypesFilterOptions=this.formatFilterItems(e).concat([{id:0,label:this.$str("unclassified","totara_hierarchy")}]),e}})},methods:{formatFilterItems({items:e}){let t=[];const a=e.map((({fullname:e,id:t})=>({label:e,id:t})));return a&&(t=[{id:null,label:this.$str("all","core")}].concat(a)),t},formatTargetDate:e=>e||"-",showMainTargetDates(){return(this.goals&&this.goals.items?this.goals.items:[]).filter((e=>e.goal.target_date)).length>0},showSelectedTargetDates(){return this.goalSelectedItems.filter((e=>e.goal.target_date)).length>0},async loadMoreItems(){if(this.nextPage)try{this.$apollo.queries.goals.fetchMore({variables:{input:{cursor:this.nextPage,filters:{goal_name:this.filters.search,user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC"}},updateQuery:(e,{fetchMoreResult:t})=>{const a=e.totara_hierarchy_assigned_company_goals,r=t.totara_hierarchy_assigned_company_goals,i=a.items.concat(r.items);return{[this.customQueryKey?this.customQueryKey:"totara_hierarchy_assigned_company_goals"]:{items:i,next_cursor:r.next_cursor}}}})}catch(e){console.error(e)}},async updateSelectedItems(e){const t=e.length;try{await this.$apollo.queries.selectedGoals.refetch({input:{filters:{ids:e,user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC",result_size:t}})}catch(e){console.error(e)}return this.goalSelectedItems},async closeWithData(e){let t;this.$emit("add-button-clicked");try{t=await this.updateSelectedItems(e)}catch(e){return void console.error(e)}this.$emit("added",{ids:e,data:t})},cancelAdder(){this.$emit("cancel")},updateFilterDebounced:(0,y.debounce)((function(e){this.filters.search=e}),500)}},b=function(e){e.options.__langStrings={totara_hierarchy:["assigned_company_goal_adder_filter_framework","assigned_company_goal_adder_filter_title","assigned_company_goal_adder_filter_type","assigned_company_goal_adder_filter_name","assigned_company_goal_adder_label_name","assigned_company_goal_adder_label_target_date","assigned_company_goal_adder_no_items","assigned_company_goal_adder_title","assigned_company_goal_adder_type","unclassified"],core:["all"]}};var S=(0,a("wWJ2").Z)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Adder",{attrs:{open:e.open,title:e.$str("assigned_company_goal_adder_title","totara_hierarchy"),"existing-items":e.existingItems,loading:e.$apollo.loading,"show-load-more":e.nextPage,"show-loading-btn":e.showLoadingBtn},on:{added:function(t){return e.closeWithData(t)},cancel:function(t){return e.cancelAdder()},"load-more":function(t){return e.loadMoreItems()},"selected-tab-active":function(t){return e.updateSelectedItems(t)}},scopedSlots:e._u([{key:"browse-filters",fn:function(){return[a("FilterBar",{attrs:{"has-top-bar":!1,title:e.$str("assigned_company_goal_adder_filter_title","totara_hierarchy")},scopedSlots:e._u([{key:"filters-left",fn:function(t){var r=t.stacked;return[e.hasFrameworkFilterOptions?a("SelectFilter",{attrs:{label:e.$str("assigned_company_goal_adder_filter_framework","totara_hierarchy"),"show-label":!0,options:e.companyGoalFrameworksFilterOptions,stacked:r},model:{value:e.filters.framework,callback:function(t){e.$set(e.filters,"framework",t)},expression:"filters.framework"}}):e._e(),e._v(" "),e.hasTypeFilterOptions?a("SelectFilter",{attrs:{label:e.$str("assigned_company_goal_adder_filter_type","totara_hierarchy"),"show-label":!0,options:e.companyGoalTypesFilterOptions,stacked:r},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}}):e._e(),e._v(" "),a("SearchFilter",{attrs:{label:e.$str("assigned_company_goal_adder_filter_name","totara_hierarchy"),"show-label":!1,placeholder:e.$str("assigned_company_goal_adder_filter_name","totara_hierarchy"),stacked:r},model:{value:e.searchDebounce,callback:function(t){e.searchDebounce=t},expression:"searchDebounce"}})]}}])})]},proxy:!0},{key:"browse-list",fn:function(t){var r=t.disabledItems,i=t.selectedItems,n=t.update;return[a("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:i,data:e.goals&&e.goals.items?e.goals.items:[],"disabled-ids":r,"checkbox-v-align":"center","select-all-enabled":!0,"border-bottom-hidden":!0,"no-items-text":e.$str("assigned_company_goal_adder_no_items","totara_hierarchy")},on:{input:function(e){return n(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[a("HeaderCell",{attrs:{size:"8",valign:"center"}},[e._v("\n          "+e._s(e.$str("assigned_company_goal_adder_label_name","totara_hierarchy"))+"\n        ")]),e._v(" "),a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("assigned_company_goal_adder_type","totara_hierarchy"))+"\n        ")]),e._v(" "),e.showMainTargetDates()?a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("assigned_company_goal_adder_label_target_date","totara_hierarchy"))+"\n        ")]):e._e()]},proxy:!0},{key:"row",fn:function(t){var r=t.row;return[a("Cell",{attrs:{size:"8","column-header":e.$str("assigned_company_goal_adder_label_name","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.goal.full_name)+"\n        ")]),e._v(" "),a("Cell",{attrs:{size:"4","column-header":e.$str("assigned_company_goal_adder_type","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.goal.type_name)+"\n        ")]),e._v(" "),e.showMainTargetDates()?a("Cell",{attrs:{size:"4","column-header":e.$str("assigned_company_goal_adder_label_target_date","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(e.formatTargetDate(r.goal.target_date))+"\n        ")]):e._e()]}}],null,!0)})]}},{key:"basket-list",fn:function(t){var r=t.disabledItems,i=t.selectedItems,n=t.update;return[a("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:i,data:e.goalSelectedItems,"disabled-ids":r,"checkbox-v-align":"center","border-bottom-hidden":!0,"select-all-enabled":!0},on:{input:function(e){return n(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[a("HeaderCell",{attrs:{size:"8",valign:"center"}},[e._v("\n          "+e._s(e.$str("assigned_company_goal_adder_label_name","totara_hierarchy"))+"\n        ")]),e._v(" "),a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("assigned_company_goal_adder_type","totara_hierarchy"))+"\n        ")]),e._v(" "),e.showSelectedTargetDates()?a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("assigned_company_goal_adder_label_target_date","totara_hierarchy"))+"\n        ")]):e._e()]},proxy:!0},{key:"row",fn:function(t){var r=t.row;return[a("Cell",{attrs:{size:"8","column-header":e.$str("assigned_company_goal_adder_label_name","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.goal.full_name)+"\n        ")]),e._v(" "),a("Cell",{attrs:{size:"4","column-header":e.$str("assigned_company_goal_adder_type","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.goal.type_name)+"\n        ")]),e._v(" "),e.showSelectedTargetDates()?a("Cell",{attrs:{size:"4","column-header":e.$str("assigned_company_goal_adder_label_target_date","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(e.formatTargetDate(r.goal.target_date))+"\n        ")]):e._e()]}}],null,!0)})]}}])})}),[],!1,null,null,null);b(S),S.options.__hasBlocks={script:!0,template:!0};const F=S.exports},TEeR:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>F});var r=a("me+b"),i=a.n(r),n=a("RJ4J"),s=a.n(n),l=a("ebfP"),o=a.n(l),d=a("Lo/q"),c=a.n(d),u=a("FR0q"),_=a.n(u),m=a("RwCy"),h=a.n(m),p=a("hkSA"),g=a.n(p),y=a("U0bO");const v={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_hierarchy_personal_goals"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_hierarchy_personal_goal_input"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totara_hierarchy_personal_goals"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"items"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user_id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"goal_scope"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type_name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"assignment_type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"target_date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scale_value"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next_cursor"},arguments:[],directives:[]}]}}]}}]};var k=a("oGxm");const f={components:{Adder:i(),Cell:s(),FilterBar:o(),HeaderCell:c(),SearchFilter:_(),SelectFilter:h(),SelectTable:g()},props:{excludeFilterOptionsWithoutAssociatedGoals:{type:Boolean,default:!0},existingItems:{type:Array,default:()=>[]},open:Boolean,customQuery:Object,customQueryKey:String,showLoadingBtn:Boolean,userId:Number},data:()=>({goals:null,goalSelectedItems:[],filters:{search:"",type:null},nextPage:!1,personalGoalTypesFilterOptions:[],skipQueries:!0,stacked:!1,searchDebounce:""}),computed:{hasTypeFilterOptions(){return this.personalGoalTypesFilterOptions.length>1}},watch:{open(){this.open?(this.searchDebounce="",this.skipQueries=!1):this.skipQueries=!0},searchDebounce(e){this.updateFilterDebounced(e)}},created(){this.$apollo.addSmartQuery("goals",{query:this.customQuery?this.customQuery:v,skip(){return this.skipQueries},variables(){return{input:{filters:{name:this.filters.search,type_id:this.filters.type,user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC"}}},update({[this.customQueryKey?this.customQueryKey:"totara_hierarchy_personal_goals"]:e}){return this.nextPage=!!e.next_cursor&&e.next_cursor,e}}),this.$apollo.addSmartQuery("selectedGoals",{query:this.customQuery?this.customQuery:v,skip(){return this.skipQueries},variables(){return{input:{filters:{ids:[],user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC"}}},update({[this.customQueryKey?this.customQueryKey:"totara_hierarchy_personal_goals"]:e}){return this.goalSelectedItems=e.items,e}}),this.$apollo.addSmartQuery("personalGoalTypes",{query:this.customQuery?this.customQuery:k.Z,skip(){return this.skipQueries},variables:{input:{check_goal_exist:this.excludeFilterOptionsWithoutAssociatedGoals}},update({[this.customQueryKey?this.customQueryKey:"personal_goal_types"]:e}){return this.personalGoalTypesFilterOptions=this.formatFilterItems(e).concat([{id:0,label:this.$str("unclassified","totara_hierarchy")}]),e}})},methods:{formatFilterItems({items:e}){let t=[];const a=e.map((({fullname:e,id:t})=>({label:e,id:t})));return a&&(t=[{id:null,label:this.$str("all","core")}].concat(a)),t},formatTargetDate:e=>e||"-",showMainTargetDates(){return(this.goals&&this.goals.items?this.goals.items:[]).filter((e=>e.target_date)).length>0},showSelectedTargetDates(){return this.goalSelectedItems.filter((e=>e.target_date)).length>0},async loadMoreItems(){if(this.nextPage)try{this.$apollo.queries.goals.fetchMore({variables:{input:{cursor:this.nextPage,filters:{name:this.filters.search,user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC"}},updateQuery:(e,{fetchMoreResult:t})=>{const a=e.totara_hierarchy_personal_goals,r=t.totara_hierarchy_personal_goals,i=a.items.concat(r.items);return{[this.customQueryKey?this.customQueryKey:"totara_hierarchy_personal_goals"]:{items:i,next_cursor:r.next_cursor}}}})}catch(e){console.error(e)}},async updateSelectedItems(e){const t=e.length;try{await this.$apollo.queries.selectedGoals.refetch({input:{filters:{ids:e,user_id:this.userId},order_by:"TARGET_DATE",order_dir:"DESC",result_size:t}})}catch(e){console.error(e)}return this.goalSelectedItems},async closeWithData(e){let t;this.$emit("add-button-clicked");try{t=await this.updateSelectedItems(e)}catch(e){return void console.error(e)}this.$emit("added",{ids:e,data:t})},cancelAdder(){this.$emit("cancel")},updateFilterDebounced:(0,y.debounce)((function(e){this.filters.search=e}),500)}},b=function(e){e.options.__langStrings={core:["all"],totara_hierarchy:["personal_goal_adder_filter_title","personal_goal_adder_filter_type","personal_goal_adder_filter_name","personal_goal_adder_label_name","personal_goal_adder_label_target_date","personal_goal_adder_no_items","personal_goal_adder_title","personal_goal_adder_type","unclassified"],core:["all"]}};var S=(0,a("wWJ2").Z)(f,(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Adder",{attrs:{open:e.open,title:e.$str("personal_goal_adder_title","totara_hierarchy"),"existing-items":e.existingItems,loading:e.$apollo.loading,"show-load-more":e.nextPage,"show-loading-btn":e.showLoadingBtn},on:{added:function(t){return e.closeWithData(t)},cancel:function(t){return e.cancelAdder()},"load-more":function(t){return e.loadMoreItems()},"selected-tab-active":function(t){return e.updateSelectedItems(t)}},scopedSlots:e._u([{key:"browse-filters",fn:function(){return[a("FilterBar",{attrs:{"has-top-bar":!1,title:e.$str("personal_goal_adder_filter_title","totara_hierarchy")},scopedSlots:e._u([{key:"filters-left",fn:function(t){var r=t.stacked;return[e.hasTypeFilterOptions?a("SelectFilter",{attrs:{label:e.$str("personal_goal_adder_filter_type","totara_hierarchy"),"show-label":!0,options:e.personalGoalTypesFilterOptions,stacked:r},model:{value:e.filters.type,callback:function(t){e.$set(e.filters,"type",t)},expression:"filters.type"}}):e._e(),e._v(" "),a("SearchFilter",{attrs:{label:e.$str("personal_goal_adder_filter_name","totara_hierarchy"),"show-label":!1,placeholder:e.$str("personal_goal_adder_filter_name","totara_hierarchy"),stacked:r},model:{value:e.searchDebounce,callback:function(t){e.searchDebounce=t},expression:"searchDebounce"}})]}}])})]},proxy:!0},{key:"browse-list",fn:function(t){var r=t.disabledItems,i=t.selectedItems,n=t.update;return[a("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:i,data:e.goals&&e.goals.items?e.goals.items:[],"disabled-ids":r,"checkbox-v-align":"center","select-all-enabled":!0,"border-bottom-hidden":!0,"no-items-text":e.$str("personal_goal_adder_no_items","totara_hierarchy")},on:{input:function(e){return n(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[a("HeaderCell",{attrs:{size:"8",valign:"center"}},[e._v("\n          "+e._s(e.$str("personal_goal_adder_label_name","totara_hierarchy"))+"\n        ")]),e._v(" "),a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("personal_goal_adder_type","totara_hierarchy"))+"\n        ")]),e._v(" "),e.showMainTargetDates()?a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("personal_goal_adder_label_target_date","totara_hierarchy"))+"\n        ")]):e._e()]},proxy:!0},{key:"row",fn:function(t){var r=t.row;return[a("Cell",{attrs:{size:"8","column-header":e.$str("personal_goal_adder_label_name","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.name)+"\n        ")]),e._v(" "),a("Cell",{attrs:{size:"4","column-header":e.$str("personal_goal_adder_type","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.type_name)+"\n        ")]),e._v(" "),e.showMainTargetDates()?a("Cell",{attrs:{size:"4","column-header":e.$str("personal_goal_adder_label_target_date","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(e.formatTargetDate(r.target_date))+"\n        ")]):e._e()]}}],null,!0)})]}},{key:"basket-list",fn:function(t){var r=t.disabledItems,i=t.selectedItems,n=t.update;return[a("SelectTable",{attrs:{"large-check-box":!0,"no-label-offset":!0,value:i,data:e.goalSelectedItems,"disabled-ids":r,"checkbox-v-align":"center","border-bottom-hidden":!0,"select-all-enabled":!0},on:{input:function(e){return n(e)}},scopedSlots:e._u([{key:"header-row",fn:function(){return[a("HeaderCell",{attrs:{size:"8",valign:"center"}},[e._v("\n          "+e._s(e.$str("personal_goal_adder_label_name","totara_hierarchy"))+"\n        ")]),e._v(" "),a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("personal_goal_adder_type","totara_hierarchy"))+"\n        ")]),e._v(" "),e.showSelectedTargetDates()?a("HeaderCell",{attrs:{size:"4",valign:"center"}},[e._v("\n          "+e._s(e.$str("personal_goal_adder_label_target_date","totara_hierarchy"))+"\n        ")]):e._e()]},proxy:!0},{key:"row",fn:function(t){var r=t.row;return[a("Cell",{attrs:{size:"8","column-header":e.$str("personal_goal_adder_label_name","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.name)+"\n        ")]),e._v(" "),a("Cell",{attrs:{size:"4","column-header":e.$str("personal_goal_adder_type","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(r.type_name)+"\n        ")]),e._v(" "),e.showSelectedTargetDates()?a("Cell",{attrs:{size:"4","column-header":e.$str("personal_goal_adder_label_target_date","totara_hierarchy"),valign:"center"}},[e._v("\n          "+e._s(e.formatTargetDate(r.target_date))+"\n        ")]):e._e()]}}],null,!0)})]}}])})}),[],!1,null,null,null);b(S),S.options.__hasBlocks={script:!0,template:!0};const F=S.exports},wWJ2:(e,t,a)=>{"use strict";function r(e,t,a,r,i,n,s,l){var o,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=a,d._compiled=!0),r&&(d.functional=!0),n&&(d._scopeId="data-v-"+n),s?(o=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=o):i&&(o=l?function(){i.call(this,(d.functional?this.parent:this).$root.$options.shadowRoot)}:i),o)if(d.functional){d._injectStyles=o;var c=d.render;d.render=function(e,t){return o.call(t),c(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,o):[o]}return{exports:e,options:d}}a.d(t,{Z:()=>r})},"me+b":e=>{"use strict";e.exports=tui.require("tui/components/adder/Adder")},RJ4J:e=>{"use strict";e.exports=tui.require("tui/components/datatable/Cell")},"Lo/q":e=>{"use strict";e.exports=tui.require("tui/components/datatable/HeaderCell")},hkSA:e=>{"use strict";e.exports=tui.require("tui/components/datatable/SelectTable")},ebfP:e=>{"use strict";e.exports=tui.require("tui/components/filters/FilterBar")},FR0q:e=>{"use strict";e.exports=tui.require("tui/components/filters/SearchFilter")},RwCy:e=>{"use strict";e.exports=tui.require("tui/components/filters/SelectFilter")},U0bO:e=>{"use strict";e.exports=tui.require("tui/util")}},t={};function a(r){var i=t[r];if(void 0!==i)return i.exports;var n=t[r]={exports:{}};return e[r](n,n.exports,a),n.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var r in t)a.o(t,r)&&!a.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_hierarchy")?console.warn('[tui bundle] The bundle "totara_hierarchy" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_hierarchy"),tui._bundle.addModulesFromContext("totara_hierarchy/components",a("iH1o")))}()})();