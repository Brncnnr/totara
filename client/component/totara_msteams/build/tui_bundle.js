(()=>{var e={Hlcw:(e,t,n)=>{var o={"./modal/ExternalUrlModal":"cbyw","./modal/ExternalUrlModal.vue":"cbyw"};function r(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}r.keys=function(){return Object.keys(o)},r.resolve=a,e.exports=r,r.id="Hlcw"},cbyw:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const o=tui.require("tui/components/modal/ConfirmationModal");var r=n.n(o);const a=tui.require("tui/config"),i=function(e){e.options.__langStrings={theme_msteams:["openexternally","open_externally_content"]}};var l=function(e,t,n,o,r,a,i,l){var s,d="function"==typeof e?e.options:e;if(t&&(d.render=t,d.staticRenderFns=[],d._compiled=!0),s)if(d.functional){d._injectStyles=s;var c=d.render;d.render=function(e,t){return s.call(t),c(e,t)}}else{var u=d.beforeCreate;d.beforeCreate=u?[].concat(u,s):[s]}return{exports:e,options:d}}({components:{ConfirmationModal:r()},data:()=>({modalOpen:!1,externalUrl:null}),mounted(){window.document.body.addEventListener("click",this.triggerPopup)},unmounted(){window.document.body.removeEventListener("click",this.triggerPopup)},methods:{triggerPopup(e){const t=e.target.closest("a");t&&t.href&&(!t.href.startsWith(a.config.wwwroot)||t.href.includes("totara_msteams_confirm_redirect=1"))&&(e.preventDefault(),this.externalUrl=t.href,this.openModal())},openModal(){this.modalOpen=!0},modalConfirmed(){this.externalUrl.includes("totara_msteams_confirm_redirect=1")?window.open(this.externalUrl,"redirect_from_url_activity"):(window.open(this.externalUrl,""),this.modalOpen=!1)},modalCancelled(){this.modalOpen=!1}}},(function(){var e=this,t=e.$createElement;return(e._self._c||t)("ConfirmationModal",{staticClass:"tui-msTeamsExternalUrlModal",attrs:{open:e.modalOpen,title:e.$str("openexternally","theme_msteams")},on:{confirm:e.modalConfirmed,cancel:e.modalCancelled}},[e._v("\n  "+e._s(e.$str("open_externally_content","theme_msteams"))+"\n")])}));i(l),l.options.__hasBlocks={script:!0,template:!0};const s=l.exports}},t={};function n(o){var r=t[o];if(void 0!==r)return r.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_msteams")?console.warn('[tui bundle] The bundle "totara_msteams" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_msteams"),tui._bundle.addModulesFromContext("totara_msteams/components",n("Hlcw")))}()})();