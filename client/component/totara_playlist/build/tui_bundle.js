(()=>{var e={xqLI:(e,a,i)=>{var t={"./CreatePlaylist":"c2Uc","./CreatePlaylist.vue":"c2Uc","./box/ResourcePlaylistBox":"l+g1","./box/ResourcePlaylistBox.vue":"l+g1","./card/AddNewPlaylistCard":"lmRo","./card/AddNewPlaylistCard.vue":"lmRo","./card/PlaylistCard":"osIJ","./card/PlaylistCard.vue":"osIJ","./card/PlaylistCardImage":"QiNw","./card/PlaylistCardImage.vue":"QiNw","./card/PlaylistFootnote":"0Kg0","./card/PlaylistFootnote.vue":"0Kg0","./card/RelatedCard":"RpUS","./card/RelatedCard.vue":"RpUS","./card/SummaryPlaylistCard":"eUnx","./card/SummaryPlaylistCard.vue":"eUnx","./contribution/Adder":"9KlC","./contribution/Adder.vue":"9KlC","./contribution/PlaylistResources":"lQJf","./contribution/PlaylistResources.vue":"lQJf","./form/PlaylistForm":"dtcz","./form/PlaylistForm.vue":"dtcz","./form/PlaylistTitleForm":"603Z","./form/PlaylistTitleForm.vue":"603Z","./grid/PlaylistResourcesGrid":"fZAy","./grid/PlaylistResourcesGrid.vue":"fZAy","./modal/ContributeModal":"eLV7","./modal/ContributeModal.vue":"eLV7","./page/HeaderBox":"oTdY","./page/HeaderBox.vue":"oTdY","./popover/PlaylistPopover":"D5OP","./popover/PlaylistPopover.vue":"D5OP","./sidepanel/PlaylistNavigation":"9Kou","./sidepanel/PlaylistNavigation.vue":"9Kou","./sidepanel/PlaylistSidePanel":"wIVo","./sidepanel/PlaylistSidePanel.vue":"wIVo","./sidepanel/PlaylistStarRating":"+bL7","./sidepanel/PlaylistStarRating.vue":"+bL7","./sidepanel/PlaylistSummary":"hZkm","./sidepanel/PlaylistSummary.vue":"hZkm","./sidepanel/Related":"8LVl","./sidepanel/Related.vue":"8LVl","./sidepanel/content/Playlist":"Er8m","./sidepanel/content/Playlist.vue":"Er8m"};function n(e){var a=r(e);return i(a)}function r(e){if(!i.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}n.keys=function(){return Object.keys(t)},n.resolve=r,e.exports=n,n.id="xqLI"},T6TN:(e,a,i)=>{var t={".":"a8a/","./":"a8a/","./index":"a8a/","./index.js":"a8a/","./playlist_grid":"MY6N","./playlist_grid.js":"MY6N"};function n(e){var a=r(e);return i(a)}function r(e){if(!i.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}n.keys=function(){return Object.keys(t)},n.resolve=r,e.exports=n,n.id="T6TN"},r7e5:(e,a,i)=>{var t={"./PlaylistView":"nOjo","./PlaylistView.vue":"nOjo"};function n(e){var a=r(e);return i(a)}function r(e){if(!i.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}n.keys=function(){return Object.keys(t)},n.resolve=r,e.exports=n,n.id="r7e5"},"4+xE":(e,a,i)=>{"use strict";i.d(a,{Z:()=>t});const t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_engage_update_bookmark"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"itemid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"component"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"bookmarked"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_engage_update_bookmark"},arguments:[{kind:"Argument",name:{kind:"Name",value:"itemid"},value:{kind:"Variable",name:{kind:"Name",value:"itemid"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"component"}}},{kind:"Argument",name:{kind:"Name",value:"bookmarked"},value:{kind:"Variable",name:{kind:"Name",value:"bookmarked"}}}],directives:[]}]}}]}},"4H+X":(e,a,i)=>{"use strict";i.d(a,{Z:()=>t});const t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_add_resources"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resources"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_add_resources"},arguments:[{kind:"Argument",name:{kind:"Name",value:"playlistid"},value:{kind:"Variable",name:{kind:"Name",value:"playlistid"}}},{kind:"Argument",name:{kind:"Name",value:"resources"},value:{kind:"Variable",name:{kind:"Name",value:"resources"}}}],directives:[]}]}}]}},S2kq:(e,a,i)=>{"use strict";i.d(a,{Z:()=>t});const t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_cards"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"contribution"},name:{kind:"Name",value:"totara_playlist_cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"can_bookmark"},arguments:[],directives:[]}]}}]}}]}}]}}]}},O34t:(e,a,i)=>{"use strict";i.d(a,{Z:()=>t});const t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_get_playlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_instance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contextid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timedescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"catalog"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updateable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalresources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manageable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasnonpublicresources"},arguments:[],directives:[]}]}}]}}]}},C7Pw:(e,a,i)=>{"use strict";i.d(a,{Z:()=>t});const t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_update_card_order"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"order"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cards"},name:{kind:"Name",value:"totara_playlist_update_order"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}},{kind:"Argument",name:{kind:"Name",value:"order"},value:{kind:"Variable",name:{kind:"Name",value:"order"}}}],directives:[]}]}}]}},c2Uc:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>k});const t=tui.require("totara_playlist/components/form/PlaylistForm");var n=i.n(t);const r=tui.require("totara_engage/components/form/AccessForm");var l=i.n(r),s=i("7oVD");const d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_create_playlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"summary"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"summary_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"contextid"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topics"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shares"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_recipient_in"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_create"},arguments:[{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"summary"},value:{kind:"Variable",name:{kind:"Name",value:"summary"}}},{kind:"Argument",name:{kind:"Name",value:"summary_format"},value:{kind:"Variable",name:{kind:"Name",value:"summary_format"}}},{kind:"Argument",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"Argument",name:{kind:"Name",value:"contextid"},value:{kind:"Variable",name:{kind:"Name",value:"contextid"}}},{kind:"Argument",name:{kind:"Name",value:"topics"},value:{kind:"Variable",name:{kind:"Name",value:"topics"}}},{kind:"Argument",name:{kind:"Name",value:"shares"},value:{kind:"Variable",name:{kind:"Name",value:"shares"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contextid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timedescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updateable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalresources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manageable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasnonpublicresources"},arguments:[],directives:[]}]}}]}}]},o=tui.require("totara_engage/mixins/container_mixin");var m=i.n(o);const u={components:{PlaylistForm:n(),AccessForm:l()},mixins:[m()],props:{canShare:Boolean},data:()=>({stage:0,maxStage:1,playlist:{name:null,summary:null,summary_format:null},submitting:!1,defaultAccess:"PRIVATE"}),computed:{privateDisabled(){return!!this.containerValues.access&&!s.AccessManager.isPrivate(this.containerValues.access)},restrictedDisabled(){return!!this.containerValues.access&&s.AccessManager.isPublic(this.containerValues.access)}},methods:{next({name:e,summary:a,summary_format:i}){this.stage<this.maxStage&&(this.stage+=1),this.playlist.name=e,this.playlist.summary=a,this.playlist.summary_format=i,this.$emit("hide-tabs",!0),this.$emit("change-title",this.stage)},back(){this.stage>0&&(this.stage-=1),this.$emit("hide-tabs",!1),this.$emit("change-title",this.stage)},done({access:e,topics:a,shares:i}){this.submitting=!0,this.$apollo.mutate({mutation:d,variables:{name:this.playlist.name,summary:this.playlist.summary,summary_format:this.playlist.summary_format,access:e,topics:a.map((e=>e.id)),shares:i},refetchQueries:["totara_engage_contribution_cards","container_workspace_contribution_cards","container_workspace_shared_cards","totara_playlist_playlist_links"],awaitRefetchQueries:!0,update:(e,{data:{playlist:a}})=>{this.$emit("done",{id:a.id}),window.location.href=this.$url("/totara/playlist/index.php",{id:a.id})}}).then((()=>this.$emit("cancel"))).finally((()=>this.submitting=!1))}}};var c=(0,i("wWJ2").Z)(u,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-createPlaylist"},[i("PlaylistForm",{directives:[{name:"show",rawName:"v-show",value:0===e.stage,expression:"stage === 0"}],on:{next:e.next,cancel:function(a){return e.$emit("cancel")},"unsaved-changes":function(a){return e.$emit("unsaved-changes")}}}),e._v(" "),i("AccessForm",{directives:[{name:"show",rawName:"v-show",value:1===e.stage,expression:"stage === 1"}],attrs:{"item-id":"0",component:"totara_playlist","show-back":!0,submitting:e.submitting,"selected-access":e.containerValues.access||e.defaultAccess,"private-disabled":e.privateDisabled,"restricted-disabled":e.restrictedDisabled,container:e.container,"enable-time-view":!1,"can-share":e.canShare},on:{done:e.done,back:e.back,cancel:function(a){return e.$emit("cancel")}}})],1)}),[],!1,null,null,null);c.options.__hasBlocks={script:!0,template:!0};const k=c.exports},"l+g1":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>m});const t=tui.require("totara_playlist/components/card/SummaryPlaylistCard");var n=i.n(t);const r=tui.require("tui/components/virtualscroll/VirtualScroll");var l=i.n(r);const s={components:{SummaryPlaylistCard:n(),VirtualScroll:l()},props:{resourceId:{type:[Number,String],required:!0},urlSource:{type:String,default:""}},apollo:{box:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_resource_playlists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"resource_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlists"},name:{kind:"Name",value:"totara_playlist_playlists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"resource_id"},value:{kind:"Variable",name:{kind:"Name",value:"resource_id"}}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"RATING"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contextid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timedescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updateable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalresources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manageable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}},{kind:"Argument",name:{kind:"Name",value:"library_view"},value:{kind:"BooleanValue",value:!1}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"totara_playlist_playlists_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}},{kind:"Argument",name:{kind:"Name",value:"resource_id"},value:{kind:"Variable",name:{kind:"Name",value:"resource_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}}]}}]},watchLoading(e){this.$emit("load-records",e)},variables(){return{resource_id:this.resourceId,source:this.urlSource}},update:({playlists:e,cursor:a})=>({playlists:e,cursor:a}),result({data:{cursor:{total:e}}}){e=parseInt(e,9),this.$emit("update-has-playlists",0<e)}}},data:()=>({box:{playlists:[],cursor:null}}),methods:{loadMore(){this.box.cursor.next&&this.$apollo.queries.box.fetchMore({variables:{cursor:this.box.cursor.next,resource_id:this.resourceId,source:this.urlSource},updateQuery:({playlists:e},{fetchMoreResult:{playlists:a,cursor:i}})=>({playlists:Array.prototype.concat(e,a),cursor:i})})}}},d=function(e){e.options.__langStrings={totara_playlist:["playlists"]}};var o=(0,i("wWJ2").Z)(s,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-resourcePlaylistBox"},[i("VirtualScroll",{attrs:{"data-list":e.box.playlists,"data-key":"id","aria-label":e.$str("playlists","totara_playlist"),"is-loading":e.$apollo.loading},on:{scrollbottom:e.loadMore},scopedSlots:e._u([{key:"item",fn:function(e){var a=e.item;return[i("SummaryPlaylistCard",{key:a.id,staticClass:"tui-resourcePlaylistBox__card",attrs:{"data-id":a.id,name:a.name,url:a.url,"playlist-id":a.id,author:a.user.fullname,"rated-count":a.rating.count,rating:a.rating.rating}})]}}])})],1)}),[],!1,null,null,null);d(o),o.options.__hasBlocks={script:!0,template:!0};const m=o.exports},lmRo:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>c});var t=i("ifSE"),n=i.n(t),r=i("Wo9o"),l=i.n(r),s=i("7oVD");const d=tui.require("totara_playlist/components/contribution/Adder"),o={components:{Adder:i.n(d)(),Card:n(),Contribute:l()},props:{playlistId:{type:[Number,String],required:!0},access:{type:String,required:!0,validator:e=>s.AccessManager.isValid(e)}},data:()=>({showAdder:!1}),computed:{container(){return{instanceId:this.playlistId,component:"totara_playlist",access:this.access,showModal:!1}}}},m=function(e){e.options.__langStrings={totara_playlist:["selectexistingresource","toaddplaylist"]}};var u=(0,i("wWJ2").Z)(o,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-addNewPlaylistCard"},[i("Card",{staticClass:"tui-addNewPlaylistCard__card"},[i("Contribute",{attrs:{adder:{text:e.$str("selectexistingresource","totara_playlist"),destination:e.$str("toaddplaylist","totara_playlist")},"show-text":!1,"show-icon":!0,styleclass:{circle:!0,primary:!0},size:500,container:e.container},on:{done:function(a){return e.$emit("contribute",a)},"open-adder":function(a){e.showAdder=!0}}})],1),e._v(" "),i("Adder",{attrs:{"grid-direction":"horizontal","playlist-id":e.playlistId,"show-adder":e.showAdder,units:12},on:{close:function(a){e.showAdder=!1}}})],1)}),[],!1,null,null,null);m(u),u.options.__hasBlocks={script:!0,template:!0};const c=u.exports},osIJ:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>P});const t=tui.require("totara_engage/components/card/BaseCard");var n=i.n(t);const r=tui.require("totara_engage/components/card/ImageHeader");var l=i.n(r);const s=tui.require("totara_engage/components/card/CardHeader");var d=i.n(s),o=i("1+j7"),m=i.n(o);const u=tui.require("totara_engage/components/icons/StatIcon");var c=i.n(u),k=i("O83a"),v=i.n(k);const p=tui.require("tui/components/icons/Share");var g=i.n(p);const y=tui.require("tui/components/icons/Comment");var _=i.n(y);const N=tui.require("tui/components/icons/More");var b=i.n(N),h=i("7oVD");const f=tui.require("totara_engage/components/icons/access/computed/AccessIcon");var S=i.n(f),F=i("f0cm"),V=i.n(F),C=i("4+xE");const x={components:{AccessIcon:S(),BaseCard:n(),BookmarkButton:V(),ButtonIcon:m(),CardHeader:d(),CommentIcon:_(),ImageHeader:l(),MoreIcon:b(),ShareIcon:g(),StarRating:v(),StatIcon:c()},mixins:[h.cardMixin],data(){return{innerBookmarked:this.bookmarked,hovered:!1,extraData:JSON.parse(this.extra),statIcons:[]}},computed:{showRating(){return this.rating},starTitle(){return this.extraData.ratingCount<=1?this.$str("numberofpersonrating","totara_engage",this.extraData.ratingCount):this.$str("numberofpeoplerating","totara_engage",this.extraData.ratingCount)},imageStyle(){return{backgroundImage:`url(${this.extraData.image}})`}}},created(){this.$_setStatIcons()},methods:{$_handleHovered(e){this.hovered=e},$_handleShare(){},$_handleMoreActions(){},$_setStatIcons(){if(h.AccessManager.isPrivate(this.access))return;const e=[{type:"comment",icon:_(),title:this.$str("numberofcomments","totara_engage",this.totalComments),statNumber:this.totalComments}];h.AccessManager.isRestricted(this.access)?this.statIcons=e:h.AccessManager.isPublic(this.access)&&(this.statIcons=e.concat({type:"share",icon:g(),title:this.$str("numberofshares","totara_engage",this.sharedbycount),statNumber:this.sharedbycount}))},updateBookmark(){this.innerBookmarked=!this.innerBookmarked,this.$apollo.mutate({mutation:C.Z,refetchAll:!1,refetchQueries:["totara_playlist_playlist_links","totara_engage_contribution_cards"],variables:{itemid:this.instanceId,component:"totara_playlist",bookmarked:this.innerBookmarked}})}}},w=function(e){e.options.__langStrings={totara_engage:["numberofcomments","numberofshares","share","more","numberofpeoplerating","numberofpersonrating"]}};var A=(0,i("wWJ2").Z)(x,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("BaseCard",{staticClass:"tui-playlistCard",attrs:{"data-card-unique":e.instanceId,href:e.url,"show-footnotes":e.showFootnotes,footnotes:e.footnotes},on:{"remove-resource":function(a){return e.$emit("remove-resource",a)},mouseover:function(a){return e.$_handleHovered(!0)},mouseleave:function(a){return e.$_handleHovered(!1)}}},[i("ImageHeader",{attrs:{slot:"header-image","show-cover":e.hovered},slot:"header-image"},[i("div",{staticClass:"tui-playlistCard__imageHeader",style:e.imageStyle,attrs:{slot:"image"},slot:"image"},[i("span",{staticClass:"sr-only"},[e._v(e._s(e.name))]),e._v(" "),i("div",{staticClass:"tui-playlistCard__numberOfResourcesContainer"},[i("div",{staticClass:"tui-playlistCard__numberOfResources"},[i("p",[e._v(e._s(e.extraData.resources))])])])]),e._v(" "),i("div",{staticClass:"tui-playlistCard__icons",attrs:{slot:"actions"},slot:"actions"},[i("ButtonIcon",{attrs:{"aria-label":e.$str("share","totara_engage"),styleclass:{primary:!1,circle:!0}},on:{click:function(a){return a.preventDefault(),e.$_handleShare.apply(null,arguments)}}},[i("ShareIcon")],1),e._v(" "),e.extraData.actions?i("ButtonIcon",{attrs:{"aria-label":e.$str("more","totara_engage"),styleclass:{primary:!1,circle:!0}},on:{click:function(a){return a.preventDefault(),e.$_handleMoreActions.apply(null,arguments)}}},[i("MoreIcon")],1):e._e()],1)]),e._v(" "),i("CardHeader",{staticClass:"tui-playlistCard__header",attrs:{slot:"header"},slot:"header"},[i("div",{staticClass:"tui-playlistCard__bar",attrs:{slot:"first"},slot:"first"},[e.showBookmark?i("BookmarkButton",{staticClass:"tui-playlistCard__bookmark",attrs:{size:"300",bookmarked:e.innerBookmarked,primary:!1,circle:!1,small:!0,transparent:!0},on:{click:e.updateBookmark}}):e._e()],1),e._v(" "),i("a",{staticClass:"tui-playlistCard__link",attrs:{slot:"second",href:e.url},slot:"second"},[i("h4",{staticClass:"tui-playlistCard__title",attrs:{id:e.labelId}},[e._v("\n        "+e._s(e.name)+"\n      ")])])]),e._v(" "),i("StarRating",{staticClass:"tui-playlistCard__rating",attrs:{slot:"info-content",rating:e.showRating,"read-only":!0,increment:.1,"max-rating":5,title:e.starTitle},slot:"info-content"}),e._v(" "),i("div",{staticClass:"tui-playlistCard__footer",attrs:{slot:"footer"},slot:"footer"},[e._l(e.statIcons,(function(e){return i("StatIcon",{key:e.type,attrs:{title:e.title,"stat-number":e.statNumber}},[i(e.icon,{tag:"component",attrs:{title:e.title}})],1)})),e._v(" "),i("AccessIcon",{attrs:{access:e.access,size:"300","custom-class":"tui-playlistCard__visibilityIcon"}})],2)],1)}),[],!1,null,null,null);w(A),A.options.__hasBlocks={script:!0,template:!0};const P=A.exports},QiNw:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>l});const t={mixins:[i("7oVD").imageMixin]},n=function(e){e.options.__langStrings={totara_playlist:["image_alt"]}};var r=(0,i("wWJ2").Z)(t,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-engagePlaylistImage"},[i("img",{staticClass:"tui-engagePlaylistImage__img",attrs:{src:e.image,alt:e.$str("image_alt","totara_playlist",e.name)}})])}),[],!1,null,null,null);n(r),r.options.__hasBlocks={script:!0,template:!0};const l=r.exports},"0Kg0":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>k});var t=i("1+j7"),n=i.n(t);const r=tui.require("tui/components/icons/Loading");var l=i.n(r);const s=tui.require("tui/components/icons/Remove");var d=i.n(s);const o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_remove_resource"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"instanceid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_playlist_remove_resource"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"instanceid"},value:{kind:"Variable",name:{kind:"Name",value:"instanceid"}}}],directives:[]}]}}]},m={components:{ButtonIcon:n(),Loading:l(),Remove:d()},props:{instanceId:{type:Number,required:!0},playlistId:{type:Number,required:!0}},data:()=>({loading:!1}),methods:{async removeResouce(){this.loading||(this.loading=!0);try{await this.$apollo.mutate({mutation:o,refetchQueries:["totara_playlist_cards","totara_playlist_get_playlist"],variables:{id:this.playlistId,instanceid:this.instanceId}})}finally{this.loading=!1}}}},u=function(e){e.options.__langStrings={totara_playlist:["removeitem"]}};var c=(0,i("wWJ2").Z)(m,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-playlistFootnote"},[i("ButtonIcon",{staticClass:"tui-playlistFootnote__button",attrs:{"aria-label":e.$str("removeitem","totara_playlist"),styleclass:{small:!0,transparentNoPadding:!0,alert:!0},disabled:e.loading},on:{click:function(a){return a.preventDefault(),e.removeResouce.apply(null,arguments)}}},[e.loading?i("Loading"):i("Remove",{attrs:{size:300,state:"alert"}})],1)],1)}),[],!1,null,null,null);u(c),c.options.__hasBlocks={script:!0,template:!0};const k=c.exports},RpUS:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>u});var t=i("ifSE"),n=i.n(t),r=i("f0cm"),l=i.n(r),s=i("O83a"),d=i.n(s);const o={components:{BookmarkButton:l(),Card:n(),StarRating:d()},props:{bookmarked:{type:Boolean,default:!1},fullname:{type:String,required:!0},image:{type:String,required:!0},imageAlt:String,name:{type:String,required:!0},playlistId:{type:[Number,String],required:!0},rating:{type:Number,required:!0},resources:{type:Number,required:!0},url:{type:String,required:!0}},data(){return{innerBookmarked:this.bookmarked}},computed:{imageStyle(){return{backgroundImage:`url(${this.image}})`}}},methods:{handleClickBookmark(){this.innerBookmarked=!this.innerBookmarked,this.$emit("update",this.playlistId,this.innerBookmarked)},handleClickCard(){window.location.href=this.url}}};var m=(0,i("wWJ2").Z)(o,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("Card",{staticClass:"tui-playlistRelatedCard",attrs:{clickable:!0},on:{click:e.handleClickCard}},[i("a",{attrs:{href:e.url}}),e._v(" "),i("div",{staticClass:"tui-playlistRelatedCard__header",style:e.imageStyle},[e.imageAlt?i("span",{staticClass:"sr-only"},[e._v(e._s(e.imageAlt))]):e._e(),e._v(" "),i("span",{staticClass:"tui-playlistRelatedCard__resourceCount"},[e._v("\n      "+e._s(e.resources)+"\n    ")])]),e._v(" "),i("section",{staticClass:"tui-playlistRelatedCard__content"},[i("span",[e._v(e._s(e.name))]),e._v(" "),i("span",[e._v(e._s(e.fullname))]),e._v(" "),i("StarRating",{attrs:{rating:e.rating,"read-only":!0,increment:.1,"max-rating":5}})],1),e._v(" "),i("BookmarkButton",{staticClass:"tui-playlistRelatedCard__bookmark",attrs:{size:"300",bookmarked:e.innerBookmarked,primary:!1,circle:!1,small:!0,transparent:!0},on:{click:e.handleClickBookmark}})],1)}),[],!1,null,null,null);m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},eUnx:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>s});var t=i("O83a");const n={components:{StarRating:i.n(t)()},props:{playlistId:{type:[Number,String],required:!0},name:{type:String,required:!0},url:{type:String,default(){return this.$url("/totara/playlist/index.php",{id:this.playlistId})}},author:{type:String,required:!0},rating:{type:[String,Number],required:!0},ratedCount:{type:[String,Number],required:!0}},computed:{ratingTitle(){return this.ratedCount<=1?this.$str("numberofpersonrating","totara_engage",this.ratedCount):this.$str("numberofpeoplerating","totara_engage",this.ratedCount)}}},r=function(e){e.options.__langStrings={totara_playlist:["by_author"],totara_engage:["numberofpeoplerating","numberofpersonrating"]}};var l=(0,i("wWJ2").Z)(n,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-summaryPlaylistCard"},[i("div",{staticClass:"tui-summaryPlaylistCard__top"},[i("a",{staticClass:"tui-summaryPlaylistCard__title",attrs:{href:e.url}},[e._v("\n      "+e._s(e.name)+"\n    ")]),e._v(" "),i("StarRating",{staticClass:"tui-summaryPlaylistCard__stars",attrs:{"read-only":!0,"max-rating":5,increment:1,rating:e.rating,title:e.ratingTitle}})],1),e._v(" "),i("p",{staticClass:"tui-summaryPlaylistCard__author"},[e._v("\n    "+e._s(e.$str("by_author","totara_playlist",e.author))+"\n  ")])])}),[],!1,null,null,null);r(l),l.options.__hasBlocks={script:!0,template:!0};const s=l.exports},"9KlC":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>p});const t=tui.require("totara_engage/components/modal/EngageAdderModal");var n=i.n(t),r=i("3Uz/"),l=i.n(r),s=i("MI77");var d=i("4H+X");const o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_check_items_access"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"items"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_share_item"}}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_playlist_check_items_access"},arguments:[{kind:"Argument",name:{kind:"Name",value:"items"},value:{kind:"Variable",name:{kind:"Name",value:"items"}}},{kind:"Argument",name:{kind:"Name",value:"playlist_id"},value:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"warning"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"message"},arguments:[],directives:[]}]}}]}}]},m=tui.require("totara_engage/mixins/contribution_mixin");var u=i.n(m);const c={components:{EngageAdderModal:n(),ConfirmationModal:l()},mixins:[u()],props:{playlistId:{type:[String,Number],required:!0},showAdder:Boolean},data(){return{updatingAdder:!1,addingItems:!1,showWarningModal:this.openWarningModal,privacyWarningMessage:"",privacyWarningSelection:""}},computed:{canAdd(){return!this.showWarningModal&&this.showAdder}},watch:{showAdder(e){this.skipCardsQuery=!e},openWarningModal(e){this.showWarningModal=e}},created(){this.skipCardsQuery=!0},apollo:{contribution:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_resources"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topic"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"sort"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"search"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"section"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}},type:{kind:"NamedType",name:{kind:"Name",value:"core_id"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_area"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"image_preview_mode"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"resources"},name:{kind:"Name",value:"totara_playlist_resources"},arguments:[{kind:"Argument",name:{kind:"Name",value:"playlist_id"},value:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"area"}}},{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"ObjectField",name:{kind:"Name",value:"topic"},value:{kind:"Variable",name:{kind:"Name",value:"topic"}}},{kind:"ObjectField",name:{kind:"Name",value:"sort"},value:{kind:"Variable",name:{kind:"Name",value:"sort"}}},{kind:"ObjectField",name:{kind:"Name",value:"search"},value:{kind:"Variable",name:{kind:"Name",value:"search"}}},{kind:"ObjectField",name:{kind:"Name",value:"section"},value:{kind:"Variable",name:{kind:"Name",value:"section"}}}]}},{kind:"Argument",name:{kind:"Name",value:"footnotes"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"ObjectField",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"ObjectField",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"ObjectField",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}]}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imagetuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}},{kind:"Argument",name:{kind:"Name",value:"preview_mode"},value:{kind:"Variable",name:{kind:"Name",value:"image_preview_mode"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"footnotes"},arguments:[{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_type"}}},{kind:"Argument",name:{kind:"Name",value:"item_id"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_item_id"}}},{kind:"Argument",name:{kind:"Name",value:"area"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_area"}}},{kind:"Argument",name:{kind:"Name",value:"component"},value:{kind:"Variable",name:{kind:"Name",value:"footnotes_component"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"include_footnotes"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"props"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"interactor"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"can_bookmark"},arguments:[],directives:[]}]}}]}}]}}]}}]},fetchPolicy:"network-only",variables(){return Object.assign({},this.filterValue,{playlist_id:this.playlistId,area:"adder",include_footnotes:!1,image_preview_mode:"totara_engage_adder_thumbnail",theme:s.config.theme.name})},update({resources:{cursor:e,cards:a}}){return{cursor:e,cards:this.canContribute?this.$_addContributeCard(a):a}},skip(){return this.skipCardsQuery}}},methods:{async processAddToPlaylist(e){if(this.addingItems)return;this.addingItems=!0;let a,i,t=e.map((e=>JSON.parse(e)));try{({warning:a,message:i}=await this.checkAccessSetting(t))}finally{this.addingItems=!1}if(a)return this.privacyWarningMessage=i,this.privacyWarningSelection=e,void(this.showWarningModal=!0);await this.adderUpdate(e)},async checkAccessSetting(e){const{data:{result:{warning:a,message:i}}}=await this.$apollo.query({refetchQueries:["totara_playlist_cards","totara_playlist_get_playlist"],query:o,variables:{items:e,playlist_id:this.playlistId}});return{warning:a,message:i}},async adderUpdate(e){if(!this.updatingAdder){this.updatingAdder=!0;try{await this.$apollo.mutate({mutation:d.Z,refetchAll:!1,refetchQueries:["totara_playlist_cards","totara_playlist_get_playlist"],variables:{playlistid:this.playlistId,resources:e.map((e=>JSON.parse(e).itemid))}}),this.showWarningModal=!1}finally{this.$emit("close"),this.updatingAdder=!1}}},cancelPrivacyChange(){this.showWarningModal=!1}}},k=function(e){e.options.__langStrings={totara_playlist:["selectcontent","add_to_playlist"],totara_core:["add"]}};var v=(0,i("wWJ2").Z)(c,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",[i("ConfirmationModal",{attrs:{open:e.showWarningModal,title:e.$str("add_to_playlist","totara_playlist"),"confirm-button-text":e.$str("add","totara_core"),loading:e.updatingAdder},on:{confirm:function(a){return e.adderUpdate(e.privacyWarningSelection)},cancel:e.cancelPrivacyChange}},[i("p",[e._v(e._s(e.privacyWarningMessage))])]),e._v(" "),i("EngageAdderModal",{attrs:{title:e.$str("selectcontent","totara_playlist"),open:e.canAdd,"show-loading-btn":e.addingItems||e.updatingAdder,cards:e.contribution.cards,"filter-value":e.filterValue,"filter-component":"totara_playlist","filter-area":"adder"},on:{added:e.processAddToPlaylist,cancel:function(a){return e.$emit("close",a)},topic:e.filterTopic,search:e.filterSearch,section:e.filterSection}})],1)}),[],!1,null,null,null);k(v),v.options.__hasBlocks={script:!0,template:!0};const p=v.exports},lQJf:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>V});const t=tui.require("tui/components/responsive/Responsive");var n=i.n(t),r=i("caAW"),l=i.n(r),s=i("jzXa"),d=i.n(s),o=i("0Cpl"),m=i.n(o),u=i("f0cm"),c=i.n(u),k=i("7oVD"),v=i("MI77"),p=i("O34t"),g=i("S2kq"),y=i("4+xE"),_=i("C7Pw"),N=i("BTfA"),b=i.n(N),h=i("vTPe");const f={components:{Responsive:n(),ContributionBaseContent:l(),PlaylistResourcesGrid:d(),HeaderBox:m(),BookmarkButton:c()},mixins:[b()],props:{units:{type:[Number,String],required:!0},gridDirection:{type:String,required:!0},pageProps:Object},data:()=>({playlist:{},contribution:{cursor:{total:0,next:null},cards:[]},size:"",bookmarked:!1,loadingMore:!1}),computed:{breakPoints:()=>Object.values(h.playlistGrid).map((({name:e,boundaries:a})=>({name:e,boundaries:a})))},apollo:{playlist:{query:p.Z,fetchPolicy:"network-only",variables(){return{id:this.pageProps.playlistId}},result({data:{playlist:e}}){this.bookmarked=e.bookmarked}},contribution:{query:g.Z,fetchPolicy:"network-only",variables(){return{id:this.pageProps.playlistId,source:k.UrlSourceType.playlist(this.pageProps.playlistId),footnotes_type:"playlist",footnotes_item_id:this.pageProps.playlistId,include_footnotes:!0,theme:v.config.theme.name}}}},methods:{updateBookmark(){this.bookmarked=!this.bookmarked,this.$apollo.mutate({mutation:y.Z,refetchQueries:["savedplaylists"],variables:{itemid:this.pageProps.playlistId,component:"totara_playlist",bookmarked:this.bookmarked}})},updatePlaylist(e){this.$emit("updateTitle",e.name)},resourceReordered(e){const{list:a,instanceid:i,destinationIndex:t,playlistId:n}=e;this.contribution=Object.assign({},this.contribution,{cards:a}),this.$apollo.mutate({mutation:_.Z,refetchQueries:[{query:g.Z,variables:{id:n,source:k.UrlSourceType.playlist(n),theme:v.config.theme.name,include_footnotes:!0}}],variables:{id:n,instanceid:i,order:t}})}}},S=function(e){e.options.__langStrings={totara_engage:["resourcecount"],engage_article:["loadmore","viewedresources"]}};var F=(0,i("wWJ2").Z)(f,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("Responsive",{staticClass:"tui-contributionPlaylistResources",attrs:{breakpoints:e.breakPoints},on:{"responsive-resize":function(a){e.size=a}}},[i("ContributionBaseContent",{attrs:{units:e.units,loading:!!e.$apollo.loading,"loading-more":e.loadingMore,"total-cards":e.contribution.cursor.total,"show-heading":!e.$apollo.loading&&"vertical"!==e.gridDirection,"grid-direction":e.gridDirection},scopedSlots:e._u([{key:"heading",fn:function(){return[i("HeaderBox",{attrs:{"playlist-id":e.pageProps.playlistId,title:e.playlist.name,owned:e.playlist.owned},on:{"update-playlist":e.updatePlaylist}})]},proxy:!0},{key:"bookmark",fn:function(){return[e.pageProps.interactor.can_bookmark?i("BookmarkButton",{attrs:{primary:!1,circle:!0,bookmarked:e.bookmarked,size:"300"},on:{click:e.updateBookmark}}):e._e()]},proxy:!0},e.contribution.cards&&e.playlist.access?{key:"cards",fn:function(){return[i("PlaylistResourcesGrid",{attrs:{"max-units":e.units,"playlist-id":e.pageProps.playlistId,size:e.size,"library-view":!0,cards:e.contribution.cards,contributable:e.playlist.contributable,access:e.playlist.access,"update-able":e.playlist.updateable,"is-loading":e.$apollo.loading,interactor:e.pageProps.interactor},on:{"resource-reordered":e.resourceReordered}})]},proxy:!0}:null],null,!0)})],1)}),[],!1,null,null,null);S(F),F.options.__hasBlocks={script:!0,template:!0};const V=F.exports},dtcz:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>x});var t=i("IpiT"),n=i.n(t);const r=tui.require("tui/components/buttons/ButtonGroup");var l=i.n(r);const s=tui.require("tui/components/buttons/Cancel");var d=i.n(s),o=i("ApK1"),m=i.n(o),u=i("2XTD"),c=i.n(u);const k=tui.require("tui/components/buttons/InfoIconButton");var v=i.n(k),p=i("IgBQ"),g=i.n(p),y=i("byAl"),_=i.n(y),N=i("x4c5"),b=i.n(N),h=i("Srla"),f=i.n(h),S=i("UYjc");const F={components:{Button:n(),ButtonGroup:l(),CancelButton:d(),Form:m(),FormRow:c(),InfoIconButton:v(),InputText:g(),UnsavedChangesWarning:_(),Weka:b()},props:{playlist:{type:Object,default:()=>({name:"",summary:""})}},data(){return{description:this.$id("engageContribute-description"),summary:f().empty(),hasUnsavedChanges:!1}},computed:{disabled(){return 0===this.playlist.name.length},name(){return this.playlist.name},hasFormData(){return this.playlist.name.length>0||!this.summary.isEmpty}},watch:{hasFormData(e){e&&(this.hasUnsavedChanges=!0,this.$emit("unsaved-changes"))}},methods:{submit(){const e={name:this.playlist.name,summary:this.summary.isEmpty?null:JSON.stringify(this.summary.getDoc()),summary_format:S.FORMAT_JSON_EDITOR};this.hasUnsavedChanges=!1,this.$emit("next",e)},cancel(){this.hasUnsavedChanges=!1,this.$nextTick((()=>{this.$emit("cancel")}))}}},V=function(e){e.options.__langStrings={core:["next"],totara_core:["save"],totara_playlist:["createplaylistshort","entertitle","adddescription","playlisttitle","playlistdescription"],totara_engage:["contributetip","contributetip_help","hashtags"]}};var C=(0,i("wWJ2").Z)(F,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("Form",{staticClass:"tui-playlistForm",attrs:{vertical:!0,"input-width":"full"}},[i("FormRow",{staticClass:"tui-playlistForm__title",attrs:{label:e.$str("playlisttitle","totara_playlist"),hidden:!0,required:!0},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.id;return[i("InputText",{attrs:{id:t,name:"playlist-title",maxlength:75,placeholder:e.$str("entertitle","totara_playlist"),required:!0},model:{value:e.playlist.name,callback:function(a){e.$set(e.playlist,"name",a)},expression:"playlist.name"}})]}}])}),e._v(" "),i("div",{staticClass:"tui-playlistForm__description"},[i("FormRow",{staticClass:"tui-playlistForm__description-formRow",attrs:{hidden:!0,label:e.$str("playlistdescription","totara_playlist")},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.id;return[i("Weka",{staticClass:"tui-playlistForm__description-textArea",attrs:{id:t,compact:!0,"usage-identifier":{component:"totara_playlist",area:"summary"},variant:"standard","extra-extensions":["hashtag","mention"],placeholder:e.$str("adddescription","totara_playlist")},model:{value:e.summary,callback:function(a){e.summary=a},expression:"summary"}})]}}])}),e._v(" "),i("div",{staticClass:"tui-playlistForm__description-tip"},[i("p",[e._v(e._s(e.$str("contributetip","totara_engage")))]),e._v(" "),i("InfoIconButton",{attrs:{"is-help-for":e.$str("hashtags","totara_engage")}},[e._v("\n        "+e._s(e.$str("contributetip_help","totara_engage"))+"\n      ")])],1)],1),e._v(" "),i("ButtonGroup",{staticClass:"tui-playlistForm__buttons"},[i("Button",{attrs:{styleclass:{primary:"true"},disabled:e.disabled,"aria-label":e.$str("createplaylistshort","totara_playlist"),text:e.$str("next","core")},on:{click:e.submit}}),e._v(" "),i("CancelButton",{on:{click:e.cancel}})],1),e._v(" "),e.hasUnsavedChanges?i("UnsavedChangesWarning",{attrs:{value:{hasUnsavedChanges:e.hasUnsavedChanges}}}):e._e()],1)}),[],!1,null,null,null);V(C),C.options.__hasBlocks={script:!0,template:!0};const x=C.exports},"603Z":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>k});var t=i("ApK1"),n=i.n(t),r=i("2XTD"),l=i.n(r),s=i("IgBQ"),d=i.n(s),o=i("W3Pw");const m={components:{DoneCancelGroup:i.n(o)(),Form:n(),FormRow:l(),InputText:d()},props:{submitting:Boolean,title:{type:String,default:""},focusInput:Boolean},data(){return{innerTitle:this.title}},watch:{title(e){this.innerTitle=e}},methods:{submit(){this.$emit("submit",{title:this.innerTitle})}}},u=function(e){e.options.__langStrings={totara_playlist:["playlisttitle"]}};var c=(0,i("wWJ2").Z)(m,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("Form",{staticClass:"tui-playlistTitleForm",attrs:{vertical:!0,"input-width":"full"},on:{submit:function(a){return a.preventDefault(),e.submit.apply(null,arguments)}}},[i("FormRow",{attrs:{label:e.$str("playlisttitle","totara_playlist"),hidden:!0},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.id,n=a.label;return[i("InputText",{attrs:{id:t,placeholder:n,"aria-label":n,maxlength:75,autofocus:e.focusInput,name:"playlist title"},nativeOn:{keydown:function(a){return!a.type.indexOf("key")&&e._k(a.keyCode,"esc",27,a.key,["Esc","Escape"])?null:e.$emit("cancel",a)}},model:{value:e.innerTitle,callback:function(a){e.innerTitle=a},expression:"innerTitle"}})]}}])}),e._v(" "),i("DoneCancelGroup",{attrs:{loading:e.submitting,disabled:0>=e.innerTitle.length},on:{done:function(a){return a.preventDefault(),e.submit.apply(null,arguments)},cancel:function(a){return a.preventDefault(),e.$emit("cancel",a)}}})],1)}),[],!1,null,null,null);u(c),c.options.__hasBlocks={script:!0,template:!0};const k=c.exports},fZAy:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>V});const t=tui.require("tui/components/grid/Grid");var n=i.n(t);const r=tui.require("tui/components/drag_drop/Draggable");var l=i.n(r);const s=tui.require("tui/components/icons/DragHandle");var d=i.n(s);const o=tui.require("tui/components/drag_drop/Droppable");var m=i.n(o);const u=tui.require("tui/components/grid/GridItem");var c=i.n(u);const k=tui.require("tui/components/util/PropsProvider");var v=i.n(k);const p=tui.require("totara_engage/components/card/compute/EngageCard");var g=i.n(p),y=i("7oVD");const _=tui.require("totara_playlist/components/card/AddNewPlaylistCard");var N=i.n(_),b=i("vTPe"),h=i("4H+X");const f={components:{AddNewPlaylistCard:N(),CoreGrid:n(),Draggable:l(),DragHandleIcon:d(),Droppable:m(),EngageCard:g(),GridItem:c(),PropsProvider:v()},props:{access:{type:String,required:!0},cards:{type:Array,required:!0},contributable:{type:Boolean,default:!0},libraryView:Boolean,maxUnits:{type:[String,Number],required:!0},playlistId:{type:[Number,String],required:!0},size:{type:String,required:!0},updateAble:Boolean,interactor:{type:Object,default:()=>({user_id:0,can_bookmark:!1,can_comment:!1,can_rate:!1,can_react:!1,can_share:!1,can_add_resource:!1})}},data:()=>({loadingComponents:!1}),computed:{gridSize(){return b.playlistGrid[this.size]},itemsPerRow(){if(1>=this.maxUnits)return 1;let e=Math.floor(this.maxUnits/this.cardUnits),a=this.gridSize.maxItemsPerRow;return e>a?a:1>=e?"small"===this.size&&this.libraryView?2:1:e},rows(){return(0,y.calculateRow)(this.allCards,this.itemsPerRow,!0)},cardUnits(){return"small"===this.size&&this.libraryView?Math.floor(this.maxUnits/2):this.gridSize.cardUnits},gridDirection(){if(this.libraryView){if("small"===this.size)return"horizontal";if("xsmall"===this.size)return"vertical"}return this.gridSize.cardDirection},allCards(){return this.contributable&&this.interactor.can_add_resource?[{component:"AddNewPlaylistCard"}].concat(this.cards):this.cards}},methods:{addResource({resourceId:e}){this.$apollo.mutate({mutation:h.Z,refetchAll:!1,refetchQueries:["totara_playlist_cards","totara_playlist_get_playlist"],variables:{playlistid:this.playlistId,resources:[e]}}).then((()=>{this.$emit("resource-added")}))},handleDrop(e){if(e.destination.sourceId==e.source.sourceId){const a=this.cards.slice(),i=a.splice(e.source.index-1,1)[0];a.splice(e.destination.index-1,0,i);const{instanceid:t}=i,n=e.destination.index-1,r=this.playlistId;this.$emit("resource-reordered",{list:a,instanceid:t,destinationIndex:n,playlistId:r})}}}},S=function(e){e.options.__langStrings={totara_playlist:["playlist_resource","move_element"]}};var F=(0,i("wWJ2").Z)(f,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-playlistResourcesGrid",attrs:{"data-max-units":e.maxUnits,"data-single-card-units":e.cardUnits,"data-size":e.size}},[e.$apollo.loading?e._e():[i("Droppable",{attrs:{"source-id":e.$id("playlist-grid"),"source-name":"Playlist Resources Grid","accept-drop":function(){return e.updateAble},"layout-interaction":"grid-line",axis:"horizontal"},on:{drop:e.handleDrop},scopedSlots:e._u([{key:"default",fn:function(a){var t=a.attrs,n=a.events;return[i("div",e._g(e._b({},"div",t,!1),n),e._l(e.rows,(function(a,t){return i("CoreGrid",{key:a.index,staticClass:"tui-playlistResourcesGrid__row",attrs:{direction:e.gridDirection,"max-units":e.maxUnits}},e._l(a.items,(function(a,n){return i("GridItem",{key:n,staticClass:"tui-playlistResourcesGrid__card",attrs:{grows:!0,units:e.cardUnits}},["AddNewPlaylistCard"===a.component?[i("AddNewPlaylistCard",{attrs:{"playlist-id":e.playlistId,access:e.access},on:{contribute:e.addResource}})]:"FillSlot"!==a.component?[i("Draggable",{attrs:{index:t*e.itemsPerRow+n,type:"playlist-grid-item",value:a,"aria-label":e.$str("move_element","totara_playlist",a.name)},scopedSlots:e._u([{key:"default",fn:function(r){var l=r.dragging,s=r.anyDragging,d=r.attrs,o=r.events;return[i("PropsProvider",{attrs:{provide:{nativeListeners:o}}},[i("div",e._g(e._b({staticClass:"tui-playlistResourcesGrid__card-item",class:{"tui-playlistResourcesGrid__card-item--dragging":e.updateAble&&l}},"div",d,!1),o),[!e.updateAble||s&&!l?e._e():i("div",{staticClass:"tui-playlistResourcesGrid__card-item-moveIcon"},[i("DragHandleIcon")],1),e._v(" "),i("EngageCard",{attrs:{"card-attribute":a,"aria-labelledby":e.$id("row-"+t+"-"+n+"-label"),"label-id":e.$id("row-"+t+"-"+n+"-label"),"aria-posinset":t*e.itemsPerRow+n+1,"aria-setsize":e.cards.length,"show-footnotes":e.updateAble},on:{refetch:function(a){return e.$emit("refetch",a)}}})],1)])]}}],null,!0)})]:[i("AddNewPlaylistCard",{style:{visibility:"hidden"},attrs:{"playlist-id":e.playlistId,access:e.access},on:{contribute:e.addResource}})]],2)})),1)})),1)]}}],null,!1,1590938557)})]],2)}),[],!1,null,null,null);S(F),F.options.__hasBlocks={script:!0,template:!0};const V=F.exports},eLV7:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>u});const t=tui.require("tui/components/modal/Modal");var n=i.n(t);const r=tui.require("tui/components/modal/ModalContent");var l=i.n(r);const s=tui.require("totara_playlist/components/CreatePlaylist"),d={components:{CreatePlaylist:i.n(s)(),Modal:n(),ModalContent:l()},props:{canShare:Boolean},data:()=>({size:"large",dismissable:{overlayClose:!1,esc:!0,backdropClick:!1},hideTabs:!1,stage:0}),computed:{getTitle(){return 1===this.stage?this.$str("accesssettings","totara_playlist"):this.$str("contribute","totara_playlist")}}},o=function(e){e.options.__langStrings={totara_playlist:["accesssettings","pluginname","contribute"]}};var m=(0,i("wWJ2").Z)(d,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("Modal",{attrs:{size:"large","aria-labelledby":e.$id("title"),dismissable:e.dismissable}},[i("ModalContent",{staticClass:"tui-playlistContributeModal",attrs:{"close-button":!1,title:e.getTitle,"content-padding":!1}},[i("div",{staticClass:"tui-playlistContributeModal__content"},[i("CreatePlaylist",{attrs:{"can-share":e.canShare},on:{cancel:function(a){return e.$emit("request-close")},"change-title":function(a){e.stage=a}}})],1)])],1)}),[],!1,null,null,null);o(m),m.options.__hasBlocks={script:!0,template:!0};const u=m.exports},oTdY:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>c});var t=i("uuPX"),n=i.n(t);const r=tui.require("totara_playlist/components/form/PlaylistTitleForm");var l=i.n(r);const s=tui.require("tui/notifications"),d={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_update_playlist_name"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_update"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contextid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timedescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updateable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalresources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manageable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasnonpublicresources"},arguments:[],directives:[]}]}}]}}]},o={components:{InlineEditing:n(),PlaylistTitleForm:l()},props:{playlistId:{type:Number,required:!0},title:{type:String,required:!0},updateAble:{type:Boolean,default:!0}},data:()=>({editing:!1,submitting:!1,focusEditButton:!1}),watch:{editing(e){this.focusEditButton=!e}},methods:{async updatePlaylistTitle({title:e}){if(!this.submitting){this.submitting=!0;try{const{data:{playlist:a}}=await this.$apollo.mutate({mutation:d,refetchAll:!1,variables:{id:this.playlistId,name:e}});this.editing=!1,this.$emit("update-playlist",a)}catch(e){await(0,s.notify)({message:this.$str("error:update","totara_playlist"),type:"error"})}finally{this.submitting=!1}}}}},m=function(e){e.options.__langStrings={totara_playlist:["error:update","edit_playlist_title"]}};var u=(0,i("wWJ2").Z)(o,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("section",{staticClass:"tui-playlistPageHeaderBox"},[e.editing?i("PlaylistTitleForm",{attrs:{title:e.title,"focus-input":!0,submitting:e.submitting},on:{submit:e.updatePlaylistTitle,cancel:function(a){e.editing=!1}}}):i("InlineEditing",{staticClass:"tui-playlistPageHeaderBox__titleBox",attrs:{"update-able":e.updateAble,"button-aria-label":e.$str("edit_playlist_title","totara_playlist"),"focus-button":e.focusEditButton},on:{click:function(a){e.editing=!0}}},[i("h1",{staticClass:"tui-playlistPageHeaderBox__title",attrs:{slot:"content"},slot:"content"},[e._v("\n      "+e._s(e.title)+"\n    ")])])],1)}),[],!1,null,null,null);m(u),u.options.__hasBlocks={script:!0,template:!0};const c=u.exports},D5OP:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>m});const t=tui.require("tui/components/popover/Popover");var n=i.n(t),r=i("IpiT"),l=i.n(r);const s={components:{Popover:n(),Button:l()},methods:{$_handleClick(e){e(),this.$emit("rating")}}},d=function(e){e.options.__langStrings={totara_playlist:["addrating"],totara_engage:["done"],core:["cancel"]}};var o=(0,i("wWJ2").Z)(s,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-playlistPopover"},[i("Popover",{attrs:{triggers:["click"]},scopedSlots:e._u([{key:"trigger",fn:function(){return[i("Button",{attrs:{text:e.$str("addrating","totara_playlist"),styleclass:{small:!0,transparent:!0}}})]},proxy:!0},{key:"buttons",fn:function(a){var t=a.close;return[i("div",{staticClass:"tui-playlistPopover__buttons"},[i("Button",{staticClass:"tui-playlistPopover__yes",attrs:{text:e.$str("done","totara_engage"),styleclass:{primary:!0,small:!0}},on:{click:function(a){return e.$_handleClick(t)}}}),e._v(" "),i("Button",{attrs:{text:e.$str("cancel","core"),styleclass:{small:!0}},on:{click:t}})],1)]}}])},[e._v(" "),e._t("content")],2)],1)}),[],!1,null,null,null);d(o),o.options.__hasBlocks={script:!0,template:!0};const m=o.exports},"9Kou":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>c});var t=i("Wo9o"),n=i.n(t);const r=tui.require("totara_playlist/components/modal/ContributeModal");var l=i.n(r);const s=tui.require("totara_engage/mixins/navigation_mixin");var d=i.n(s);const o={components:{Contribute:n(),ContributeModal:l()},mixins:[d()],data:()=>({collection:{own:[],saved:[]}}),apollo:{collection:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_playlist_links"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"own_playlists"},name:{kind:"Name",value:"totara_playlist_playlists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"StringValue",value:"eyJsaW1pdCI6MCwicGFnZSI6MX0=",block:!1}},{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"EnumValue",value:"OWN"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"library_view"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"saved_playlists"},name:{kind:"Name",value:"totara_playlist_playlists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"StringValue",value:"eyJsaW1pdCI6MCwicGFnZSI6MX0=",block:!1}},{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"EnumValue",value:"BOOKMARKED"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"library_view"},value:{kind:"BooleanValue",value:!0}}],directives:[]}]}}]}}]},update:({saved_playlists:e,own_playlists:a})=>({saved:e,own:a})}}},m=function(e){e.options.__langStrings={totara_playlist:["yourplaylists","savedplaylists","contributeplaylist"]}};var u=(0,i("wWJ2").Z)(o,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("section",{staticClass:"tui-playlistNavigation"},[i("div",{staticClass:"tui-engageNavigationPanel__category tui-engageNavigationPanel__contribute"},[i("h3",{staticClass:"tui-engageNavigationPanel__header"},[e._v("\n      "+e._s(e.$str("yourplaylists","totara_playlist"))+"\n    ")]),e._v(" "),e.showContribute?i("Contribute",{attrs:{"show-text":!1,"show-icon":!0,styleclass:{circle:!0,xsmall:!0,primary:!1},"aria-label":e.$str("contributeplaylist","totara_playlist")},scopedSlots:e._u([{key:"modal",fn:function(){return[i("ContributeModal",{attrs:{"can-share":e.canShare}})]},proxy:!0}],null,!1,2271135266)}):e._e()],1),e._v(" "),e.$apollo.loading?e._e():e._l(e.collection.own,(function(a,t){return i("div",{key:"playlistLink_"+t,class:e.getNavigationLinkClass("playlist_"+a.id,t)},[i("a",{staticClass:"tui-engageNavigationPanel__link-text",attrs:{href:a.url}},[e._v("\n        "+e._s(a.name)+"\n      ")])])})),e._v(" "),i("div",{staticClass:"tui-engageNavigationPanel__category"},[i("h3",{staticClass:"tui-engageNavigationPanel__header"},[e._v("\n      "+e._s(e.$str("savedplaylists","totara_playlist"))+"\n    ")])]),e._v(" "),e.$apollo.loading?e._e():e._l(e.collection.saved,(function(a,t){return i("div",{key:"playlistSaved_"+t,class:e.getNavigationLinkClass("playlist_"+a.id,t)},[i("a",{staticClass:"tui-engageNavigationPanel__link-text",attrs:{href:a.url}},[e._v("\n        "+e._s(a.name)+"\n      ")])])}))],2)}),[],!1,null,null,null);m(u),u.options.__hasBlocks={script:!0,template:!0};const c=u.exports},wIVo:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>q});const t=tui.require("totara_engage/components/sidepanel/EngageSidePanel");var n=i.n(t);const r=tui.require("totara_comment/components/box/SidePanelCommentBox");var l=i.n(r);const s=tui.require("totara_engage/components/sidepanel/access/AccessSetting");var d=i.n(s);const o=tui.require("totara_engage/components/sidepanel/access/AccessDisplay");var m=i.n(o);const u=tui.require("tui/components/loading/Loader");var c=i.n(u);const k=tui.require("totara_playlist/components/sidepanel/PlaylistSummary");var v=i.n(k),p=i("3Uz/"),g=i.n(p);const y=tui.require("totara_engage/components/sidepanel/media/MediaSetting");var _=i.n(y);const N=tui.require("totara_playlist/components/sidepanel/PlaylistStarRating");var b=i.n(N);const h=tui.require("totara_playlist/components/sidepanel/Related");var f=i.n(h);const S=tui.require("tui/components/profile/MiniProfileCard");var F=i.n(S);const V=tui.require("tui/components/dropdown/DropdownItem");var C=i.n(V),x=i("7oVD"),w=i("O34t");const A={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_update_playlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"access"}},type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_access"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"topics"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"shares"}},type:{kind:"ListType",type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"totara_engage_recipient_in"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_update"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"access"},value:{kind:"Variable",name:{kind:"Name",value:"access"}}},{kind:"Argument",name:{kind:"Name",value:"topics"},value:{kind:"Variable",name:{kind:"Name",value:"topics"}}},{kind:"Argument",name:{kind:"Name",value:"shares"},value:{kind:"Variable",name:{kind:"Name",value:"shares"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contextid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timedescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updateable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalresources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manageable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasnonpublicresources"},arguments:[],directives:[]}]}}]}}]},P={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_delete_playlist"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_playlist_delete"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[]}]}}]},D={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_add_rating"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlistid"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"rating"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Int"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"ratingarea"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"result"},name:{kind:"Name",value:"totara_playlist_add_rating"},arguments:[{kind:"Argument",name:{kind:"Name",value:"playlistid"},value:{kind:"Variable",name:{kind:"Name",value:"playlistid"}}},{kind:"Argument",name:{kind:"Name",value:"rating"},value:{kind:"Variable",name:{kind:"Name",value:"rating"}}},{kind:"Argument",name:{kind:"Name",value:"ratingarea"},value:{kind:"Variable",name:{kind:"Name",value:"ratingarea"}}}],directives:[]}]}}]},I={components:{EngageSidePanel:n(),SidePanelCommentBox:l(),AccessSetting:d(),AccessDisplay:m(),PlaylistSummary:v(),PlaylistStarRating:b(),PageLoader:c(),ConfirmationModal:g(),MediaSetting:_(),Related:f(),MiniProfileCard:F(),DropdownItem:C()},props:{playlistId:{type:[Number,String],required:!0},interactor:{type:Object,default:()=>({user_id:0,can_bookmark:!1,can_comment:!1,can_rate:!1,can_react:!1,can_share:!1,show_share_button:!1})}},apollo:{playlist:{query:w.Z,variables(){return{id:this.playlistId}}},features:{query:{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_engage_advanced_features"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"features"},name:{kind:"Name",value:"totara_engage_advanced_features"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"library"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"recommenders"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"workspaces"},arguments:[],directives:[]}]}}]}}]}}},data:()=>({playlist:{},submitting:!1,deleting:!1,modal:{confirm:!1},openModalFromButtonLabel:!1}),computed:{user(){return this.playlist.user?this.playlist.user:{}},featureRecommenders(){return this.features&&this.features.recommenders},canManage(){return this.playlist.owned||this.playlist.manageable},canUpdate(){return this.playlist.updatable||this.canManage},isPrivate(){return x.AccessManager.isPrivate(this.playlist.access)},shareButtonLabel(){return this.playlist.owned?this.$str("shareplaylist","totara_playlist",this.playlist.name):this.$str("reshareplaylist","totara_playlist",this.playlist.name)}},methods:{updateAccess({access:e,topics:a,shares:i}){a=Array.prototype.slice.call(a),this.submitting=!0,this.$apollo.mutate({mutation:A,refetchQueries:["totara_playlist_cards","totara_playlist_get_playlist"],variables:{id:this.playlistId,access:e,topics:a.map((({id:e})=>e)),shares:i},update:(e,{data:a})=>{e.writeQuery({query:w.Z,variables:{id:this.playlistId},data:a})}}).finally((()=>{this.submitting=!1,this.$emit("playlist-updated")}))},handleDelete(){this.deleting=!0,this.$apollo.mutate({mutation:P,variables:{id:this.playlistId},refetchAll:!1}).then((({data:e})=>{e.result&&(this.$children.openModal=!1,window.location.href=this.$url("/totara/engage/your_resources.php"))}))},createRating(e){this.submitting||(this.submitting=!0),this.$apollo.mutate({mutation:D,refetchQueries:[{query:w.Z,variables:{id:this.playlistId}}],variables:{playlistid:this.playlistId,rating:Math.ceil(e),ratingarea:"playlist"}}).then((({data:e})=>{e.result&&(this.submitting=!1)}))}}},T=function(e){e.options.__langStrings={totara_playlist:["reshareplaylist","shareplaylist","delete_playlist_confirm_1","delete_playlist_confirm_2","deletewarningtitle"],core:["delete"]}};var $=(0,i("wWJ2").Z)(I,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return e.$apollo.loading?e._e():i("EngageSidePanel",{staticClass:"tui-playlistSidePanel",attrs:{"show-related":e.featureRecommenders},scopedSlots:e._u([{key:"author-profile",fn:function(){return[i("MiniProfileCard",{staticClass:"tui-playlistSidePanel__profile",attrs:{display:e.user.card_display,"no-border":!0,"no-padding":!0},scopedSlots:e._u([e.canManage?{key:"drop-down-items",fn:function(){return[i("DropdownItem",{on:{click:function(a){e.modal.confirm=!0}}},[e._v("\n          "+e._s(e.$str("delete","core"))+"\n        ")])]},proxy:!0}:null],null,!0)})]},proxy:!0},{key:"modal",fn:function(){return[i("ConfirmationModal",{attrs:{open:e.modal.confirm,title:e.$str("deletewarningtitle","totara_playlist"),"confirm-button-text":e.$str("delete","core"),loading:e.deleting},on:{confirm:e.handleDelete,cancel:function(a){e.modal.confirm=!1}}},[i("p",[e._v(e._s(e.$str("delete_playlist_confirm_1","totara_playlist")))]),e._v(" "),i("p",[e._v(e._s(e.$str("delete_playlist_confirm_2","totara_playlist")))])])]},proxy:!0},{key:"overview",fn:function(){return[i("div",{staticClass:"tui-playlistSidePanel__overview"},[i("PageLoader",{attrs:{fullpage:!0,loading:e.submitting}}),e._v(" "),i("p",{staticClass:"tui-playlistSidePanel__timeDescription"},[e._v("\n        "+e._s(e.playlist.timedescription)+"\n      ")]),e._v(" "),e.canManage?i("AccessSetting",{attrs:{"item-id":e.playlistId,"has-non-public-resources":e.playlist.hasnonpublicresources,component:"totara_playlist","access-value":e.playlist.access,topics:e.playlist.topics,submitting:e.submitting,"open-access-modal":e.openModalFromButtonLabel,"show-share-button":e.interactor.show_share_button},on:{"access-update":e.updateAccess,"close-modal":function(a){e.openModalFromButtonLabel=!1}}}):i("AccessDisplay",{attrs:{"access-value":e.playlist.access,topics:e.playlist.topics,"show-button":!1}}),e._v(" "),i("PlaylistSummary",{staticClass:"tui-playlistSidePanel__summary",attrs:{"update-able":e.canUpdate,"instance-id":e.playlist.id,summary:e.playlist.summary}}),e._v(" "),i("div",{staticClass:"tui-playlistSidePanel__setting"},[e.interactor.can_rate?i("PlaylistStarRating",{attrs:{owned:e.playlist.owned,count:e.playlist.rating.count,rating:e.playlist.rating.rating,rated:e.playlist.rating.rated},on:{rating:e.createRating}}):e._e(),e._v(" "),i("MediaSetting",{staticClass:"tui-playlistSidePanel__media",attrs:{owned:e.canManage,"access-value":e.playlist.access,"instance-id":e.playlistId,"share-button-aria-label":e.shareButtonLabel,"shared-by-count":e.playlist.sharedbycount,"show-like-button":e.interactor.can_react,"show-share-button":e.interactor.can_share,"component-name":"totara_playlist"},on:{"access-update":e.updateAccess,"access-modal":function(a){e.openModalFromButtonLabel=!0}}})],1)],1)]},proxy:!0},{key:"comments",fn:function(){return[i("SidePanelCommentBox",{staticClass:"tui-playlistSidePanel__commentBox",attrs:{component:"totara_playlist",area:"comment","editor-variant":"basic","extra-extensions":["hashtag","mention"],"instance-id":e.playlist.id,"editor-context-id":e.playlist.contextid,"show-comment":e.interactor.can_comment}})]},proxy:!0},e.featureRecommenders?{key:"related",fn:function(){return[i("Related",{attrs:{component:"totara_playlist",area:"related","playlist-id":e.playlist.id}})]},proxy:!0}:null],null,!0)})}),[],!1,null,null,null);T($),$.options.__hasBlocks={script:!0,template:!0};const q=$.exports},"+bL7":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>m});const t=tui.require("totara_playlist/components/popover/PlaylistPopover");var n=i.n(t),r=i("O83a"),l=i.n(r);const s={components:{PlaylistPopover:n(),StarRating:l()},props:{owned:{type:Boolean,required:!0},count:{type:Number,required:!0},rating:{type:Number,required:!0},rated:{type:Boolean,required:!0}},data:()=>({innerValue:null}),computed:{starTitle(){return this.count<=1?this.$str("numberofpersonrating","totara_engage",this.count):this.$str("numberofpeoplerating","totara_engage",this.count)},showRates(){return 1===this.count||0===this.count?this.$str("rating","totara_playlist"):this.$str("ratings","totara_playlist")},showRatingCount(){return this.count},showRating(){return this.rating},showPopover(){return!this.owned&&!this.rated}}},d=function(e){e.options.__langStrings={totara_playlist:["rating","ratings"],totara_engage:["numberofpeoplerating","numberofpersonrating"]}};var o=(0,i("wWJ2").Z)(s,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-playlistStarRating"},[i("div",{staticClass:"tui-playlistStarRating__icon"},[i("StarRating",{attrs:{"read-only":!0,"max-rating":5,increment:.1,title:e.starTitle,rating:e.showRating}})],1),e._v(" "),i("div",[i("span",{staticClass:"tui-playlistStarRating__rates"},[e._v("\n      "+e._s(e.showRatingCount)+"\n    ")]),e._v("\n\n    "+e._s(e.showRates)+"\n\n    "),e.showPopover?i("PlaylistPopover",{on:{rating:function(a){e.$emit("rating",Math.ceil(e.innerValue))}},scopedSlots:e._u([{key:"content",fn:function(){return[i("StarRating",{attrs:{"read-only":!1,increment:1,"max-rating":5},model:{value:e.innerValue,callback:function(a){e.innerValue=a},expression:"innerValue"}})]},proxy:!0}],null,!1,506935594)}):e._e()],1)])}),[],!1,null,null,null);d(o),o.options.__hasBlocks={script:!0,template:!0};const m=o.exports},hZkm:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>h});const t=tui.require("tui/tui");var n=i.n(t),r=i("UYjc"),l=i("x4c5"),s=i.n(l),d=i("Srla"),o=i.n(d),m=i("W3Pw"),u=i.n(m),c=i("uuPX"),k=i.n(c),v=i("byAl"),p=i.n(v);const g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"totara_playlist_get_playlist_raw"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_instance"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"RAW"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summaryformat"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}}]}}]},y={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"totara_playlist_update_playlist_summary"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"summary"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"summary_format"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"playlist"},name:{kind:"Name",value:"totara_playlist_update"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}},{kind:"Argument",name:{kind:"Name",value:"summary"},value:{kind:"Variable",name:{kind:"Name",value:"summary"}}},{kind:"Argument",name:{kind:"Name",value:"summary_format"},value:{kind:"Variable",name:{kind:"Name",value:"summary_format"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card_display"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_alt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_picture_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profile_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"display_fields"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"is_custom"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"associate_url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contextid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timedescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"HTML"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"itemid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rating"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rated"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"updateable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contributable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"totalresources"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"manageable"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasnonpublicresources"},arguments:[],directives:[]}]}}]}}]},_={components:{DoneCancelGroup:u(),InlineEditing:k(),Weka:s(),UnsavedChangesWarning:p()},props:{instanceId:{type:[String,Number],required:!0},summary:{type:String,default:null},updateAble:{type:Boolean,default:!1}},data:()=>({editing:!1,submitting:!1,content:o().empty()}),apollo:{playlist:{query:g,fetchPolicy:"network-only",skip(){return!this.editing},variables(){return{id:this.instanceId}},result({data:{playlist:e}}){e&&e.summary&&(this.content=o().fromDoc(JSON.parse(e.summary)))}}},mounted(){this.$_scan()},updated(){this.$_scan()},methods:{handleUpdate(e){this.$_readJson(e)},submit(){this.submitting=!0,this.$apollo.mutate({mutation:y,variables:{id:this.instanceId,summary:JSON.stringify(this.content.getDoc()),summary_format:r.FORMAT_JSON_EDITOR},updateQuery:(e,a)=>{e.writeQuery({query:g,variables:{id:this.instanceId},data:a})}}).finally((()=>{this.editing=!1,this.submitting=!1}))},$_scan(){if(!this.$refs.content)return;let e=this.$refs.content;n().scan(e)}}},N=function(e){e.options.__langStrings={totara_playlist:["adddescription"]}};var b=(0,i("wWJ2").Z)(_,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-playlistSummary"},[e.editing?i("Form",[e.content.isEmpty||e.submitting?e._e():i("UnsavedChangesWarning",{attrs:{value:e.content}}),e._v(" "),i("Weka",{staticClass:"tui-playlistSummary__editor",attrs:{"usage-identifier":{component:"totara_playlist",area:"summary",instanceId:e.instanceId},compact:!0,variant:"standard","extra-extensions":["hashtag","mention"],placeholder:e.$str("adddescription","totara_playlist")},model:{value:e.content,callback:function(a){e.content=a},expression:"content"}}),e._v(" "),i("DoneCancelGroup",{attrs:{loading:e.submitting,disabled:e.submitting},on:{done:e.submit,cancel:function(a){e.editing=!1}}})],1):i("InlineEditing",{attrs:{"full-width":!0,"update-able":e.updateAble,"button-aria-label":e.$str("adddescription","totara_playlist")},on:{click:function(a){e.editing=!0}},scopedSlots:e._u([{key:"content",fn:function(){return[e.summary?i("div",{ref:"content",staticClass:"tui-playlistSummary__content",domProps:{innerHTML:e._s(e.summary)}}):!e.summary&&e.updateAble?i("div",{staticClass:"tui-playlistSummary__placeholder"},[e._v("\n        "+e._s(e.$str("adddescription","totara_playlist"))+"\n      ")]):e._e()]},proxy:!0}],null,!1,3412677065)})],1)}),[],!1,null,null,null);N(b),b.options.__hasBlocks={script:!0,template:!0};const h=b.exports},"8LVl":(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>c});const t=tui.require("totara_playlist/components/card/RelatedCard");var n=i.n(t),r=i("7oVD"),l=i("MI77");const s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ml_recommender_get_recommended_playlists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"param_integer"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cursor"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_text"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"source"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"theme"}},type:{kind:"NamedType",name:{kind:"Name",value:"param_component"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"cursor"},name:{kind:"Name",value:"ml_recommender_recommended_playlists_cursor"},arguments:[{kind:"Argument",name:{kind:"Name",value:"playlist_id"},value:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"next"},arguments:[],directives:[]}]}},{kind:"Field",alias:{kind:"Name",value:"playlists"},name:{kind:"Name",value:"ml_recommender_recommended_playlists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"playlist_id"},value:{kind:"Variable",name:{kind:"Name",value:"playlist_id"}}},{kind:"Argument",name:{kind:"Name",value:"cursor"},value:{kind:"Variable",name:{kind:"Name",value:"cursor"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"instanceid"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"summary"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"component"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tuicomponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"access"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"comments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"reactions"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timecreated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sharedbycount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bookmarked"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extra"},arguments:[{kind:"Argument",name:{kind:"Name",value:"theme"},value:{kind:"Variable",name:{kind:"Name",value:"theme"}}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"owned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullname"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimageurl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileimagealt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"topics"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[{kind:"Argument",name:{kind:"Name",value:"format"},value:{kind:"EnumValue",value:"PLAIN"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[{kind:"Argument",name:{kind:"Name",value:"source"},value:{kind:"Variable",name:{kind:"Name",value:"source"}}}],directives:[]}]}}]}}]};var d=i("4+xE");const o={components:{RelatedCard:n()},props:{playlistId:{type:[Number,String],required:!0}},apollo:{articles:{query:s,refetchAll:!1,variables(){return{playlist_id:this.playlistId,source:r.UrlSourceType.article(this.playlistId),theme:l.config.theme.name}},update(e){return e.playlists.length<=0?[]:(this.$emit("show-related"),e.playlists.map((e=>{const{bookmarked:a,extra:i,name:t,instanceid:n,reactions:r,url:l}=e,{image:s,alt:d,timeview:o}=JSON.parse(i);return{bookmarked:a,instanceid:n,image:s,alt:d,name:t,reactions:r,timeview:o,url:l}})))}}},data:()=>({playlists:[]}),mounted(){this.getRecommendations()},methods:{getRecommendations(){this.$apollo.query({query:s,refetchAll:!1,variables:{playlist_id:this.playlistId,source:r.UrlSourceType.playlist(this.playlistId),theme:l.config.theme.name}}).then((({data:e})=>{e.playlists.length<=0||(this.$emit("show-related"),this.playlists=e.playlists.map((e=>{const{bookmarked:a,extra:i,name:t,instanceid:n,user:r,url:l}=e,{image:s,alt:d,rating:o,resources:m}=JSON.parse(i),{fullname:u}=r;return{bookmarked:a,fullname:u,instanceid:n,image:s,alt:d,name:t,rating:o,resources:m,url:l}})))}))},update(e,a){this.$apollo.mutate({mutation:d.Z,refetchAll:!1,variables:{itemid:e,component:"totara_playlist",bookmarked:a}})}}},m=function(e){e.options.__langStrings={core:["noresults"]}};var u=(0,i("wWJ2").Z)(o,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return e.playlists.length>0?i("div",{staticClass:"tui-playlistRelated"},e._l(e.playlists,(function(a){var t=a.bookmarked,n=a.fullname,r=a.instanceid,l=a.image,s=a.alt,d=a.name,o=a.rating,m=a.resources,u=a.url;return i("article",{key:r},[i("RelatedCard",{attrs:{"playlist-id":r,bookmarked:t,fullname:n,image:l,"image-alt":s,name:d,rating:o,resources:m,url:u},on:{update:e.update}})],1)})),0):e.$apollo.loading?e._e():i("span",{staticClass:"tui-playlistRelated__noResults"},[e._v("\n  "+e._s(e.$str("noresults","core"))+"\n")])}),[],!1,null,null,null);m(u),u.options.__hasBlocks={script:!0,template:!0};const c=u.exports},Er8m:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>o});var t=i("T30a"),n=i.n(t),r=i("BTfA"),l=i.n(r);const s={components:{PlaylistSidePanel:n()},mixins:[l()],computed:{playlistId(){return this.pageProps.playlistId}}};var d=(0,i("wWJ2").Z)(s,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("div",{staticClass:"tui-playlistSidePanelContent"},[i("PlaylistSidePanel",{attrs:{"playlist-id":e.playlistId,interactor:e.pageProps.interactor}})],1)}),[],!1,null,null,null);d.options.__hasBlocks={script:!0,template:!0};const o=d.exports},nOjo:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>x});var t=i("jzXa"),n=i.n(t),r=i("T30a"),l=i.n(r),s=i("f0cm"),d=i.n(s),o=i("caAW"),m=i.n(o),u=i("0Cpl"),c=i.n(u);const k=tui.require("totara_engage/components/page/LayoutOneColumnWithSidePanel");var v=i.n(k);const p=tui.require("totara_engage/components/header/ResourceNavigationBar");var g=i.n(p);const y=tui.require("tui/apollo_client");var _=i.n(y),N=i("MI77"),b=i("O34t"),h=i("S2kq"),f=i("4+xE"),S=i("C7Pw");const F={components:{PlaylistResourcesGrid:n(),PlaylistSidePanel:l(),BookmarkButton:d(),ContributionBaseContent:m(),HeaderBox:c(),Layout:v(),ResourceNavigationBar:g()},props:{playlistId:{required:!0,type:Number},backButton:{type:Object,required:!1},interactor:{type:Object,default:()=>({user_id:0,can_bookmark:!1,can_comment:!1,can_rate:!1,can_react:!1,can_share:!1,can_add_resource:!1,show_share_button:!1})},pageProps:Object},apollo:{playlist:{query:b.Z,variables(){return{id:this.playlistId}},result({data:{playlist:e}}){this.bookmarked=e.bookmarked}},contribution:{query:h.Z,variables(){return{id:this.playlistId,source:"pl."+this.playlistId,footnotes_type:"playlist",footnotes_item_id:this.playlistId,include_footnotes:!0,theme:N.config.theme.name}}}},data:()=>({playlist:{},bookmarked:!1,contribution:{cursor:{total:0,next:null},cards:[]},isLoadMoreVisible:!1,loadingMore:!1}),computed:{canUpdate(){return this.playlist.owned||this.playlist.manageable}},methods:{updateBookmark(){this.bookmarked=!this.bookmarked,this.$apollo.mutate({mutation:f.Z,refetchAll:!1,variables:{itemid:this.playlistId,component:"totara_playlist",bookmarked:this.bookmarked}})},refetchCards(){this.$apollo.queries.contribution.refetch()},refetchCardsAndPlaylist(){this.$apollo.queries.contribution.refetch(),this.$apollo.queries.playlist.refetch()},resourceReordered(e){const{list:a,instanceid:i,destinationIndex:t,playlistId:n}=e;this.contribution=Object.assign({},this.contribution,{cards:a}),this.$apollo.mutate({mutation:S.Z,variables:{id:n,instanceid:i,order:t}})},async scrolledToBottom(){this.isLoadMoreVisible||(await this.loadMoreItems(),this.isLoadMoreVisible=!0)},async loadMore(){await this.loadMoreItems(),this.isLoadMoreVisible=!1},async loadMoreItems(){this.contribution.cursor.next&&(this.loadingMore=!0,this.$apollo.queries.contribution.fetchMore({variables:{id:this.pageProps.playlistId,cursor:this.contribution.cursor.next},updateQuery:(e,{fetchMoreResult:a})=>{const i=e.contribution,t=a.contribution,n=i.cards.concat(t.cards);return this.loadingMore=!1,{contribution:{cursor:t.cursor,cards:n}}}}))},updatePlaylist(e){_().writeQuery({query:b.Z,variables:{id:this.playlistId},data:{playlist:e}})}}},V=function(e){e.options.__langStrings={totara_engage:["resourcecount"],engage_article:["loadmore","viewedresources"]}};var C=(0,i("wWJ2").Z)(F,(function(){var e=this,a=e.$createElement,i=e._self._c||a;return i("Layout",{staticClass:"tui-playlistView",scopedSlots:e._u([{key:"column",fn:function(a){var t=a.units,n=a.boundaryName;return[i("ContributionBaseContent",{attrs:{units:t,loading:!!e.$apollo.loading,"loading-more":e.loadingMore,"total-cards":e.contribution.cursor.total,"show-heading":!e.$apollo.loading,"grid-direction":"horizontal"},scopedSlots:e._u([{key:"buttons",fn:function(){return[i("ResourceNavigationBar",{attrs:{"back-button":e.backButton}})]},proxy:!0},{key:"heading",fn:function(){return[i("HeaderBox",{attrs:{"playlist-id":e.playlistId,title:e.playlist.name,"update-able":e.canUpdate},on:{"update-playlist":e.updatePlaylist}})]},proxy:!0},{key:"bookmark",fn:function(){return[e.interactor.can_bookmark?i("BookmarkButton",{staticClass:"tui-playlistView__bookmark",attrs:{primary:!1,circle:!0,bookmarked:e.bookmarked,size:"300"},on:{click:e.updateBookmark}}):e._e()]},proxy:!0},e.contribution.cards&&e.playlist.access?{key:"cards",fn:function(){return[i("PlaylistResourcesGrid",{attrs:{"max-units":t,"playlist-id":e.playlistId,size:n,cards:e.contribution.cards,contributable:e.playlist.contributable,access:e.playlist.access,"update-able":e.canUpdate,"is-loading":e.$apollo.loading,interactor:e.interactor},on:{refetch:e.refetchCards,"resource-added":e.refetchCardsAndPlaylist,"resource-reordered":e.resourceReordered}}),e._v(" "),e.isLoadMoreVisible&&e.contribution.cards.length<e.contribution.cursor.total&&!e.$apollo.loading?i("div",{staticClass:"tui-playlistView__loadMoreContainer"},[i("div",{staticClass:"tui-playlistView__viewedResources"},[e._v("\n            "+e._s(e.$str("viewedresources","engage_article",e.contribution.cards.length))+"\n            "+e._s(e.$str("resourcecount","totara_engage",e.contribution.cursor.total))+"\n          ")]),e._v(" "),i("Button",{staticClass:"tui-playlistView__loadMore",attrs:{text:e.$str("loadmore","engage_article")},on:{click:e.loadMore}})],1):e._e()]},proxy:!0}:null],null,!0)})]}},{key:"sidepanel",fn:function(){return[i("PlaylistSidePanel",{attrs:{"playlist-id":e.playlistId,interactor:e.interactor},on:{"playlist-updated":e.refetchCards}})]},proxy:!0}])})}),[],!1,null,null,null);V(C),C.options.__hasBlocks={script:!0,template:!0};const x=C.exports},"a8a/":(e,a,i)=>{"use strict";i.r(a),i.d(a,{playlistGrid:()=>t.default});var t=i("MY6N")},MY6N:(e,a,i)=>{"use strict";i.r(a),i.d(a,{default:()=>t});const t={xsmall:{name:"xsmall",boundaries:[0,480],gridDirection:"horizontal",cardDirection:"vertical",maxItemsPerRow:1,cardUnits:11},small:{name:"small",boundaries:[481,764],gridDirection:"horizontal",cardDirection:"vertical",maxItemsPerRow:2,cardUnits:5},medium:{name:"medium",boundaries:[765,1192],gridDirection:"horizontal",cardDirection:"horizontal",maxItemsPerRow:3,cardUnits:3},large:{name:"large",boundaries:[1193,1396],gridDirection:"horizontal",cardDirection:"horizontal",maxItemsPerRow:4,cardUnits:2},xlarge:{name:"xlarge",boundaries:[1397,1672],gridDirection:"horizontal",cardDirection:"horizontal",maxItemsPerRow:5,cardUnits:2}}},wWJ2:(e,a,i)=>{"use strict";function t(e,a,i,t,n,r,l,s){var d,o="function"==typeof e?e.options:e;if(a&&(o.render=a,o.staticRenderFns=i,o._compiled=!0),t&&(o.functional=!0),r&&(o._scopeId="data-v-"+r),l?(d=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),n&&n.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(l)},o._ssrRegister=d):n&&(d=s?function(){n.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:n),d)if(o.functional){o._injectStyles=d;var m=o.render;o.render=function(e,a){return d.call(a),m(e,a)}}else{var u=o.beforeCreate;o.beforeCreate=u?[].concat(u,d):[d]}return{exports:e,options:o}}i.d(a,{Z:()=>t})},Srla:e=>{"use strict";e.exports=tui.require("editor_weka/WekaValue")},x4c5:e=>{"use strict";e.exports=tui.require("editor_weka/components/Weka")},f0cm:e=>{"use strict";e.exports=tui.require("totara_engage/components/buttons/BookmarkButton")},W3Pw:e=>{"use strict";e.exports=tui.require("totara_engage/components/buttons/DoneCancelGroup")},caAW:e=>{"use strict";e.exports=tui.require("totara_engage/components/contribution/BaseContent")},Wo9o:e=>{"use strict";e.exports=tui.require("totara_engage/components/contribution/Contribute")},uuPX:e=>{"use strict";e.exports=tui.require("totara_engage/components/form/InlineEditing")},byAl:e=>{"use strict";e.exports=tui.require("totara_engage/components/form/UnsavedChangesWarning")},O83a:e=>{"use strict";e.exports=tui.require("totara_engage/components/icons/StarRating")},"7oVD":e=>{"use strict";e.exports=tui.require("totara_engage/index")},BTfA:e=>{"use strict";e.exports=tui.require("totara_engage/mixins/library_mixin")},jzXa:e=>{"use strict";e.exports=tui.require("totara_playlist/components/grid/PlaylistResourcesGrid")},"0Cpl":e=>{"use strict";e.exports=tui.require("totara_playlist/components/page/HeaderBox")},T30a:e=>{"use strict";e.exports=tui.require("totara_playlist/components/sidepanel/PlaylistSidePanel")},vTPe:e=>{"use strict";e.exports=tui.require("totara_playlist/index")},"1+j7":e=>{"use strict";e.exports=tui.require("tui/components/buttons/ButtonIcon")},IpiT:e=>{"use strict";e.exports=tui.require("tui/components/buttons/Button")},ifSE:e=>{"use strict";e.exports=tui.require("tui/components/card/Card")},"2XTD":e=>{"use strict";e.exports=tui.require("tui/components/form/FormRow")},ApK1:e=>{"use strict";e.exports=tui.require("tui/components/form/Form")},IgBQ:e=>{"use strict";e.exports=tui.require("tui/components/form/InputText")},"3Uz/":e=>{"use strict";e.exports=tui.require("tui/components/modal/ConfirmationModal")},MI77:e=>{"use strict";e.exports=tui.require("tui/config")},UYjc:e=>{"use strict";e.exports=tui.require("tui/format")}},a={};function i(t){var n=a[t];if(void 0!==n)return n.exports;var r=a[t]={exports:{}};return e[t](r,r.exports,i),r.exports}i.n=e=>{var a=e&&e.__esModule?()=>e.default:()=>e;return i.d(a,{a}),a},i.d=(e,a)=>{for(var t in a)i.o(a,t)&&!i.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})},i.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},function(){"use strict";"undefined"!=typeof tui&&tui._bundle.isLoaded("totara_playlist")?console.warn('[tui bundle] The bundle "totara_playlist" is already loaded, skipping initialisation.'):(tui._bundle.register("totara_playlist"),tui._bundle.addModulesFromContext("totara_playlist",i("T6TN")),tui._bundle.addModulesFromContext("totara_playlist/components",i("xqLI")),tui._bundle.addModulesFromContext("totara_playlist/pages",i("r7e5")))}()})();