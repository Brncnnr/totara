//
// This file is part of Totara Learn
//
// Copyright (C) 2022 onwards Totara Learning Solutions LTD
//
// This program is free software; you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation; either version 3 of the License, or
// (at your option) any later version.
//
// This program is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with this program.  If not, see <http://www.gnu.org/licenses/>.
//
// @copyright 2022 onwards Totara Learning Solutions LTD
// @license   http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
// @author    Simon Chester <simon.chester@totaralearning.com>
// @package   theme_roots

.jsoneditor-image-block {
    // same spacing as paragraph
    margin: 0 0 (@line-height-computed / 2) 0;

    &__img {
        display: block;
        max-width: 100%;
        height: auto;
    }

    &--display-size &__img {
        width: 100%;
    }

    // note: lerp-responsive-width does not work in less, so these values are
    // generated by putting richtext.scss into https://www.sassmeister.com/

    &--display-size-large {
        width: 100%;
    }

    &--display-size-medium {
        width: 66%; // IE11 does not support the responsive sizes, so specify a fixed fallback
        width: ~"calc(max(min(calc(min(max(calc((69.375% + 91.875px) * 0.8), 240px), 80%)), 462px), 66%))";
    }

    &--display-size-small {
        width: 33%; // IE11 does not support the responsive sizes, so specify a fixed fallback
        width: ~"calc(max(min(calc(min(max(calc((40.5% + 178.5px) * 0.5), 150px), 50%)), 231px), 33%))";
    }
}

.jsoneditor-figcaption {
    color: #767676;
    padding-bottom: 1.6rem;
}

.jsoneditor-layout-block {
    display: flex;
    flex-wrap: wrap;
}

.jsoneditor-layout-column {
    // Switch to single column layout below 50rem
    // https://every-layout.dev/layouts/switcher/
    flex-basis: calc((50rem - 100%) * 999);
    flex-grow: 1;
    min-width: 0;
    border-right: @totara_style-spacing_medium solid transparent;
    &:last-child {
        border-right: none;
    }

    &--sidebar {
        flex-grow: .4;
    }
}
